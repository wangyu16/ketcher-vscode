(self.webpackChunkchemical_editor=self.webpackChunkchemical_editor||[]).push([[966],{659(e,t,n){var r=n(51873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[l]=n:delete e[l]),o}},1882(e,t,n){var r=n(72552),o=n(23805);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3650(e,t,n){var r=n(74335)(Object.keys,Object);e.exports=r},3656(e,t,n){e=n.nmd(e);var r=n(9325),o=n(89935),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,l=a&&a.exports===i?r.Buffer:void 0,c=(l?l.isBuffer:void 0)||o;e.exports=c},4509(e,t,n){var r=n(12651);e.exports=function(e){return r(this,e).has(e)}},4664(e,t,n){var r=n(79770),o=n(63345),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=l},4901(e,t,n){var r=n(72552),o=n(30294),i=n(40346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},5128(e,t,n){var r=n(80909),o=n(64894);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},5861(e,t,n){var r=n(55580),o=n(68223),i=n(32804),a=n(76545),l=n(28303),c=n(72552),u=n(47473),s="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",m=u(r),v=u(o),g=u(i),y=u(a),b=u(l),x=c;(r&&x(new r(new ArrayBuffer(1)))!=h||o&&x(new o)!=s||i&&x(i.resolve())!=d||a&&x(new a)!=p||l&&x(new l)!=f)&&(x=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return h;case v:return s;case g:return d;case y:return p;case b:return f}return t}),e.exports=x},6966(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>ib});var r=n(80296),o=n(74848),i=n(28221),a=n(96540),l=(n(55655),n(4146),n(43174),n(71287),o.Fragment),c=function(e,t,n){return i.h.call(t,"css")?o.jsx(i.E,(0,i.c)(e,t),n):o.jsx(e,t,n)},u=function(e,t,n){return i.h.call(t,"css")?o.jsxs(i.E,(0,i.c)(e,t),n):o.jsxs(e,t,n)},s=n(71468),d=n(17437),p=n(76544),f=n(2543),h=n(44062),m=n(95913),v=n(18878),g=n(10423),y=n(98587),b=n(58168),x=n(54533),w=n(75659),A=n(34661),M=n(28466),C=n(26552),k=n(20973),O=n(60538),S=n(25669),j=n(11848),I=n(38413),P=n(31609);function _(e){return(0,P.Ay)("MuiDialog",e)}const E=(0,I.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),N=a.createContext({});var L=n(47419),D=n(44675);const T=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],B=(0,j.Ay)(L.A,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),z=(0,j.Ay)(C.A,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),R=(0,j.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${(0,M.A)(n.scroll)}`]]}})(({ownerState:e})=>(0,b.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),F=(0,j.Ay)(O.A,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${(0,M.A)(n.scroll)}`],t[`paperWidth${(0,M.A)(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>(0,b.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${E.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${E.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${E.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),H=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiDialog"}),r=(0,D.A)(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,BackdropComponent:u,BackdropProps:s,children:d,className:p,disableEscapeKeyDown:f=!1,fullScreen:h=!1,fullWidth:m=!1,maxWidth:v="sm",onBackdropClick:g,onClick:C,onClose:j,open:I,PaperComponent:P=O.A,PaperProps:E={},scroll:L="paper",TransitionComponent:H=k.A,transitionDuration:q=i,TransitionProps:W}=n,$=(0,y.A)(n,T),V=(0,b.A)({},n,{disableEscapeKeyDown:f,fullScreen:h,fullWidth:m,maxWidth:v,scroll:L}),U=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${(0,M.A)(n)}`],paper:["paper",`paperScroll${(0,M.A)(n)}`,`paperWidth${(0,M.A)(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,w.A)(a,_,t)})(V),Y=a.useRef(),G=(0,A.A)(c),Q=a.useMemo(()=>({titleId:G}),[G]);return(0,o.jsx)(z,(0,b.A)({className:(0,x.A)(U.root,p),closeAfterTransition:!0,components:{Backdrop:B},componentsProps:{backdrop:(0,b.A)({transitionDuration:q,as:u},s)},disableEscapeKeyDown:f,onClose:j,open:I,ref:t,onClick:e=>{C&&C(e),Y.current&&(Y.current=null,g&&g(e),j&&j(e,"backdropClick"))},ownerState:V},$,{children:(0,o.jsx)(H,(0,b.A)({appear:!0,in:I,timeout:q,role:"presentation"},W,{children:(0,o.jsx)(R,{className:(0,x.A)(U.container),onMouseDown:e=>{Y.current=e.target===e.currentTarget},ownerState:V,children:(0,o.jsx)(F,(0,b.A)({as:P,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":G},E,{className:(0,x.A)(U.paper,E.className),ownerState:V,children:(0,o.jsx)(N.Provider,{value:Q,children:d})}))})}))}))}),q=H;var W=n(39599);function $(e){return(0,P.Ay)("MuiTypography",e)}(0,I.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const V=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],U=(0,j.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,M.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>(0,b.A)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),Y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},G={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Q=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiTypography"}),r=(e=>G[e]||e)(n.color),i=(0,W.A)((0,b.A)({},n,{color:r})),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:s=!1,paragraph:d=!1,variant:p="body1",variantMapping:f=Y}=i,h=(0,y.A)(i,V),m=(0,b.A)({},i,{align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:s,paragraph:d,variant:p,variantMapping:f}),v=c||(d?"p":f[p]||Y[p])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e,l={root:["root",i,"inherit"!==e.align&&`align${(0,M.A)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,w.A)(l,$,a)})(m);return(0,o.jsx)(U,(0,b.A)({as:v,ref:t,ownerState:m,className:(0,x.A)(g.root,l)},h))}),K=Q;function X(e){return(0,P.Ay)("MuiDialogTitle",e)}const Z=(0,I.A)("MuiDialogTitle",["root"]),J=["className","id"],ee=(0,j.Ay)(K,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),te=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiDialogTitle"}),{className:r,id:i}=n,l=(0,y.A)(n,J),c=n,u=(e=>{const{classes:t}=e;return(0,w.A)({root:["root"]},X,t)})(c),{titleId:s=i}=a.useContext(N);return(0,o.jsx)(ee,(0,b.A)({component:"h2",className:(0,x.A)(u.root,r),ownerState:c,ref:t,variant:"h6",id:null!=i?i:s},l))});function ne(e){return(0,P.Ay)("MuiDialogContent",e)}(0,I.A)("MuiDialogContent",["root","dividers"]);const re=["className","dividers"],oe=(0,j.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,b.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Z.root} + &`]:{paddingTop:0}})),ie=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1}=n,a=(0,y.A)(n,re),l=(0,b.A)({},n,{dividers:i}),c=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,w.A)(r,ne,t)})(l);return(0,o.jsx)(oe,(0,b.A)({className:(0,x.A)(c.root,r),ownerState:l,ref:t},a))});function ae(e){return(0,P.Ay)("MuiDialogActions",e)}(0,I.A)("MuiDialogActions",["root","spacing"]);const le=["className","disableSpacing"],ce=(0,j.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,b.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),ue=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,a=(0,y.A)(n,le),l=(0,b.A)({},n,{disableSpacing:i}),c=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,w.A)(r,ae,t)})(l);return(0,o.jsx)(ce,(0,b.A)({className:(0,x.A)(c.root,r),ownerState:l,ref:t},a))});var se=n(11641),de=n(78303),pe=n(96356),fe=n(18740),he=n(32850),me=n(68081);const ve=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ge=(0,j.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${me.A.primary}`]:t.primary},{[`& .${me.A.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>(0,b.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),ye=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiListItemText"}),{children:r,className:i,disableTypography:l=!1,inset:c=!1,primary:u,primaryTypographyProps:s,secondary:d,secondaryTypographyProps:p}=n,f=(0,y.A)(n,ve),{dense:h}=a.useContext(he.A);let m=null!=u?u:r,v=d;const g=(0,b.A)({},n,{disableTypography:l,inset:c,primary:!!m,secondary:!!v,dense:h}),A=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e,a={root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,w.A)(a,me.b,t)})(g);return null==m||m.type===K||l||(m=(0,o.jsx)(K,(0,b.A)({variant:h?"body2":"body1",className:A.primary,component:null!=s&&s.variant?void 0:"span",display:"block"},s,{children:m}))),null==v||v.type===K||l||(v=(0,o.jsx)(K,(0,b.A)({variant:"body2",className:A.secondary,color:"text.secondary",display:"block"},p,{children:v}))),(0,o.jsxs)(ge,(0,b.A)({className:(0,x.A)(A.root,i),ownerState:g,ref:t},f,{children:[m,v]}))}),be=ye;var xe=n(61224),we=n(52848),Ae=n(1275);function Me(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Me(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Ce=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Me(e))&&(r&&(r+=" "),r+=t);return r};var ke=n(99495),Oe=n(33571),Se=n(82858);const je=["className","component"];var Ie=n(79071),Pe=n(58312);const _e=(0,I.A)("MuiBox",["root"]),Ee=(0,p.A)(),Ne=function(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,l=(0,ke.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Oe.A);return a.forwardRef(function(e,a){const c=(0,Se.A)(n),u=(0,W.A)(e),{className:s,component:d="div"}=u,p=(0,y.A)(u,je);return(0,o.jsx)(l,(0,b.A)({as:d,ref:a,className:Ce(s,i?i(r):r),theme:t&&c[t]||c},p))})}({themeId:Pe.A,defaultTheme:Ee,defaultClassName:_e.root,generateClassName:Ie.A.generate}),Le=Ne;var De=n(771);function Te(e){return(0,P.Ay)("MuiButtonGroup",e)}const Be=(0,I.A)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]);var ze=n(41848),Re=n(35132);const Fe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],He=(0,j.Ay)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Be.grouped}`]:t.grouped},{[`& .${Be.grouped}`]:t[`grouped${(0,M.A)(n.orientation)}`]},{[`& .${Be.grouped}`]:t[`grouped${(0,M.A)(n.variant)}`]},{[`& .${Be.grouped}`]:t[`grouped${(0,M.A)(n.variant)}${(0,M.A)(n.orientation)}`]},{[`& .${Be.grouped}`]:t[`grouped${(0,M.A)(n.variant)}${(0,M.A)(n.color)}`]},{[`& .${Be.firstButton}`]:t.firstButton},{[`& .${Be.lastButton}`]:t.lastButton},{[`& .${Be.middleButton}`]:t.middleButton},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})(({theme:e,ownerState:t})=>(0,b.A)({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${Be.grouped}`]:(0,b.A)({minWidth:40,"&:hover":(0,b.A)({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"}),[`& .${Be.firstButton},& .${Be.middleButton}`]:(0,b.A)({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${Be.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${Be.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:(0,De.X4)(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Be.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Be.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":(0,b.A)({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),[`& .${Be.lastButton},& .${Be.middleButton}`]:(0,b.A)({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1})})),qe=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiButtonGroup"}),{children:r,className:i,color:l="primary",component:c="div",disabled:u=!1,disableElevation:s=!1,disableFocusRipple:d=!1,disableRipple:p=!1,fullWidth:f=!1,orientation:h="horizontal",size:m="medium",variant:v="outlined"}=n,g=(0,y.A)(n,Fe),A=(0,b.A)({},n,{color:l,component:c,disabled:u,disableElevation:s,disableFocusRipple:d,disableRipple:p,fullWidth:f,orientation:h,size:m,variant:v}),C=(e=>{const{classes:t,color:n,disabled:r,disableElevation:o,fullWidth:i,orientation:a,variant:l}=e,c={root:["root",l,"vertical"===a&&"vertical",i&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${(0,M.A)(a)}`,`grouped${(0,M.A)(l)}`,`grouped${(0,M.A)(l)}${(0,M.A)(a)}`,`grouped${(0,M.A)(l)}${(0,M.A)(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,w.A)(c,Te,t)})(A),k=a.useMemo(()=>({className:C.grouped,color:l,disabled:u,disableElevation:s,disableFocusRipple:d,disableRipple:p,fullWidth:f,size:m,variant:v}),[l,u,s,d,p,f,m,v,C.grouped]),O=function(e){return a.Children.toArray(e).filter(e=>a.isValidElement(e))}(r),j=O.length,I=e=>{const t=0===e,n=e===j-1;return t&&n?"":t?C.firstButton:n?C.lastButton:C.middleButton};return(0,o.jsx)(He,(0,b.A)({as:c,role:"group",className:(0,x.A)(C.root,i),ref:t,ownerState:A},g,{children:(0,o.jsx)(ze.A.Provider,{value:k,children:O.map((e,t)=>(0,o.jsx)(Re.A.Provider,{value:I(t),children:e},t))})}))}),We=qe;var $e=n(51749),Ve=n(79329),Ue=n(33068),Ye=n(71547),Ge=n(74959);var Qe=n(87467);function Ke(e){return(0,P.Ay)("MuiSnackbarContent",e)}(0,I.A)("MuiSnackbarContent",["root","message","action"]);const Xe=["action","className","message","role"],Ze=(0,j.Ay)(O.A,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t="light"===e.palette.mode?.8:.98,n=(0,De.tL)(e.palette.background.default,t);return(0,b.A)({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Je=(0,j.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),et=(0,j.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),tt=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiSnackbarContent"}),{action:r,className:i,message:a,role:l="alert"}=n,c=(0,y.A)(n,Xe),u=n,s=(e=>{const{classes:t}=e;return(0,w.A)({root:["root"],action:["action"],message:["message"]},Ke,t)})(u);return(0,o.jsxs)(Ze,(0,b.A)({role:l,square:!0,elevation:6,className:(0,x.A)(s.root,i),ownerState:u,ref:t},c,{children:[(0,o.jsx)(Je,{className:s.message,ownerState:u,children:a}),r?(0,o.jsx)(et,{className:s.action,ownerState:u,children:r}):null]}))});function nt(e){return(0,P.Ay)("MuiSnackbar",e)}(0,I.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const rt=["onEnter","onExited"],ot=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],it=(0,j.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${(0,M.A)(n.anchorOrigin.vertical)}${(0,M.A)(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>(0,b.A)({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===t.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===t.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===t.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:(0,b.A)({},"top"===t.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===t.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===t.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===t.anchorOrigin.horizontal&&{right:24,left:"auto"})})),at=a.forwardRef(function(e,t){const n=(0,S.b)({props:e,name:"MuiSnackbar"}),r=(0,D.A)(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:l,anchorOrigin:{vertical:c,horizontal:u}={vertical:"bottom",horizontal:"left"},autoHideDuration:s=null,children:d,className:p,ClickAwayListenerProps:f,ContentProps:h,disableWindowBlurListener:m=!1,message:v,open:g,TransitionComponent:x=Qe.A,transitionDuration:A=i,TransitionProps:{onEnter:C,onExited:k}={}}=n,O=(0,y.A)(n.TransitionProps,rt),j=(0,y.A)(n,ot),I=(0,b.A)({},n,{anchorOrigin:{vertical:c,horizontal:u},autoHideDuration:s,disableWindowBlurListener:m,TransitionComponent:x,transitionDuration:A}),P=(e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${(0,M.A)(n.vertical)}${(0,M.A)(n.horizontal)}`]};return(0,w.A)(r,nt,t)})(I),{getRootProps:_,onClickAway:E}=function(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:i}=e,l=(0,Ue.A)();a.useEffect(()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==r||r(e,"escapeKeyDown")}},[o,r]);const c=(0,Ye.A)((e,t)=>{null==r||r(e,t)}),u=(0,Ye.A)(e=>{r&&null!=e&&l.start(e,()=>{c(null,"timeout")})});a.useEffect(()=>(o&&u(t),l.clear),[o,t,u,l]);const s=l.clear,d=a.useCallback(()=>{null!=t&&u(null!=i?i:.5*t)},[t,i,u]),p=e=>t=>{const n=e.onFocus;null==n||n(t),s()},f=e=>t=>{const n=e.onMouseEnter;null==n||n(t),s()},h=e=>t=>{const n=e.onMouseLeave;null==n||n(t),d()};return a.useEffect(()=>{if(!n&&o)return window.addEventListener("focus",d),window.addEventListener("blur",s),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",s)}},[n,o,d,s]),{getRootProps:(t={})=>{const n=(0,b.A)({},(0,Ge.A)(e),(0,Ge.A)(t));return(0,b.A)({role:"presentation"},t,n,{onBlur:(r=n,e=>{const t=r.onBlur;null==t||t(e),d()}),onFocus:p(n),onMouseEnter:f(n),onMouseLeave:h(n)});var r},onClickAway:e=>{null==r||r(e,"clickaway")}}}((0,b.A)({},I)),[N,L]=a.useState(!0),T=(0,Ve.A)({elementType:it,getSlotProps:_,externalForwardedProps:j,ownerState:I,additionalProps:{ref:t},className:[P.root,p]});return!g&&N?null:(0,o.jsx)(Ae.x,(0,b.A)({onClickAway:E},f,{children:(0,o.jsx)(it,(0,b.A)({},T,{children:(0,o.jsx)(x,(0,b.A)({appear:!0,in:g,timeout:A,direction:"top"===c?"down":"up",onEnter:(e,t)=>{L(!1),C&&C(e,t)},onExited:e=>{L(!0),k&&k(e)}},O,{children:d||(0,o.jsx)(tt,(0,b.A)({message:v,action:l},h))}))}))}))}),lt=at;var ct=n(90644),ut=n(64467),st=n(14644),dt=n(22325),pt=n(27346),ft=n(45458),ht=n(23029),mt=n(92901),vt=n(90179),gt=n.n(vt),yt=n(59387),bt=n(40961),xt=n(20053),wt=n(10467),At=n(54756),Mt=n.n(At),Ct=n(80045),kt=n(85692),Ot=n(332),St=n(75497),jt=n(4213),It=n(82284),Pt=n(47057),_t=n(58331),Et=n(36944),Nt=n.n(Et),Lt=n(55378),Dt=n.n(Lt),Tt=n(65606),Bt=Object.defineProperty,zt=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Ht=(e,t,n)=>t in e?Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qt=Symbol.for("immer-nothing"),Wt=Symbol.for("immer-draftable"),$t=Symbol.for("immer-state");function Vt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ut=Object.getPrototypeOf;function Yt(e){return!!e&&!!e[$t]}function Gt(e){var t;return!!e&&(Kt(e)||Array.isArray(e)||!!e[Wt]||!!(null==(t=e.constructor)?void 0:t[Wt])||tn(e)||nn(e))}var Qt=Object.prototype.constructor.toString();function Kt(e){if(!e||"object"!=typeof e)return!1;const t=Ut(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Qt}function Xt(e,t){0===Zt(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Zt(e){const t=e[$t];return t?t.type_:Array.isArray(e)?1:tn(e)?2:nn(e)?3:0}function Jt(e,t){return 2===Zt(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function en(e,t,n){const r=Zt(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function tn(e){return e instanceof Map}function nn(e){return e instanceof Set}function rn(e){return e.copy_||e.base_}function on(e,t){if(tn(e))return new Map(e);if(nn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Kt(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[$t];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Ut(e),t)}{const t=Ut(e);if(null!==t&&n)return((e,t)=>{for(var n in t||(t={}))Rt.call(t,n)&&Ht(e,n,t[n]);if(zt)for(var n of zt(t))Ft.call(t,n)&&Ht(e,n,t[n]);return e})({},e);const r=Object.create(t);return Object.assign(r,e)}}function an(e,t=!1){return cn(e)||Yt(e)||!Gt(e)||(Zt(e)>1&&(e.set=e.add=e.clear=e.delete=ln),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>an(t,!0))),e}function ln(){Vt(2)}function cn(e){return Object.isFrozen(e)}var un,sn={};function dn(e){const t=sn[e];return t||Vt(0),t}function pn(){return un}function fn(e,t){t&&(dn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hn(e){mn(e),e.drafts_.forEach(gn),e.drafts_=null}function mn(e){e===un&&(un=e.parent_)}function vn(e){return un={drafts_:[],parent_:un,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gn(e){const t=e[$t];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function yn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[$t].modified_&&(hn(t),Vt(4)),Gt(e)&&(e=bn(t,e),t.parent_||wn(t,e)),t.patches_&&dn("Patches").generateReplacementPatches_(n[$t].base_,e,t.patches_,t.inversePatches_)):e=bn(t,n,[]),hn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qt?e:void 0}function bn(e,t,n){if(cn(t))return t;const r=t[$t];if(!r)return Xt(t,(o,i)=>xn(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return wn(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let o=t,i=!1;3===r.type_&&(o=new Set(t),t.clear(),i=!0),Xt(o,(o,a)=>xn(e,r,t,o,a,n,i)),wn(e,t,!1),n&&e.patches_&&dn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function xn(e,t,n,r,o,i,a){if(Yt(o)){const a=bn(e,o,i&&t&&3!==t.type_&&!Jt(t.assigned_,r)?i.concat(r):void 0);if(en(n,r,a),!Yt(a))return;e.canAutoFreeze_=!1}else a&&n.add(o);if(Gt(o)&&!cn(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;bn(e,o),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||wn(e,o)}}function wn(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&an(t,n)}var An={get(e,t){if(t===$t)return e;const n=rn(e);if(!Jt(n,t))return function(e,t,n){var r;const o=kn(t,n);return o?"value"in o?o.value:null==(r=o.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Gt(r)?r:r===Cn(e.base_,t)?(Sn(e),e.copy_[t]=jn(r,e)):r},has:(e,t)=>t in rn(e),ownKeys:e=>Reflect.ownKeys(rn(e)),set(e,t,n){const r=kn(rn(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Cn(rn(e),t),o=null==r?void 0:r[$t];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||Jt(e.base_,t)))return!0;Sn(e),On(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Cn(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Sn(e),On(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=rn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Vt(11)},getPrototypeOf:e=>Ut(e.base_),setPrototypeOf(){Vt(12)}},Mn={};function Cn(e,t){const n=e[$t];return(n?rn(n):e)[t]}function kn(e,t){if(!(t in e))return;let n=Ut(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ut(n)}}function On(e){e.modified_||(e.modified_=!0,e.parent_&&On(e.parent_))}function Sn(e){e.copy_||(e.copy_=on(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function jn(e,t){const n=tn(e)?dn("MapSet").proxyMap_(e,t):nn(e)?dn("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:pn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=An;n&&(o=[r],i=Mn);const{revoke:a,proxy:l}=Proxy.revocable(o,i);return r.draft_=l,r.revoke_=a,l}(e,t);return(t?t.scope_:pn()).drafts_.push(n),n}function In(e){if(!Gt(e)||cn(e))return e;const t=e[$t];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=on(e,t.scope_.immer_.useStrictShallowCopy_)}else n=on(e,!0);return Xt(n,(e,t)=>{en(n,e,In(t))}),t&&(t.finalized_=!1),n}Xt(An,(e,t)=>{Mn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Mn.deleteProperty=function(e,t){return Mn.set.call(this,e,t,void 0)},Mn.set=function(e,t,n){return An.set.call(this,e[0],t,n,e[0])};var Pn=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...o){return r.produce(e,e=>t.call(this,e,...o))}}let r;if("function"!=typeof t&&Vt(6),void 0!==n&&"function"!=typeof n&&Vt(7),Gt(e)){const o=vn(this),i=jn(e,void 0);let a=!0;try{r=t(i),a=!1}finally{a?hn(o):mn(o)}return fn(o,n),yn(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===qt&&(r=void 0),this.autoFreeze_&&an(r,!0),n){const t=[],o=[];dn("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}Vt(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;Gt(e)||Vt(8),Yt(e)&&(Yt(t=e)||Vt(10),e=In(t));const n=vn(this),r=jn(e,void 0);return r[$t].isManual_=!0,mn(n),r}finishDraft(e,t){const n=e&&e[$t];n&&n.isManual_||Vt(9);const{scope_:r}=n;return fn(r,t),yn(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=dn("Patches").applyPatches_;return Yt(e)?r(e,t):this.produce(e,e=>r(e,t))}},_n=Pn.produce;Pn.produceWithPatches.bind(Pn),Pn.setAutoFreeze.bind(Pn),Pn.setUseStrictShallowCopy.bind(Pn),Pn.applyPatches.bind(Pn),Pn.createDraft.bind(Pn),Pn.finishDraft.bind(Pn);var En=Object.defineProperty,Nn=Object.defineProperties,Ln=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,Tn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,zn=(e,t,n)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rn=(e,t)=>{for(var n in t||(t={}))Tn.call(t,n)&&zn(e,n,t[n]);if(Dn)for(var n of Dn(t))Bn.call(t,n)&&zn(e,n,t[n]);return e},Fn="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?st.Zz:st.Zz.apply(null,arguments)};function Hn(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(er(0));return Rn(Rn({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>(0,st.ve)(t)&&t.type===e,n}var qn=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Wn(e){return Gt(e)?_n(e,()=>{}):e}function $n(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Vn=e=>t=>{setTimeout(t,e)};function Un(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=null!=e?e:{};let i=new qn;return t&&(function(e){return"boolean"==typeof e}(t)?i.push(pt.P):i.push((0,pt.Y)(t.extraArgument))),i},{reducer:n,middleware:r,devTools:o=!0,duplicateMiddlewareCheck:i=!0,preloadedState:a,enhancers:l}=e||{};let c,u;if("function"==typeof n)c=n;else{if(!(0,st.Qd)(n))throw new Error(er(1));c=(0,st.HY)(n)}u="function"==typeof r?r(t):t();let s=st.Zz;o&&(s=Fn(Rn({trace:!1},"object"==typeof o&&o)));const d=(e=>function(t){const{autoBatch:n=!0}=null!=t?t:{};let r=new qn(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,a=!1;const l=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Vn(10):"callback"===e.type?e.queueNotification:Vn(e.timeout),u=()=>{a=!1,i&&(i=!1,l.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>o&&e());return l.add(e),()=>{t(),l.delete(e)}},dispatch(e){var t;try{return o=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),i=!o,i&&(a||(a=!0,c(u))),r.dispatch(e)}finally{o=!0}}})})("object"==typeof n?n:void 0)),r})((0,st.Tw)(...u)),p=s(..."function"==typeof l?l(d):d());return(0,st.y$)(c,a,p)}function Yn(e){const t={},n=[];let r;const o={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(er(28));if(r in t)throw new Error(er(29));return t[r]=n,o},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),o),addDefaultCase:e=>(r=e,o)};return e(o),[t,n,r]}var Gn=Symbol.for("rtk-slice-createasyncthunk");function Qn(e,t){return`${e}/${t}`}function Kn({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[Gn];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(er(11));const o=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return Rn({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(o),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(er(12));if(n in a.sliceCaseReducersByType)throw new Error(er(13));return a.sliceCaseReducersByType[n]=t,l},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),l),exposeAction:(e,t)=>(a.actionCreators[e]=t,l),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,l)};function c(){const[t={},n=[],r]="function"==typeof e.extraReducers?Yn(e.extraReducers):[e.extraReducers],o=Rn(Rn({},t),a.sliceCaseReducersByType);return function(e){let t,[i,l,c]=Yn(e=>{for(let t in o)e.addCase(t,o[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)});if(function(e){return"function"==typeof e}(e))t=()=>Wn(e());else{const n=Wn(e);t=()=>n}function u(e=t(),n){let r=[i[n.type],...l.filter(({matcher:e})=>e(n)).map(({reducer:e})=>e)];return 0===r.filter(e=>!!e).length&&(r=[c]),r.reduce((e,t)=>{if(t){if(Yt(e)){const r=t(e,n);return void 0===r?e:r}if(Gt(e))return _n(e,e=>t(e,n));{const r=t(e,n);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return u.getInitialState=t,u}(e.initialState)}i.forEach(r=>{const i=o[r],a={reducerName:r,type:Qn(t,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function({type:e,reducerName:t,createNotation:n},r,o){let i,a;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(er(17));i=r.reducer,a=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?Hn(e,a):Hn(e))}(a,i,l):function({type:e,reducerName:t},n,r,o){if(!o)throw new Error(er(18));const{payloadCreator:i,fulfilled:a,pending:l,rejected:c,settled:u,options:s}=n,d=o(e,i,s);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a),l&&r.addCase(d.pending,l),c&&r.addCase(d.rejected,c),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Jn,pending:l||Jn,rejected:c||Jn,settled:u||Jn})}(a,i,l,n)});const u=e=>e,s=new Map,d=new WeakMap;let p;function f(e,t){return p||(p=c()),p(e,t)}function h(){return p||(p=c()),p.getInitialState()}function m(t,n=!1){function r(e){let o=e[t];return void 0===o&&n&&(o=$n(d,r,h)),o}function o(t=u){const r=$n(s,n,()=>new WeakMap);return $n(r,t,()=>{var r;const o={};for(const[i,a]of Object.entries(null!=(r=e.selectors)?r:{}))o[i]=Xn(a,t,()=>$n(d,t,h),n);return o})}return{reducerPath:t,getSelectors:o,get selectors(){return o(r)},selectSlice:r}}const v=(g=Rn({name:t,reducer:f,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:h},m(r)),Nn(g,Ln({injectInto(e,t={}){var n=t,{reducerPath:o}=n,i=((e,t)=>{var n={};for(var r in e)Tn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Dn)for(var r of Dn(e))t.indexOf(r)<0&&Bn.call(e,r)&&(n[r]=e[r]);return n})(n,["reducerPath"]);const a=null!=o?o:r;return e.inject({reducerPath:a,reducer:f},i),Rn(Rn({},v),m(a,!0))}})));var g;return v}}function Xn(e,t,n,r){function o(o,...i){let a=t(o);return void 0===a&&r&&(a=n()),e(a,...i)}return o.unwrapped=e,o}var Zn=Kn();function Jn(){}function er(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function tr(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nr(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rr(e){let t,n,r;function o(e,r,o=0,i=e.length){if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<0?o=t+1:i=t}while(o<i)}return o}return 2!==e.length?(t=tr,n=(t,n)=>tr(e(t),n),r=(t,n)=>e(t)-n):(t=e===tr||e===nr?e:or,n=e,r=e),{left:o,center:function(e,t,n=0,i=e.length){const a=o(e,t,n,i-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,o=0,i=e.length){if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<=0?o=t+1:i=t}while(o<i)}return o}}}function or(){return 0}const ir=rr(tr).right;rr(function(e){return null===e?NaN:+e}).center;var ar=ir;const lr=Math.sqrt(50),cr=Math.sqrt(10),ur=Math.sqrt(2);function sr(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=lr?10:i>=cr?5:i>=ur?2:1;let l,c,u;return o<0?(u=Math.pow(10,-o)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,o)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?sr(e,t,2*n):[l,c,u]}function dr(e,t,n){return sr(e=+e,t=+t,n=+n)[2]}function pr(e){return e}var fr=1e-6;function hr(e){return"translate("+e+",0)"}function mr(e){return"translate(0,"+e+")"}function vr(e){return t=>+e(t)}function gr(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function yr(){return!this.__axis}function br(e,t){var n=[],r=null,o=null,i=6,a=6,l=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===e||4===e?-1:1,s=4===e||2===e?"x":"y",d=1===e||3===e?hr:mr;function p(p){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,h=null==o?t.tickFormat?t.tickFormat.apply(t,n):pr:o,m=Math.max(i,0)+l,v=t.range(),g=+v[0]+c,y=+v[v.length-1]+c,b=(t.bandwidth?gr:vr)(t.copy(),c),x=p.selection?p.selection():p,w=x.selectAll(".domain").data([null]),A=x.selectAll(".tick").data(f,t).order(),M=A.exit(),C=A.enter().append("g").attr("class","tick"),k=A.select("line"),O=A.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(C),k=k.merge(C.append("line").attr("stroke","currentColor").attr(s+"2",u*i)),O=O.merge(C.append("text").attr("fill","currentColor").attr(s,u*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),p!==x&&(w=w.transition(p),A=A.transition(p),k=k.transition(p),O=O.transition(p),M=M.transition(p).attr("opacity",fr).attr("transform",function(e){return isFinite(e=b(e))?d(e+c):this.getAttribute("transform")}),C.attr("opacity",fr).attr("transform",function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:b(e))+c)})),M.remove(),w.attr("d",4===e||2===e?a?"M"+u*a+","+g+"H"+c+"V"+y+"H"+u*a:"M"+c+","+g+"V"+y:a?"M"+g+","+u*a+"V"+c+"H"+y+"V"+u*a:"M"+g+","+c+"H"+y),A.attr("opacity",1).attr("transform",function(e){return d(b(e)+c)}),k.attr(s+"2",u*i),O.attr(s,u*m).text(h),x.filter(yr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),x.each(function(){this.__axis=b})}return p.scale=function(e){return arguments.length?(t=e,p):t},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),p):n.slice()},p.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),p):r&&r.slice()},p.tickFormat=function(e){return arguments.length?(o=e,p):o},p.tickSize=function(e){return arguments.length?(i=a=+e,p):i},p.tickSizeInner=function(e){return arguments.length?(i=+e,p):i},p.tickSizeOuter=function(e){return arguments.length?(a=+e,p):a},p.tickPadding=function(e){return arguments.length?(l=+e,p):l},p.offset=function(e){return arguments.length?(c=+e,p):c},p}var xr={value:()=>{}};function wr(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ar(r)}function Ar(e){this._=e}function Mr(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Cr(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=xr,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ar.prototype=wr.prototype={constructor:Ar,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,l=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<l;)if(n=(e=i[a]).type)o[n]=Cr(o[n],e.name,t);else if(null==t)for(n in o)o[n]=Cr(o[n],e.name,null);return this}for(;++a<l;)if((n=(e=i[a]).type)&&(n=Mr(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ar(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var kr="http://www.w3.org/1999/xhtml",Or={svg:"http://www.w3.org/2000/svg",xhtml:kr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sr(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Or.hasOwnProperty(t)?{space:Or[t],local:e}:e}function jr(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===kr&&t.documentElement.namespaceURI===kr?t.createElement(e):t.createElementNS(n,e)}}function Ir(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pr(e){var t=Sr(e);return(t.local?Ir:jr)(t)}function _r(){}function Er(e){return null==e?_r:function(){return this.querySelector(e)}}function Nr(){return[]}function Lr(e){return null==e?Nr:function(){return this.querySelectorAll(e)}}function Dr(e){return function(){return this.matches(e)}}function Tr(e){return function(t){return t.matches(e)}}var Br=Array.prototype.find;function zr(){return this.firstElementChild}var Rr=Array.prototype.filter;function Fr(){return Array.from(this.children)}function Hr(e){return new Array(e.length)}function qr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Wr(e,t,n,r,o,i){for(var a,l=0,c=t.length,u=i.length;l<u;++l)(a=t[l])?(a.__data__=i[l],r[l]=a):n[l]=new qr(e,i[l]);for(;l<c;++l)(a=t[l])&&(o[l]=a)}function $r(e,t,n,r,o,i,a){var l,c,u,s=new Map,d=t.length,p=i.length,f=new Array(d);for(l=0;l<d;++l)(c=t[l])&&(f[l]=u=a.call(c,c.__data__,l,t)+"",s.has(u)?o[l]=c:s.set(u,c));for(l=0;l<p;++l)u=a.call(e,i[l],l,i)+"",(c=s.get(u))?(r[l]=c,c.__data__=i[l],s.delete(u)):n[l]=new qr(e,i[l]);for(l=0;l<d;++l)(c=t[l])&&s.get(f[l])===c&&(o[l]=c)}function Vr(e){return e.__data__}function Ur(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Yr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Gr(e){return function(){this.removeAttribute(e)}}function Qr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kr(e,t){return function(){this.setAttribute(e,t)}}function Xr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Zr(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Jr(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function eo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function to(e){return function(){this.style.removeProperty(e)}}function no(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ro(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function oo(e,t){return e.style.getPropertyValue(t)||eo(e).getComputedStyle(e,null).getPropertyValue(t)}function io(e){return function(){delete this[e]}}function ao(e,t){return function(){this[e]=t}}function lo(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function co(e){return e.trim().split(/^|\s+/)}function uo(e){return e.classList||new so(e)}function so(e){this._node=e,this._names=co(e.getAttribute("class")||"")}function po(e,t){for(var n=uo(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function fo(e,t){for(var n=uo(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function ho(e){return function(){po(this,e)}}function mo(e){return function(){fo(this,e)}}function vo(e,t){return function(){(t.apply(this,arguments)?po:fo)(this,e)}}function go(){this.textContent=""}function yo(e){return function(){this.textContent=e}}function bo(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function xo(){this.innerHTML=""}function wo(e){return function(){this.innerHTML=e}}function Ao(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Mo(){this.nextSibling&&this.parentNode.appendChild(this)}function Co(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ko(){return null}function Oo(){var e=this.parentNode;e&&e.removeChild(this)}function So(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jo(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Io(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Po(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,l=o.length;a<l;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function _o(e,t,n){var r=eo(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Eo(e,t){return function(){return _o(this,e,t)}}function No(e,t){return function(){return _o(this,e,t.apply(this,arguments))}}qr.prototype={constructor:qr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},so.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Lo=[null];function Do(e,t){this._groups=e,this._parents=t}function To(){return new Do([[document.documentElement]],Lo)}function Bo(e){return"string"==typeof e?new Do([[document.querySelector(e)]],[document.documentElement]):new Do([[e]],Lo)}function zo(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}Do.prototype=To.prototype={constructor:Do,select:function(e){"function"!=typeof e&&(e=Er(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,l=t[o],c=l.length,u=r[o]=new Array(c),s=0;s<c;++s)(i=l[s])&&(a=e.call(i,i.__data__,s,l))&&("__data__"in i&&(a.__data__=i.__data__),u[s]=a);return new Do(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):Lr(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,l=t[i],c=l.length,u=0;u<c;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),o.push(a));return new Do(r,o)},selectChild:function(e){return this.select(null==e?zr:function(e){return function(){return Br.call(this.children,e)}}("function"==typeof e?e:Tr(e)))},selectChildren:function(e){return this.selectAll(null==e?Fr:function(e){return function(){return Rr.call(this.children,e)}}("function"==typeof e?e:Tr(e)))},filter:function(e){"function"!=typeof e&&(e=Dr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],l=a.length,c=r[o]=[],u=0;u<l;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&c.push(i);return new Do(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Vr);var n=t?$r:Wr,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var i=o.length,a=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var s=r[u],d=o[u],p=d.length,f=Ur(e.call(s,s&&s.__data__,u,r)),h=f.length,m=l[u]=new Array(h),v=a[u]=new Array(h);n(s,d,m,v,c[u]=new Array(p),f,t);for(var g,y,b=0,x=0;b<h;++b)if(g=m[b]){for(b>=x&&(x=b+1);!(y=v[x])&&++x<h;);g._next=y||null}}return(a=new Do(a,r))._enter=l,a._exit=c,a},enter:function(){return new Do(this._enter||this._groups.map(Hr),this._parents)},exit:function(){return new Do(this._exit||this._groups.map(Hr),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),l=new Array(o),c=0;c<a;++c)for(var u,s=n[c],d=r[c],p=s.length,f=l[c]=new Array(p),h=0;h<p;++h)(u=s[h]||d[h])&&(f[h]=u);for(;c<o;++c)l[c]=n[c];return new Do(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Yr);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,l=n[i],c=l.length,u=o[i]=new Array(c),s=0;s<c;++s)(a=l[s])&&(u[s]=a);u.sort(t)}return new Do(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,l=i.length;a<l;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=Sr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Qr:Gr:"function"==typeof t?n.local?Jr:Zr:n.local?Xr:Kr)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?to:"function"==typeof t?ro:no)(e,t,null==n?"":n)):oo(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?io:"function"==typeof t?lo:ao)(e,t)):this.node()[e]},classed:function(e,t){var n=co(e+"");if(arguments.length<2){for(var r=uo(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?vo:t?ho:mo)(n,t))},text:function(e){return arguments.length?this.each(null==e?go:("function"==typeof e?bo:yo)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?xo:("function"==typeof e?Ao:wo)(e)):this.node().innerHTML},raise:function(){return this.each(Mo)},lower:function(){return this.each(Co)},append:function(e){var t="function"==typeof e?e:Pr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Pr(e),r=null==t?ko:"function"==typeof t?t:Er(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Oo)},clone:function(e){return this.select(e?jo:So)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=i.length;if(!(arguments.length<2)){for(l=t?Po:Io,r=0;r<a;++r)this.each(l(i[r],t,n));return this}var l=this.node().__on;if(l)for(var c,u=0,s=l.length;u<s;++u)for(r=0,c=l[u];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?No:Eo)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const Ro={passive:!1},Fo={capture:!0,passive:!1};function Ho(e){e.stopImmediatePropagation()}function qo(e){e.preventDefault(),e.stopImmediatePropagation()}var Wo=e=>()=>e;function $o(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:l,dx:c,dy:u,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:s}})}function Vo(e){return!e.ctrlKey&&!e.button}function Uo(){return this.parentNode}function Yo(e,t){return null==t?{x:e.x,y:e.y}:t}function Go(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qo(){var e,t,n,r,o=Vo,i=Uo,a=Yo,l=Go,c={},u=wr("start","drag","end"),s=0,d=0;function p(e){e.on("mousedown.drag",f).filter(l).on("touchstart.drag",v).on("touchmove.drag",g,Ro).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,l){if(!r&&o.call(this,a,l)){var c=b(this,i.call(this,a,l),a,l,"mouse");c&&(Bo(a.view).on("mousemove.drag",h,Fo).on("mouseup.drag",m,Fo),function(e){var t=e.document.documentElement,n=Bo(e).on("dragstart.drag",qo,Fo);"onselectstart"in t?n.on("selectstart.drag",qo,Fo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(a.view),Ho(a),n=!1,e=a.clientX,t=a.clientY,c("start",a))}}function h(r){if(qo(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}c.mouse("drag",r)}function m(e){Bo(e.view).on("mousemove.drag mouseup.drag",null),function(e,t){var n=e.document.documentElement,r=Bo(e).on("dragstart.drag",null);t&&(r.on("click.drag",qo,Fo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,n),qo(e),c.mouse("end",e)}function v(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,l=i.call(this,e,t),c=a.length;for(n=0;n<c;++n)(r=b(this,l,e,t,a[n].identifier,a[n]))&&(Ho(e),r("start",e,a[n]))}}function g(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=c[r[t].identifier])&&(qo(e),n("drag",e,r[t]))}function y(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=c[o[t].identifier])&&(Ho(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var l,d,f,h=u.copy(),m=zo(i||n,t);if(null!=(f=a.call(e,new $o("beforestart",{sourceEvent:n,target:p,identifier:o,active:s,x:m[0],y:m[1],dx:0,dy:0,dispatch:h}),r)))return l=f.x-m[0]||0,d=f.y-m[1]||0,function n(i,a,u){var v,g=m;switch(i){case"start":c[o]=n,v=s++;break;case"end":delete c[o],--s;case"drag":m=zo(u||a,t),v=s}h.call(i,e,new $o(i,{sourceEvent:a,subject:f,target:p,identifier:o,active:v,x:m[0]+l,y:m[1]+d,dx:m[0]-g[0],dy:m[1]-g[1],dispatch:h}),r)}}return p.filter=function(e){return arguments.length?(o="function"==typeof e?e:Wo(!!e),p):o},p.container=function(e){return arguments.length?(i="function"==typeof e?e:Wo(e),p):i},p.subject=function(e){return arguments.length?(a="function"==typeof e?e:Wo(e),p):a},p.touchable=function(e){return arguments.length?(l="function"==typeof e?e:Wo(!!e),p):l},p.on=function(){var e=u.on.apply(u,arguments);return e===u?p:e},p.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,p):Math.sqrt(d)},p}function Ko(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xo(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zo(){}$o.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Jo=.7,ei=1/Jo,ti="\\s*([+-]?\\d+)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oi=/^#([0-9a-f]{3,8})$/,ii=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),ai=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),li=new RegExp(`^rgba\\(${ti},${ti},${ti},${ni}\\)$`),ci=new RegExp(`^rgba\\(${ri},${ri},${ri},${ni}\\)$`),ui=new RegExp(`^hsl\\(${ni},${ri},${ri}\\)$`),si=new RegExp(`^hsla\\(${ni},${ri},${ri},${ni}\\)$`),di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pi(){return this.rgb().formatHex()}function fi(){return this.rgb().formatRgb()}function hi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=oi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?mi(t):3===n?new yi(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?vi(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?vi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ii.exec(e))?new yi(t[1],t[2],t[3],1):(t=ai.exec(e))?new yi(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=li.exec(e))?vi(t[1],t[2],t[3],t[4]):(t=ci.exec(e))?vi(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ui.exec(e))?Ci(t[1],t[2]/100,t[3]/100,1):(t=si.exec(e))?Ci(t[1],t[2]/100,t[3]/100,t[4]):di.hasOwnProperty(e)?mi(di[e]):"transparent"===e?new yi(NaN,NaN,NaN,0):null}function mi(e){return new yi(e>>16&255,e>>8&255,255&e,1)}function vi(e,t,n,r){return r<=0&&(e=t=n=NaN),new yi(e,t,n,r)}function gi(e,t,n,r){return 1===arguments.length?((o=e)instanceof Zo||(o=hi(o)),o?new yi((o=o.rgb()).r,o.g,o.b,o.opacity):new yi):new yi(e,t,n,null==r?1:r);var o}function yi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function bi(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}`}function xi(){const e=wi(this.opacity);return`${1===e?"rgb(":"rgba("}${Ai(this.r)}, ${Ai(this.g)}, ${Ai(this.b)}${1===e?")":`, ${e})`}`}function wi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ai(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mi(e){return((e=Ai(e))<16?"0":"")+e.toString(16)}function Ci(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oi(e,t,n,r)}function ki(e){if(e instanceof Oi)return new Oi(e.h,e.s,e.l,e.opacity);if(e instanceof Zo||(e=hi(e)),!e)return new Oi;if(e instanceof Oi)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,c=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=c<.5?i+o:2-i-o,a*=60):l=c>0&&c<1?0:a,new Oi(a,l,c,e.opacity)}function Oi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Si(e){return(e=(e||0)%360)<0?e+360:e}function ji(e){return Math.max(0,Math.min(1,e||0))}function Ii(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Ko(Zo,hi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pi,formatHex:pi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ki(this).formatHsl()},formatRgb:fi,toString:fi}),Ko(yi,gi,Xo(Zo,{brighter(e){return e=null==e?ei:Math.pow(ei,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Jo:Math.pow(Jo,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yi(Ai(this.r),Ai(this.g),Ai(this.b),wi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bi,formatHex:bi,formatHex8:function(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}${Mi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:xi,toString:xi})),Ko(Oi,function(e,t,n,r){return 1===arguments.length?ki(e):new Oi(e,t,n,null==r?1:r)},Xo(Zo,{brighter(e){return e=null==e?ei:Math.pow(ei,e),new Oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Jo:Math.pow(Jo,e),new Oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new yi(Ii(e>=240?e-240:e+120,o,r),Ii(e,o,r),Ii(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Oi(Si(this.h),ji(this.s),ji(this.l),wi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wi(this.opacity);return`${1===e?"hsl(":"hsla("}${Si(this.h)}, ${100*ji(this.s)}%, ${100*ji(this.l)}%${1===e?")":`, ${e})`}`}}));var Pi=e=>()=>e;function _i(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Pi(isNaN(e)?t:e)}var Ei=function e(t){var n=function(e){return 1===(e=+e)?_i:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Pi(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=gi(e)).r,(t=gi(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=_i(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Ni(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function Li(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=Hi(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function Di(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ti(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bi(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Hi(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var zi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ri=new RegExp(zi.source,"g");function Fi(e,t){var n,r,o,i=zi.lastIndex=Ri.lastIndex=0,a=-1,l=[],c=[];for(e+="",t+="";(n=zi.exec(e))&&(r=Ri.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,c.push({i:a,x:Ti(n,r)})),i=Ri.lastIndex;return i<t.length&&(o=t.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)l[(n=c[r]).i]=n.x(e);return l.join("")})}function Hi(e,t){var n,r=typeof t;return null==t||"boolean"===r?Pi(t):("number"===r?Ti:"string"===r?(n=hi(t))?(t=n,Ei):Fi:t instanceof hi?Ei:t instanceof Date?Di:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Ni:Array.isArray(t)?Li:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Bi:Ti)(e,t)}function qi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Wi,$i=180/Math.PI,Vi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ui(e,t,n,r,o,i){var a,l,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*$i,skewX:Math.atan(c)*$i,scaleX:a,scaleY:l}}function Yi(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var l=[],c=[];return i=e(i),a=e(a),function(e,r,o,i,a,l){if(e!==o||r!==i){var c=a.push("translate(",null,t,null,n);l.push({i:c-4,x:Ti(e,o)},{i:c-2,x:Ti(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,l,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Ti(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,l,c),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Ti(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,l,c),function(e,t,n,r,i,a){if(e!==n||t!==r){var l=i.push(o(i)+"scale(",null,",",null,")");a.push({i:l-4,x:Ti(e,n)},{i:l-2,x:Ti(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,l,c),i=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)l[(t=c[n]).i]=t.x(e);return l.join("")}}}var Gi,Qi,Ki=Yi(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Vi:Ui(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Xi=Yi(function(e){return null==e?Vi:(Wi||(Wi=document.createElementNS("http://www.w3.org/2000/svg","g")),Wi.setAttribute("transform",e),(e=Wi.transform.baseVal.consolidate())?Ui((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Vi)},", ",")",")"),Zi=0,Ji=0,ea=0,ta=0,na=0,ra=0,oa="object"==typeof performance&&performance.now?performance:Date,ia="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function aa(){return na||(ia(la),na=oa.now()+ra)}function la(){na=0}function ca(){this._call=this._time=this._next=null}function ua(e,t,n){var r=new ca;return r.restart(e,t,n),r}function sa(){na=(ta=oa.now())+ra,Zi=Ji=0;try{!function(){aa(),++Zi;for(var e,t=Gi;t;)(e=na-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Zi}()}finally{Zi=0,function(){for(var e,t,n=Gi,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Gi=t);Qi=e,pa(r)}(),na=0}}function da(){var e=oa.now(),t=e-ta;t>1e3&&(ra-=t,ta=e)}function pa(e){Zi||(Ji&&(Ji=clearTimeout(Ji)),e-na>24?(e<1/0&&(Ji=setTimeout(sa,e-oa.now()-ra)),ea&&(ea=clearInterval(ea))):(ea||(ta=oa.now(),ea=setInterval(da,1e3)),Zi=1,ia(sa)))}function fa(e,t,n){var r=new ca;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}ca.prototype=ua.prototype={constructor:ca,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?aa():+n)+(null==t?0:+t),this._next||Qi===this||(Qi?Qi._next=this:Gi=this,Qi=this),this._call=e,this._time=n,pa()},stop:function(){this._call&&(this._call=null,this._time=1/0,pa())}};var ha=wr("start","end","cancel","interrupt"),ma=[];function va(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(c){var u,s,d,p;if(1!==n.state)return l();for(u in o)if((p=o[u]).name===n.name){if(3===p.state)return fa(i);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[u]):+u<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[u])}if(fa(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),u=0,s=-1;u<d;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++s]=p);r.length=s+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=ua(function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:o,on:ha,tween:ma,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function ga(e,t){var n=ba(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ya(e,t){var n=ba(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ba(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xa(e,t){var n,r;return function(){var o=ya(this,e),i=o.tween;if(i!==n)for(var a=0,l=(r=n=i).length;a<l;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function wa(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=ya(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var l={name:t,value:n},c=0,u=o.length;c<u;++c)if(o[c].name===t){o[c]=l;break}c===u&&o.push(l)}i.tween=o}}function Aa(e,t,n){var r=e._id;return e.each(function(){var e=ya(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return ba(e,r).value[t]}}function Ma(e,t){var n;return("number"==typeof t?Ti:t instanceof hi?Ei:(n=hi(t))?(t=n,Ei):Fi)(e,t)}function Ca(e){return function(){this.removeAttribute(e)}}function ka(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Oa(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Sa(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function ja(e,t,n){var r,o,i;return function(){var a,l,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(l=c+"")?null:a===r&&l===o?i:(o=l,i=t(r=a,c));this.removeAttribute(e)}}function Ia(e,t,n){var r,o,i;return function(){var a,l,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(l=c+"")?null:a===r&&l===o?i:(o=l,i=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}function Pa(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function _a(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function Ea(e,t){return function(){ga(this,e).delay=+t.apply(this,arguments)}}function Na(e,t){return t=+t,function(){ga(this,e).delay=t}}function La(e,t){return function(){ya(this,e).duration=+t.apply(this,arguments)}}function Da(e,t){return t=+t,function(){ya(this,e).duration=t}}var Ta=To.prototype.constructor;function Ba(e){return function(){this.style.removeProperty(e)}}var za=0;function Ra(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Fa(){return++za}var Ha=To.prototype;Ra.prototype={constructor:Ra,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Er(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var l,c,u=r[a],s=u.length,d=i[a]=new Array(s),p=0;p<s;++p)(l=u[p])&&(c=e.call(l,l.__data__,p,u))&&("__data__"in l&&(c.__data__=l.__data__),d[p]=c,va(d[p],t,n,p,d,ba(l,n)));return new Ra(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Lr(e));for(var r=this._groups,o=r.length,i=[],a=[],l=0;l<o;++l)for(var c,u=r[l],s=u.length,d=0;d<s;++d)if(c=u[d]){for(var p,f=e.call(c,c.__data__,d,u),h=ba(c,n),m=0,v=f.length;m<v;++m)(p=f[m])&&va(p,t,n,m,f,h);i.push(f),a.push(c)}return new Ra(i,a,t,n)},selectChild:Ha.selectChild,selectChildren:Ha.selectChildren,filter:function(e){"function"!=typeof e&&(e=Dr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],l=a.length,c=r[o]=[],u=0;u<l;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&c.push(i);return new Ra(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),l=0;l<i;++l)for(var c,u=t[l],s=n[l],d=u.length,p=a[l]=new Array(d),f=0;f<d;++f)(c=u[f]||s[f])&&(p[f]=c);for(;l<r;++l)a[l]=t[l];return new Ra(a,this._parents,this._name,this._id)},selection:function(){return new Ta(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Fa(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],c=l.length,u=0;u<c;++u)if(a=l[u]){var s=ba(a,t);va(a,e,n,u,l,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Ra(r,this._parents,e,n)},call:Ha.call,nodes:Ha.nodes,node:Ha.node,size:Ha.size,empty:Ha.empty,each:Ha.each,on:function(e,t){var n=this._id;return arguments.length<2?ba(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?ga:ya;return function(){var a=i(this,e),l=a.on;l!==r&&(o=(r=l).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=Sr(e),r="transform"===n?Xi:Ma;return this.attrTween(e,"function"==typeof t?(n.local?Ia:ja)(n,r,Aa(this,"attr."+e,t)):null==t?(n.local?ka:Ca)(n):(n.local?Sa:Oa)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Sr(e);return this.tween(n,(r.local?Pa:_a)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Ki:Ma;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=oo(this,e),a=(this.style.removeProperty(e),oo(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,Ba(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=oo(this,e),l=n(this),c=l+"";return null==l&&(this.style.removeProperty(e),c=l=oo(this,e)),a===c?null:a===r&&c===o?i:(o=c,i=t(r=a,l))}}(e,r,Aa(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,l="end."+a;return function(){var c=ya(this,e),u=c.on,s=null==c.value[a]?i||(i=Ba(t)):void 0;u===n&&o===s||(r=(n=u).copy()).on(l,o=s),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=oo(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Aa(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=ba(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?xa:wa)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ea:Na)(t,e)):ba(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?La:Da)(t,e)):ba(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){ya(this,e).ease=t}}(t,e)):ba(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;ya(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var l={value:a},c={value:function(){0===--o&&i()}};n.each(function(){var n=ya(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),n.on=t}),0===o&&i()})},[Symbol.iterator]:Ha[Symbol.iterator]};var qa={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Wa(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}To.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}(this,e)})},To.prototype.transition=function(e){var t,n;e instanceof Ra?(t=e._id,e=e._name):(t=Fa(),(n=qa).time=aa(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],c=l.length,u=0;u<c;++u)(a=l[u])&&va(a,e,t,u,l,n||Wa(a,t));return new Ra(r,this._parents,e,t)};const $a=Math.PI,Va=2*$a,Ua=1e-6,Ya=Va-Ua;function Ga(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Qa{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Ga:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ga;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,o,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+o},${this._y1=+i}`}arcTo(e,t,n,r,o){if(e=+e,t=+t,n=+n,r=+r,(o=+o)<0)throw new Error(`negative radius: ${o}`);let i=this._x1,a=this._y1,l=n-e,c=r-t,u=i-e,s=a-t,d=u*u+s*s;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Ua)if(Math.abs(s*l-c*u)>Ua&&o){let p=n-i,f=r-a,h=l*l+c*c,m=p*p+f*f,v=Math.sqrt(h),g=Math.sqrt(d),y=o*Math.tan(($a-Math.acos((h+d-m)/(2*v*g)))/2),b=y/g,x=y/v;Math.abs(b-1)>Ua&&this._append`L${e+b*u},${t+b*s}`,this._append`A${o},${o},0,0,${+(s*p>u*f)},${this._x1=e+x*l},${this._y1=t+x*c}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,o,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),l=n*Math.sin(r),c=e+a,u=t+l,s=1^i,d=i?r-o:o-r;null===this._x1?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ua||Math.abs(this._y1-u)>Ua)&&this._append`L${c},${u}`,n&&(d<0&&(d=d%Va+Va),d>Ya?this._append`A${n},${n},0,1,${s},${e-a},${t-l}A${n},${n},0,1,${s},${this._x1=c},${this._y1=u}`:d>Ua&&this._append`A${n},${n},0,${+(d>=$a)},${s},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Ka(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xa(e){return(e=Ka(Math.abs(e)))?e[1]:NaN}var Za,Ja=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function el(e){if(!(t=Ja.exec(e)))throw new Error("invalid format: "+e);var t;return new tl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function tl(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function nl(e,t){var n=Ka(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}el.prototype=tl.prototype,tl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var rl={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nl(100*e,t),r:nl,s:function(e,t){var n=Ka(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(Za=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ka(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ol(e){return e}var il,al,ll,cl=Array.prototype.map,ul=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function dl(e){return+e}il=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ol:(t=cl.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,l=t[0],c=0;o>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(e.substring(o-=l,o+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?ol:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(cl.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"":e.minus+"",s=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=el(e)).fill,n=e.align,d=e.sign,p=e.symbol,f=e.zero,h=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):rl[y]||(void 0===v&&(v=12),g=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===p?o:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===p?i:/[%p]/.test(y)?c:"",w=rl[y],A=/[defgprs%]/.test(y);function M(e){var o,i,c,p=b,M=x;if("c"===y)M=w(e)+M,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?s:w(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==d&&(C=!1),p=(C?"("===d?d:u:"-"===d||"("===d?"":d)+p,M=("s"===y?ul[8+Za/3]:"")+M+(C&&"("===d?")":""),A)for(o=-1,i=e.length;++o<i;)if(48>(c=e.charCodeAt(o))||c>57){M=(46===c?a+e.slice(o+1):e.slice(o))+M,e=e.slice(0,o);break}}m&&!f&&(e=r(e,1/0));var k=p.length+e.length+M.length,O=k<h?new Array(h-k+1).join(t):"";switch(m&&f&&(e=r(O+e,O.length?h-M.length:1/0),O=""),n){case"<":e=p+e+M+O;break;case"=":e=p+O+e+M;break;case"^":e=O.slice(0,k=O.length>>1)+p+e+M+O.slice(k);break;default:e=O+p+e+M}return l(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return e+""},M}return{format:d,formatPrefix:function(e,t){var n=d(((e=el(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Xa(t)/3))),o=Math.pow(10,-r),i=ul[8+r/3];return function(e){return n(o*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),al=il.format,ll=il.formatPrefix;var pl,fl,hl=[0,1];function ml(e){return e}function vl(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function gl(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=vl(o,r),i=n(a,i)):(r=vl(r,o),i=n(i,a)),function(e){return i(r(e))}}function yl(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=vl(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=ar(e,t,1,r)-1;return i[n](o[n](t))}}function bl(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[o,i,a]=r?sr(t,e,n):sr(e,t,n);if(!(i>=o))return[];const l=i-o+1,c=new Array(l);if(r)if(a<0)for(let e=0;e<l;++e)c[e]=(i-e)/-a;else for(let e=0;e<l;++e)c[e]=(i-e)*a;else if(a<0)for(let e=0;e<l;++e)c[e]=(o+e)/-a;else for(let e=0;e<l;++e)c[e]=(o+e)*a;return c}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var o,i=function(e,t,n){n=+n;const r=(t=+t)<(e=+e),o=r?dr(t,e,n):dr(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}(e,t,n);switch((r=el(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xa(t)/3)))-Xa(Math.abs(e)))}(i,a))||(r.precision=o),ll(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xa(t)-Xa(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-Xa(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return al(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,l=i.length-1,c=i[a],u=i[l],s=10;for(u<c&&(o=c,c=u,u=o,o=a,a=l,l=o);s-- >0;){if((o=dr(c,u,n))===r)return i[a]=c,i[l]=u,t(i);if(o>0)c=Math.floor(c/o)*o,u=Math.ceil(u/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,u=Math.floor(u*o)/o}r=o}return e},e}function xl(){var e=function(){var e,t,n,r,o,i,a=hl,l=hl,c=Hi,u=ml;function s(){var e,t,n,c=Math.min(a.length,l.length);return u!==ml&&(e=a[0],t=a[c-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),r=c>2?yl:gl,o=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),l,c)))(e(u(t)))}return d.invert=function(n){return u(t((i||(i=r(l,a.map(e),Ti)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,dl),s()):a.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),s()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),c=qi,s()},d.clamp=function(e){return arguments.length?(u=!!e||ml,s()):u!==ml},d.interpolate=function(e){return arguments.length?(c=e,s()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,s()}}()(ml,ml);return e.copy=function(){return t=e,xl().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},sl.apply(e,arguments),bl(e)}function wl(e){return function(){return e}}function Al(e){this._context=e}function Ml(e){return new Al(e)}function Cl(e){return e[0]}function kl(e){return e[1]}function Ol(e,t,n){this.k=e,this.x=t,this.y=n}Al.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Ol.prototype={constructor:Ol,scale:function(e){return 1===e?this:new Ol(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ol(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ol(1,0,0),Ol.prototype,function(e){e.Monomer="monomer",e.Preset="preset",e.Bond="bond",e.AmbiguousMonomer="ambiguousMonomer"}(pl||(pl={})),function(e){e.Library="library",e.ChainStart="chainStart",e.ChainMiddle="chainMiddle",e.ChainEnd="chainEnd"}(fl||(fl={}));var Sl,jl="select-submenu";function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(e){e.nanoMol="nM",e.microMol="M",e.milliMol="mM"}(Sl||(Sl={}));var _l=(0,ut.A)((0,ut.A)((0,ut.A)({},Sl.nanoMol,Math.pow(10,9)),Sl.microMol,Math.pow(10,6)),Sl.milliMol,Math.pow(10,3)),El=Zn({name:"editor",initialState:{ketcherId:"",isReady:null,activeTool:"select",editor:void 0,editorLayoutMode:void 0,editorLineLength:h.Vru.editorLineLength,preview:{type:pl.Monomer,monomer:void 0,style:{}},position:void 0,isContextMenuActive:!1,isMacromoleculesPropertiesWindowOpened:!1,macromoleculesProperties:void 0,unipositiveIonsMeasurementUnit:Sl.milliMol,oligonucleotidesMeasurementUnit:Sl.microMol,unipositiveIonsValue:140,oligonucleotidesValue:200,app:{buildDate:"2025-12-18T12:45:43",indigoVersion:Tt.env.INDIGO_VERSION||"",indigoMachine:Tt.env.INDIGO_MACHINE||"",version:"3.12.0-dev.1"},selectedMenuGroupItems:{}},reducers:{init:function(e){e.isReady=!1},initKetcherId:function(e,t){e.ketcherId=t.payload},initSuccess:function(e){e.isReady=!0},initFailure:function(e){e.isReady=!1},selectTool:function(e,t){e.activeTool=t.payload},setPosition:function(e,t){e.position=t.payload},createEditor:function(e,t){var n,r,o=new h.JxB({theme:t.payload.theme,canvas:t.payload.canvas,monomersLibraryUpdate:t.payload.monomersLibraryUpdate,monomersLibraryReplace:t.payload.monomersLibraryReplace});e.editor=o,null===(n=(r=t.payload).onInit)||void 0===n||n.call(r,o)},destroyEditor:function(e){var t,n;e.editorLayoutMode=null===(t=e.editor)||void 0===t?void 0:t.mode.modeName,null===(n=e.editor)||void 0===n||n.destroy(),e.editor=void 0},showPreview:function(e,t){e.preview=t.payload||{monomer:void 0,style:""}},setContextMenuActive:function(e,t){e.isContextMenuActive=t.payload},setMacromoleculesPropertiesWindowVisibility:function(e,t){e.isMacromoleculesPropertiesWindowOpened=t.payload},toggleMacromoleculesPropertiesWindowVisibility:function(e){e.isMacromoleculesPropertiesWindowOpened=!e.isMacromoleculesPropertiesWindowOpened},setMacromoleculesProperties:function(e,t){e.macromoleculesProperties=t.payload},setUnipositiveIonsMeasurementUnit:function(e,t){e.unipositiveIonsMeasurementUnit=t.payload},setOligonucleotidesMeasurementUnit:function(e,t){e.oligonucleotidesMeasurementUnit=t.payload},setEditorLineLength:function(e,t){e.editorLineLength=Pl(Pl({},e.editorLineLength),t.payload)},setUnipositiveIonsValue:function(e,t){e.unipositiveIonsValue=t.payload},setOligonucleotidesValue:function(e,t){e.oligonucleotidesValue=t.payload},setAppMeta:function(e,t){e.app=t.payload},setSelectedMenuGroupItem:function(e,t){e.selectedMenuGroupItems=Pl(Pl({},e.selectedMenuGroupItems),{},(0,ut.A)({},t.payload.groupName,t.payload.activeItemName))}}}),Nl=El.actions;Nl.init,Nl.initSuccess,Nl.initFailure;var Ll=Nl.initKetcherId,Dl=Nl.selectTool;Nl.setPosition;var Tl,Bl,zl=Nl.createEditor,Rl=Nl.destroyEditor,Fl=Nl.showPreview,Hl=Nl.setContextMenuActive,ql=Nl.setMacromoleculesPropertiesWindowVisibility,Wl=Nl.toggleMacromoleculesPropertiesWindowVisibility,$l=Nl.setMacromoleculesProperties,Vl=Nl.setUnipositiveIonsMeasurementUnit,Ul=Nl.setOligonucleotidesMeasurementUnit,Yl=Nl.setEditorLineLength,Gl=Nl.setUnipositiveIonsValue,Ql=Nl.setOligonucleotidesValue,Kl=Nl.setAppMeta,Xl=Nl.setSelectedMenuGroupItem,Zl=function(e){return e.editor.preview},Jl=function(e){return e.editor.activeTool},ec=function(e){return e.editor.ketcherId},tc=function(e){return e.editor.editor},nc=function(e){var t;return null===(t=e.editor.editor)||void 0===t?void 0:t.isSequenceEditInRNABuilderMode},rc=function(e){var t;return null===(t=e.editor.editor)||void 0===t?void 0:t.isSequenceMode},oc=function(e){return e.editor.editorLayoutMode},ic=function(e){var t;return null===(t=e.editor.editor)||void 0===t?void 0:t.isHandToolSelected},ac=function(e){var t;return null===(t=e.editor.editor)||void 0===t||null===(t=t.drawingEntitiesManager)||void 0===t?void 0:t.hasAntisenseChains},lc=function(e){return e.editor.isContextMenuActive},cc=function(e){return e.editor.isMacromoleculesPropertiesWindowOpened},uc=function(e){return e.editor.macromoleculesProperties},sc=function(e){return e.editor.unipositiveIonsMeasurementUnit},dc=function(e){return e.editor.oligonucleotidesMeasurementUnit},pc=function(e){return e.editor.unipositiveIonsValue},fc=function(e){return e.editor.oligonucleotidesValue},hc=function(e){return e.editor.editorLineLength},mc=function(e){return e.editor.app},vc=function(e){return e.editor.selectedMenuGroupItems[jl]||"select-rectangle"},gc=El.reducer,yc="FAVORITES",bc="PEPTIDE",xc="CHEM";!function(e){e.SUGARS="Sugars",e.BASES="Bases",e.PHOSPHATES="Phosphates",e.PEPTIDES="Amino Acids",e.NUCLEOTIDES="Nucleotides"}(Tl||(Tl={})),function(e){e.R="R",e.A="A",e.C="C",e.G="G",e.T="T",e.U="U",e.X="X",e.P="P"}(Bl||(Bl={})),Tl.SUGARS,Tl.BASES,Tl.BASES,Tl.BASES,Tl.BASES,Tl.BASES,Tl.BASES,Tl.PHOSPHATES;var wc="favoriteItemsUniqueKeys",Ac="ketcher_custom_presets",Mc="thymine",Cc="uracil",kc=new(function(){function e(){(0,ht.A)(this,e),this.localStorage=window.localStorage}return(0,mt.A)(e,[{key:"getItem",value:function(e){var t=this.localStorage.getItem(e);return t?JSON.parse(t):null}},{key:"setItem",value:function(e,t){this.localStorage.setItem(e,JSON.stringify(t))}},{key:"removeItem",value:function(e){this.localStorage.removeItem(e)}}]),e}());function Oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var jc=(0,ut.A)((0,ut.A)({},h.uP8.PEPTIDES,h.IPc.AminoAcid),h.uP8.BASES,h.IPc.Base);function Ic(e){var t;return(0,h.eoH)(e)?e.id||e.label:"".concat(e.props.MonomerName,"___").concat(null===(t=e.props)||void 0===t?void 0:t.Name)}function Pc(e){var t,n,r;return"".concat(e.name,"_").concat((null===(t=e.base)||void 0===t?void 0:t.label)||".","_").concat((null===(n=e.sugar)||void 0===n?void 0:n.label)||".","_").concat((null===(r=e.phosphate)||void 0===r?void 0:r.label)||".")}var _c=Zn({name:"library",initialState:{monomers:[],defaultRnaPresets:[],favorites:{},searchFilter:"",selectedTabIndex:2},reducers:{loadMonomerLibrary:function(e,t){var n=t.payload.map(function(e){return Sc(Sc({},e),{},{props:Sc({},e.props)})});e.monomers=n},loadDefaultPresets:function(e,t){e.defaultRnaPresets=t.payload.map(function(e){return Sc({},e)})},setFavoriteMonomersFromLocalStorage:function(e){var t={},n=kc.getItem(wc);n&&Array.isArray(n)&&(e.monomers.forEach(function(e){var r=Ic(e);n.find(function(e){return e===r})&&(t[r]=Sc(Sc({},e),{},{favorite:!0}))}),e.favorites=t)},clearFavorites:function(e){e.favorites={}},toggleMonomerFavorites:function(e,t){var n=Ic(t.payload),r=kc.getItem(wc)||[];e.favorites[n]?(delete e.favorites[n],kc.setItem(wc,r.filter(function(e){return e!==n}))):(e.favorites[n]=Sc(Sc({},t.payload),{},{favorite:!0}),r.push(n),kc.setItem(wc,r))},setSearchFilter:function(e,t){e.searchFilter=t.payload},setSelectedTabIndex:function(e,t){e.selectedTabIndex=t.payload}}}),Ec=_c.actions,Nc=Ec.loadMonomerLibrary,Lc=Ec.loadDefaultPresets,Dc=Ec.setFavoriteMonomersFromLocalStorage;Ec.clearFavorites;var Tc=Ec.toggleMonomerFavorites,Bc=Ec.setSearchFilter,zc=Ec.setSelectedTabIndex,Rc=function(e,t){return e.filter(function(e){var n;return!e.isAmbiguous&&(null===(n=e.props)||void 0===n?void 0:n.MonomerType)===t})},Fc=function(e,t){var n=e.filter(function(e){if(!(0,h.eoH)(e))return!1;var n=new h.cN8(e,void 0,!1);return jc[t]===n.monomerClass});if(0===n.length)return[];var r=[];t===h.uP8.BASES?r=[{groupTitle:"Ambiguous Bases",groupItems:n.filter(function(e){return(0,h.eoH)(e)&&e.options.every(function(e){return!e.templateId.toLowerCase().includes(Mc)&&!e.templateId.toLowerCase().includes(Cc)})})},{groupTitle:"Ambiguous DNA Bases",groupItems:n.filter(function(e){return(0,h.eoH)(e)&&e.options.find(function(e){return e.templateId.toLowerCase().includes(Mc)})})},{groupTitle:"Ambiguous RNA Bases",groupItems:n.filter(function(e){return(0,h.eoH)(e)&&e.options.find(function(e){return e.templateId.toLowerCase().includes(Cc)})})}]:r.push({groupTitle:"Ambiguous ".concat(t),groupItems:n});var o=["X","N"];return r.forEach(function(e){e.groupItems.sort(function(e,t){return e.label.localeCompare(t.label)}),e.groupItems.sort(function(e){return o.includes(e.label)?-1:1})}),r},Hc=function(e){return e.filter(function(e){return e.favorite&&!e.isAmbiguous})},qc=(0,dt.Mz)(function(e){return e.library},function(e){var t=e.searchFilter,n=e.monomers,r=e.favorites,o=t.toLowerCase(),i=function(e,t){var n,r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"").toLowerCase(),s=i.toLowerCase(),d=null==e||null===(n=e.base)||void 0===n?void 0:n.toLowerCase(),p=null!=e&&e.modifications?Object.values(e.modifications).map(function(e){return e.toLowerCase()}).join(" "):"",f=null!==(r=null==a?void 0:a.toLowerCase())&&void 0!==r?r:"",h=null!==(o=null==l?void 0:l.toLowerCase())&&void 0!==o?o:"",m=c&&c.length>0?c.map(function(e){return e.toLowerCase()}).join(" "):"";if("/"===t)return Boolean(d||p);if(t.includes("/")){var v=t.split("/");if(v.length>3||3===v.length&&""!==v[2])return!1;if(3===v.length&&""!==v[1]){var g=v[1],y=(null==d?void 0:d.length)===g.length&&Array.from(d).every(function(e,t){return e===g[t]}),b=!!p&&p.split(" ").some(function(e){return e.length===g.length&&Array.from(e).every(function(e,t){return e===g[t]})});return y||b}var x=v[0],w=v[1];if(t.startsWith("/")&&t.length>1){var A=t.slice(1);return(null==d?void 0:d.startsWith(A))||(null==p?void 0:p.split(" ").some(function(e){return e.startsWith(A)}))}if(t.endsWith("/")&&t.length>1){var M=t.slice(0,-1);return(null==d?void 0:d.endsWith(M))||p&&p.split(" ").some(function(e){return e.endsWith(M)})}var C=(null==d?void 0:d.startsWith(w))&&(null==d?void 0:d.endsWith(x)),k=!!p&&p.split(" ").some(function(e){return e.startsWith(w)&&e.endsWith(x)});return C||k}var O=!!d&&d.includes(t),S=!!p&&p.includes(t),j=!!f&&f.includes(t),I=!!h&&h.includes(t),P=!!m&&m.includes(t);return u.includes(t)||s.includes(t)||O||S||j||I||P};return n.filter(function(e){var t;if(!e.isAmbiguous&&null!==(t=e.props)&&void 0!==t&&t.hidden)return!1;if(e.isAmbiguous){var n=e.label,r=e.id,a=e.idtAliases,l=e.monomers;return i(a,o,n,r)||l.some(function(e){var t=e.monomerItem.props,n=t.Name,r=t.MonomerName,a=t.idtAliases,l=t.aliasHELM,c=t.aliasAxoLabs,u=t.modificationTypes;return i(a,o,n,r,l,c,u)})}var c=e.props,u=c.Name,s=c.MonomerName,d=c.idtAliases,p=c.aliasHELM,f=c.aliasAxoLabs,h=c.modificationTypes;return i(d,o,u,s,p,f,h)}).map(function(e){return Sc(Sc({},e),{},{favorite:!!r[Ic(e)]})})}),Wc=function(e){var t=e.reduce(function(e,t){var n=t.props.MonomerNaturalAnalogCode||"Z";return e[n]||(e[n]=[]),e[n].push(Sc(Sc({},t),{},{label:t.props.MonomerName})),e},{}),n=Object.entries(t).reduce(function(e,t){var n=(0,r.A)(t,2),o=n[0],i=n[1],a=(0,ft.A)(i);a.sort(function(e,t){return e.label.localeCompare(t.label)});var l=a.findIndex(function(e){return e.label===o});if(-1!==l){var c=a.splice(l,1);a.unshift(c[0])}return e[o]=a,e},{}),o=Object.keys(n);return o.sort(function(e,t){return e.localeCompare(t)}),o.reduce(function(e,t){var r={groupTitle:"Z"===t?"No natural analogue":t,groupItems:[]};return n[t].forEach(function(e){r.groupItems.push(Sc(Sc({},e),{},{props:Sc({},e.props)}))}),r.groupItems.length&&e.push(r),e},[])},$c=function(e){return e.library.selectedTabIndex},Vc=_c.reducer,Uc=function(e){return e.library.defaultRnaPresets},Yc=Zn({name:"modal",initialState:{name:null,isOpen:!1,additionalProps:null,errorTooltipText:"",errorModalText:"",errorModalTitle:""},reducers:{openModal:function(e,t){"string"==typeof t.payload?e.name=t.payload:(e.name=t.payload.name,e.additionalProps=t.payload.additionalProps),e.isOpen=!0},closeModal:function(e){e.name=null,e.isOpen=!1,e.additionalProps=null},openErrorTooltip:function(e,t){e.errorTooltipText=t.payload},closeErrorTooltip:function(e){e.errorTooltipText=""},openErrorModal:function(e,t){if("string"==typeof t.payload)e.errorModalText=t.payload;else{var n=t.payload,r=n.errorMessage,o=n.errorTitle;e.errorModalText=r,e.errorModalTitle=o}},closeErrorModal:function(e){e.errorModalText=""}}}),Gc=Yc.actions,Qc=Gc.openModal,Kc=Gc.closeModal,Xc=Gc.openErrorTooltip,Zc=Gc.closeErrorTooltip,Jc=Gc.openErrorModal,eu=Gc.closeErrorModal,tu=function(e){return e.modal.name},nu=function(e){return e.modal.isOpen},ru=function(e){return e.modal.additionalProps},ou=function(e){return e.modal.errorTooltipText},iu=function(e){return e.modal.errorModalText},au=function(e){return e.modal.errorModalTitle},lu=Yc.reducer;function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var uu,su=function(){return kc.getItem(Ac)},du=function(e){var t,n=su();return null!==(t=null==n?void 0:n.findIndex(function(t){return t.name===e}))&&void 0!==t?t:-1},pu=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),n=su()||[],r=du(t.nameInList);t.nameInList=t.name,r>-1?(n.splice(r,1,t),kc.setItem(Ac,n)):kc.setItem(Ac,[].concat((0,ft.A)(n),[t]))};function fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fu(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(e){e.Presets="Presets"}(uu||(uu={}));var mu={activePreset:null,sequenceSelection:void 0,sequenceSelectionName:void 0,isSequenceFirstsOnlyNucleoelementsSelected:void 0,activePresetMonomerGroup:null,groupItemValidations:(0,ut.A)((0,ut.A)((0,ut.A)({},Tl.BASES,[]),Tl.SUGARS,[]),Tl.PHOSPHATES,[]),presetsDefault:[],presetsCustom:[],activeRnaBuilderItem:null,activeMonomerKey:null,isEditMode:!1,uniqueNameError:"",invalidPresetError:"",activePresetForContextMenu:null},vu=(0,ut.A)((0,ut.A)((0,ut.A)({},Tl.BASES,"base"),Tl.SUGARS,"sugar"),Tl.PHOSPHATES,"phosphate"),gu=Zn({name:"rna-builder",initialState:mu,reducers:{createNewPreset:function(e){e.activePreset={base:void 0,sugar:void 0,phosphate:void 0,name:"",nameInList:""}},setActivePreset:function(e,t){e.activePreset=hu(hu({},t.payload),{},{nameInList:t.payload.name})},setSequenceSelection:function(e,t){e.sequenceSelection=(0,ft.A)(t.payload)},setSequenceSelectionName:function(e,t){e.sequenceSelectionName=t.payload},setIsSequenceFirstsOnlyNucleoelementsSelected:function(e,t){e.isSequenceFirstsOnlyNucleoelementsSelected=t.payload},setActivePresetForContextMenu:function(e,t){e.activePresetForContextMenu=t.payload},setActivePresetName:function(e,t){e.activePreset.name=t.payload},setActiveRnaBuilderItem:function(e,t){e.activeRnaBuilderItem=t.payload},recalculateRnaBuilderValidations:function(e,t){var n=function(e,t){var n,r,o=[],i=[],a=[];return t&&(null!=e&&e.sugar||null!=e&&e.phosphate||null!=e&&e.base)?(null!=e&&e.phosphate&&o.push("R2"),null!=e&&e.base&&o.push("R3"),a.push("R1"),null!=e&&null!==(n=e.sugar)&&void 0!==n&&null!==(n=n.props)&&void 0!==n&&n.MonomerCaps&&!("R3"in e.sugar.props.MonomerCaps)&&a.push("DISABLED"),i.push("R1"),null!=e&&null!==(r=e.sugar)&&void 0!==r&&null!==(r=r.props)&&void 0!==r&&r.MonomerCaps&&!("R2"in e.sugar.props.MonomerCaps)&&i.push("DISABLED"),{sugarValidations:o,phosphateValidations:i,baseValidations:a}):{sugarValidations:o,phosphateValidations:i,baseValidations:a}}(t.payload.rnaPreset,t.payload.isEditMode),r=n.sugarValidations,o=n.phosphateValidations,i=n.baseValidations;e.groupItemValidations[Tl.SUGARS]=r,e.groupItemValidations[Tl.BASES]=i,e.groupItemValidations[Tl.PHOSPHATES]=o},setActivePresetMonomerGroup:function(e,t){e.activePresetMonomerGroup=t.payload},savePreset:function(e,t){var n=hu({},t.payload);if(pu(function(e){var t=["sugar","base","phosphate"],n=gt()(e,t);n.templates=[];for(var r=0,o=t;r<o.length;r++){var i,a=e[o[r]],l=(null==a||null===(i=a.props)||void 0===i?void 0:i.id)||(null==a?void 0:a.id);l&&n.templates.push({$ref:a.isAmbiguous?(0,h.QDi)(l):(0,h.aRw)(l)})}return n}(n)),n.nameInList){var r=e.presetsCustom.findIndex(function(e){return e.name===n.nameInList});n.nameInList=n.name,-1===r?e.presetsCustom.push(n):e.presetsCustom.splice(r,1,n)}else e.presetsCustom.push(n);e.activePreset&&(e.activePreset.nameInList=n.name)},deletePreset:function(e,t){var n=t.payload;!function(e){if(e){var t=su(),n=du(e);t&&(t.splice(n,1),t.length?kc.setItem(Ac,t):kc.removeItem(Ac))}}(n.name);var r=e.presetsCustom.findIndex(function(e){return e.name===n.name});e.presetsCustom.splice(r,1),n.nameInList&&(e.activePreset=null)},setIsEditMode:function(e,t){e.isEditMode=t.payload},setUniqueNameError:function(e,t){e.uniqueNameError=t.payload},setInvalidPresetError:function(e,t){e.invalidPresetError=t.payload},setDefaultPresets:function(e,t){var n=t.payload[0];n&&(e.presetsDefault.find(function(e){return e.name===n.name})||(e.presetsDefault=t.payload))},setCustomPresets:function(e,t){e.presetsCustom=t.payload},setFavoritePresetsFromLocalStorage:function(e){var t=kc.getItem(wc);t&&Array.isArray(t)&&(e.presetsDefault=e.presetsDefault.map(function(e){var n="".concat(e.name,"_").concat(h.QKJ.RNA);return t.find(function(e){return e===n})?hu(hu({},e),{},{favorite:!0}):e}))},clearFavorites:function(e){e.presetsDefault=[]},setActiveMonomerKey:function(e,t){e.activeMonomerKey=t.payload},togglePresetFavorites:function(e,t){var n=e.presetsDefault.findIndex(function(e){return e.name===t.payload.name}),r=e.presetsCustom.findIndex(function(e){return e.name===t.payload.name});if(n>=0){var o=e.presetsDefault[n].favorite;e.presetsDefault[n].favorite=!o}else if(r>=0){!function(e){if(e){var t=su(),n=du(e);t&&n>-1&&(t[n].favorite=!t[n].favorite,kc.setItem(Ac,t))}}(e.presetsCustom[r].name);var i=e.presetsCustom[r].favorite;return void(e.presetsCustom[r].favorite=!i)}var a="".concat(t.payload.name,"_").concat(h.QKJ.RNA),l=kc.getItem(wc)||[];l.some(function(e){return e===a})?kc.setItem(wc,l.filter(function(e){return e!==a})):(l.push(a),kc.setItem(wc,l))}}}),yu=function(e){return e.rnaBuilder.activeRnaBuilderItem},bu=function(e){return e.rnaBuilder.groupItemValidations},xu=function(e){return e.rnaBuilder.activePreset},wu=function(e){return e.rnaBuilder.sequenceSelection},Au=function(e){return e.rnaBuilder.sequenceSelectionName},Mu=function(e){return e.rnaBuilder.isSequenceFirstsOnlyNucleoelementsSelected},Cu=function(e,t){if(vu[t]&&e)return e[vu[t]]},ku=function(e){return e.rnaBuilder.activePresetMonomerGroup},Ou=function(e){return Boolean(e.name&&e.sugar&&(e.base||e.phosphate))},Su=function(e){return e.rnaBuilder.isEditMode},ju=function(e){var t,n,r,o,i,a;if(!e)return"";var l=(null===(t=e.sugar)||void 0===t?void 0:t.label)||(null===(n=e.sugar)||void 0===n?void 0:n.props.MonomerName)||"",c=(null===(r=e.base)||void 0===r?void 0:r.label)||(null===(o=e.base)||void 0===o?void 0:o.props.MonomerName)||"",u=(null===(i=e.phosphate)||void 0===i?void 0:i.label)||(null===(a=e.phosphate)||void 0===a?void 0:a.props.MonomerName)||"",s=l;return(s+=l&&u||(l||u)&&c?"(".concat(c,")"):c)+u},Iu=function(e){return e.rnaBuilder.uniqueNameError},Pu=function(e){return e.rnaBuilder.invalidPresetError},_u=function(e){var t=e.rnaBuilder.activePreset;return t&&!t.nameInList&&!t.name&&!t.sugar&&!t.base&&!t.phosphate},Eu=function(e){return e.rnaBuilder.activePresetForContextMenu},Nu=function(e){return e.filter(function(e){return e.favorite})},Lu=function(e){return e.rnaBuilder.activeMonomerKey},Du=(0,dt.Mz)(function(e){return e.rnaBuilder},function(e){var t=e.presetsDefault,n=void 0===t?[]:t,r=e.presetsCustom,o=void 0===r?[]:r;return[].concat((0,ft.A)(n),(0,ft.A)(o))}),Tu=(0,dt.Mz)(Du,function(e){return e.library.searchFilter},function(e,t){var n=t.toLowerCase();return e.filter(function(e){var t,r,o,i,a,l,c,u,s=null===(t=e.name)||void 0===t?void 0:t.toLowerCase(),d=null===(r=e.sugar)||void 0===r||null===(r=r.label)||void 0===r?void 0:r.toLowerCase(),p=null===(o=e.phosphate)||void 0===o||null===(o=o.label)||void 0===o?void 0:o.toLowerCase(),f=null===(i=e.base)||void 0===i||null===(i=i.label)||void 0===i?void 0:i.toLowerCase(),h=null===(a=e.idtAliases)||void 0===a||null===(a=a.base)||void 0===a?void 0:a.toLowerCase(),m=null===(l=e.idtAliases)||void 0===l?void 0:l.modifications,v=h;if(h&&null!==(c=e.name)&&void 0!==c&&c.includes("MOE")){var g,y,b=h,x=null!==(g=null==m?void 0:m.endpoint5)&&void 0!==g?g:"5".concat(b),w=null!==(y=null==m?void 0:m.internal)&&void 0!==y?y:"i".concat(b);v="".concat(x,", ").concat(w)}var A=(n.match(/\//g)||[]).length,M=n.split("/");if(A>=2&&void 0!==M[2]&&""!==M[2])return!1;if(n.startsWith("/")&&n.length>1){var C,k=n.slice(1);return(null===(C=v)||void 0===C?void 0:C.toLowerCase().startsWith(k))||(null==h?void 0:h.startsWith(k))||m&&Object.values(m).some(function(e){return null==e?void 0:e.toLowerCase().startsWith(k)})}if(n.endsWith("/")&&n.length>1){var O,S=n.slice(0,-1),j=n[n.length-2];return(null===(O=v)||void 0===O?void 0:O.toLowerCase().endsWith(S))&&v[v.length-1]===j||(null==h?void 0:h.endsWith(S))&&h[h.length-1]===j||m&&Object.values(m).some(function(e){return(null==e?void 0:e.toLowerCase().endsWith(S))&&e[e.length-1]===j})}return"/"===n?!!e.idtAliases:(null==s?void 0:s.includes(n))||(null==d?void 0:d.includes(n))||(null==p?void 0:p.includes(n))||(null==f?void 0:f.includes(n))||(null===(u=v)||void 0===u?void 0:u.toLowerCase().includes(n))})}),Bu=gu.actions,zu=Bu.setActivePreset,Ru=Bu.setSequenceSelection,Fu=Bu.setSequenceSelectionName,Hu=Bu.setIsSequenceFirstsOnlyNucleoelementsSelected;Bu.setActivePresetName;var qu=Bu.setActiveRnaBuilderItem,Wu=Bu.setActiveMonomerKey,$u=Bu.recalculateRnaBuilderValidations,Vu=Bu.setActivePresetMonomerGroup,Uu=Bu.savePreset,Yu=Bu.deletePreset,Gu=Bu.createNewPreset,Qu=Bu.setIsEditMode,Ku=Bu.setUniqueNameError,Xu=Bu.setInvalidPresetError,Zu=Bu.setDefaultPresets,Ju=Bu.setCustomPresets,es=Bu.setActivePresetForContextMenu,ts=Bu.togglePresetFavorites,ns=Bu.setFavoritePresetsFromLocalStorage,rs=Bu.clearFavorites,os=gu.reducer,is=function(){return Un({reducer:{editor:gc,modal:lu,library:Vc,rnaBuilder:os},middleware:function(e){return e({serializableCheck:!1})},preloadedState:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}(),as={colorA:{regular:"#5ADC11",hover:"#4FC218"},colorCM:{regular:"#59D0FF",hover:"#3CB9EB"},colorDQ:{regular:"#AD4551",hover:"#AB0014"},colorEN:{regular:"#93F5F5",hover:"#00F0F0"},colorFY:{regular:"#5656BF",hover:"#2626BF"},colorGX:{regular:"#FFE97B",hover:"#F8DC50"},colorH:{regular:"#BFC9FF",hover:"#99AAFF"},colorILV:{regular:"#50E576",hover:"#00D936"},colorKR:{regular:"#365CFF",hover:"#002CEB"},colorP:{regular:"#F2C5B6",hover:"#FFA98C"},colorST:{regular:"#FF8D8D",hover:"#ED6868"},colorW:{regular:"#99458B",hover:"#7F006B"},colorU:{regular:"#FF973C",hover:"#2EE55D"},colorX:{regular:"#CAD3DD",hover:"#B8BBCC"},chem:{regular:"#333333",hover:"#555555"},default:{regular:"#CCCBD6",hover:"#B8BBCC"}},ls={D:{regular:"#FF8C69",hover:"#0097A8"},E:{regular:"#DC143C",hover:"#0097A8"},K:{regular:"#B0E0E6",hover:"#0097A8"},H:{regular:"#007FFF",hover:"#0097A8"},O:{regular:"#2A52BE",hover:"#0097A8"},R:{regular:"#0A12FF",hover:"#0097A8"},Q:{regular:"#EDB4ED",hover:"#0097A8"},Y:{regular:"#D65CBC",hover:"#0097A8"},U:{regular:"#CA7DE3",hover:"#0097A8"},S:{regular:"#9966CC",hover:"#0097A8"},C:{regular:"#BF00FF",hover:"#0097A8"},N:{regular:"#800080",hover:"#0097A8"},T:{regular:"#FF00FF",hover:"#0097A8"},L:{regular:"#7FFF00",hover:"#0097A8"},I:{regular:"#4CBB17",hover:"#0097A8"},F:{regular:"#008A00",hover:"#0097A8"},A:{regular:"#008080",hover:"#0097A8"},W:{regular:"#50E576",hover:"#0097A8"},P:{regular:"#D2D900",hover:"#0097A8"},G:{regular:"#BDB76B",hover:"#0097A8"},M:{regular:"#FFF600",hover:"#0097A8"},V:{regular:"#FFD700",hover:"#0097A8"}},cs={color:{background:{canvas:"#F5F5F5",primary:"#FFFFFF",secondary:"#F8FEFF",overlay:"rgba(94,94,94,.8)"},border:{primary:"#CAD3DD",secondary:"#7C7C7F"},text:{primary:"#333333",secondary:"#167782",light:"#585858",dark:"#000000",error:"#FF4A4A",lightgrey:"#7C7C7F"},tab:{regular:"#FFFFFF",active:"#E1E5EA",hover:"#00838F",content:"#EFF2F5"},scroll:{regular:"#717171",inactive:"#DDDDDD"},button:{primary:{active:"#167782",hover:"#00838F",clicked:"#4FB3BF",disabled:"rgba(113, 113, 113, 0.4)"},secondary:{active:"#585858",hover:"#333333",clicked:"#AEAEAE",disabled:"rgba(113, 113, 113, 0.4)"},group:{active:"#167782",hover:"#2E858F"},transparent:{active:"transparent"},text:{primary:"#FFFFFF",secondary:"#005662",disabled:"#7A7A7A"}},dropdown:{primary:"#333333",secondary:"#FFFFFF",hover:"#DDDDDD",disabled:"#7A7A7A"},tooltip:{background:"#FFFFFF",text:"#333333"},link:{active:"#00838F",hover:"#005662"},divider:"#AEAEAE",spinner:"#005662",error:"#FF4A4A",input:{text:{default:"#585858",active:"#333333",disabled:"#585858",error:"#FF4A4A"},background:{primary:"#FFFFFF",default:"#EFF2F5",hover:"#DDDDDD",disabled:"#eff2f5"},border:{regular:"#cad3dd",active:"#FFFFFF",hover:"#43b5c0",focus:"#EFF2F5",error:"#FF4A4A"}},icon:{grey:"#B4B9D6",hover:"#005662",active:"#525252",activeMenu:"#005662",clicked:"#FFFFFF",disabled:"rgba(82, 82, 82, 0.4)"},monomer:{default:"#C8C8C8"},editMode:{sequenceInRNABuilder:"#99d7dc"}},font:{size:{small:"10px",regular:"12px",medium:"14px",xsmall:"6px"},family:{montserrat:"Montserrat, sans-serif",inter:"Inter, FreeSans, Arimo, 'Droid Sans', Helvetica, 'Helvetica Neue',\nArial, sans-serif",roboto:"Roboto, FreeSans, Arimo, Droid Sans, Helvetica, Helvetica Neue, Arial, sans-serif"},weight:{light:300,regular:400,bold:600}},monomer:{color:{A:as.colorA,C:as.colorCM,M:as.colorCM,D:as.colorDQ,Q:as.colorDQ,E:as.colorEN,N:as.colorEN,F:as.colorFY,Y:as.colorFY,G:as.colorGX,X:as.colorX,Other:as.colorX,H:as.colorH,I:as.colorILV,L:as.colorILV,V:as.colorILV,K:as.colorKR,R:as.colorKR,P:as.colorP,S:as.colorST,T:as.colorST,W:as.colorW,U:as.colorU,CHEM:as.chem,default:as.default}},peptide:{color:{D:ls.D,E:ls.E,K:ls.K,H:ls.H,O:ls.O,R:ls.R,Q:ls.Q,Y:ls.Y,U:ls.U,S:ls.S,C:ls.C,N:ls.N,T:ls.T,L:ls.L,I:ls.I,F:ls.F,A:ls.A,W:ls.W,P:ls.P,G:ls.G,M:ls.M,V:ls.V,Other:as.colorX}},border:{regular:"1px solid #CAD3DD",small:"1px solid #E1E5EA",radius:{regular:"4px"}},shadow:{regular:"0px 1px 1px rgba(197, 203, 207, 0.7)",mainLayoutBlocks:"0px 2px 5px rgba(103, 104, 132, 0.15)"},outline:{small:"1px solid #B4B9D6",medium:"2px solid #B4B9D6",color:"#B4B9D6",selected:{color:"#167782",small:"1px solid #167782",medium:"2px solid #167782"},grey:{small:"1px solid #585858"}},transition:{regular:"all .3s"},zIndex:{base:0,toolbar:10,sticky:100,overlay:200,modal:1e3,critical:9999}},us=function(e){return(0,d.AH)({all:"unset",".Ketcher-polymer-editor-root":{all:"unset",fontSize:e.ketcher.font.size.medium,fontFamily:e.ketcher.font.family.inter,fontWeight:e.ketcher.font.weight.regular,backgroundColor:e.ketcher.color.background.primary,color:e.ketcher.color.text.primary,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) div":{boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) input":{fontFamily:e.ketcher.font.family.inter,fontWeight:e.ketcher.font.weight.regular,fontSize:e.ketcher.font.size.regular,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) h1":{fontSize:96},":where(.Ketcher-polymer-editor-root) h2":{fontSize:60},":where(.Ketcher-polymer-editor-root) h3":{fontSize:48},":where(.Ketcher-polymer-editor-root) h4":{fontSize:34},":where(.Ketcher-polymer-editor-root) h5":{fontSize:24},":where(.Ketcher-polymer-editor-root) h6":{fontSize:20,fontWeight:e.ketcher.font.weight.bold},":where(.Ketcher-polymer-editor-root) p":{fontSize:e.ketcher.font.size.regular},":where(.Ketcher-polymer-editor-root) button":{textTransform:"uppercase",fontWeight:e.ketcher.font.weight.bold}},"","")},ss=(0,ct.A)("div",{target:"e1vkl5kv5"})("width:","254px",";height:calc(100% - 16px);display:flex;flex-direction:column;background-color:",function(e){return e.theme.ketcher.color.background.primary},";box-shadow:",function(e){return e.theme.ketcher.shadow.mainLayoutBlocks},";border-radius:4px;z-index:",function(e){return e.theme.ketcher.zIndex.toolbar},";"),ds=(0,ct.A)("div",{target:"e1vkl5kv4"})({name:"n1y6qf",styles:"padding:10px 0 10px 8px;position:relative;display:flex;align-items:center;gap:8px"}),ps=(0,ct.A)("div",{target:"e1vkl5kv3"})("height:24px;display:flex;flex-grow:1;gap:4px;align-items:center;padding:4px;background-color:",function(e){return e.theme.ketcher.color.input.background.default},";border-radius:4px;&:hover,&:has(input:focus){outline:",function(e){return e.theme.ketcher.outline.selected.small},";}"),fs=(0,ct.A)("button",{target:"e1vkl5kv2"})("height:24px;display:flex;align-items:center;gap:2px;border:none;border-radius:4px 0 0 4px;cursor:pointer;background-color:#e2e5e9;text-transform:none;font-weight:",function(e){return e.theme.ketcher.font.weight.regular},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";color:",function(e){return e.theme.ketcher.color.text.secondary},";"),hs=(0,ct.A)(m.In,{target:"e1vkl5kv1"})("height:16px;width:16px;color:",function(e){return e.theme.ketcher.color.text.secondary},";"),ms=(0,ct.A)(m.pd,{target:"e1vkl5kv0"})({name:"pmmg8c",styles:"flex-grow:1;padding:0;margin:0;background-color:transparent;border:none;outline:none;&:hover{outline:none;}&:focus{outline:none;}"}),vs=["children"];function gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gs(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bs=(0,ct.A)("div",{target:"e1pv9pa12"})(function(e){var t=e.fullWidth;return{width:t?"100%":"fit-content",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:e.withPaddingRight?"12px":0,overflow:t?"hidden":"initial"}},""),xs=(0,ct.A)("div",{target:"e1pv9pa11"})(function(e){return{height:"100%",width:"100%",position:"relative",padding:"12px",paddingBottom:0,backgroundColor:e.theme.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",containerType:"size",overflow:"clip"}},""),ws=(0,ct.A)("div",{target:"e1pv9pa10"})(function(e){return{height:"100%",width:"100%",position:"relative",paddingBottom:0,backgroundColor:e.theme.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",columnGap:"3px"}},""),As=(0,ct.A)("div",{target:"e1pv9pa9"})(function(e){var t=e.hide;return{height:"100%",width:"fit-content",display:void 0!==t&&t?"none":"flex",flexDirection:"column"}},""),Ms=(0,ct.A)(As,{target:"e1pv9pa8"})(""),Cs=(0,ct.A)(As,{target:"e1pv9pa7"})(""),ks=(0,ct.A)("div",{target:"e1pv9pa6"})({name:"oixulj",styles:"display:flex;justify-content:space-between;width:100cqw"}),Os=(0,ct.A)("div",{target:"e1pv9pa5"})(function(e){var t=e.shortened,n=void 0!==t&&t,r=e.theme;return{height:"36px",width:n?"100%":"calc(100% - ".concat("100px",")"),marginBottom:"6px",display:"flex",alignItems:"center",backgroundColor:"#FFFFFF",boxShadow:r.ketcher.shadow.mainLayoutBlocks,borderRadius:"4px",overflowX:"hidden"}},""),Ss=(0,ct.A)("div",{target:"e1pv9pa4"})("width:42px;height:36px;display:flex;position:relative;right:0;cursor:pointer;background:white;box-shadow:",function(e){return e.theme.ketcher.shadow.mainLayoutBlocks},";border-radius:4px;"),js=(0,ct.A)("div",{target:"e1pv9pa3"})({name:"1gavlve",styles:"&:not(:empty){margin-bottom:15px;}"}),Is=(0,ct.A)("div",{target:"e1pv9pa2"})({name:"nc15h",styles:"height:100%;width:100%;position:relative;overflow:hidden"}),Ps=(0,ct.A)("div",{target:"e1pv9pa1"})({name:"0",styles:""}),_s=(0,ct.A)("div",{target:"e1pv9pa0"})({name:"1k18kha",styles:"height:40px"}),Es=function(e){var t=(0,kt.Wx)({threshold:1}),n=(0,r.A)(t,2),o=n[0],i=n[1],s=(0,kt.Wx)({threshold:1}),d=(0,r.A)(s,2),p=d[0],f=d[1],h=e.children,v=(0,Ct.A)(e,vs),g=(0,a.useRef)(null);return u("div",{style:{display:"flex",position:"relative"},children:[u(Os,ys(ys({},v),{},{ref:g,children:[c("span",{ref:o}),c(ks,{children:c(l,{children:h})}),c("span",{ref:p})]})),i&&f?null:c(Ss,{children:c(m.Nn,{startInView:i,endInView:f,scrollBack:function(e){g.current&&(g.current.scrollLeft-=300*e/1e3)},scrollForward:function(e){g.current&&(g.current.scrollLeft+=300*e/1e3)},isLeftRight:!0})})]})},Ns=function(e){var t=e.children,n={Left:null,Main:null,Right:null,Top:null,Bottom:null,InsideRoot:null};return a.Children.forEach(t,function(e){e.type===Ms?n.Left=e:e.type===Cs?n.Right=e:e.type===Es?n.Top=e:e.type===js?n.Bottom=e:e.type===Is?n.Main=e:e.type===Ps&&(n.InsideRoot=e)}),u(xs,{children:[u(bs,{fullWidth:!0,withPaddingRight:!0,children:[n.Top,u(ws,{children:[n.Left,c(_s,{}),n.Main]}),n.Bottom]}),c(bs,{children:n.Right}),n.InsideRoot]})};Ns.Left=Ms,Ns.Top=Es,Ns.Bottom=js,Ns.Right=Cs,Ns.Main=Is,Ns.InsideRoot=Ps;var Ls=function(e){var t=e.children,n=e.value,r=e.index;return c("div",{className:"TabPanel-module_tabPanelDiv__wMffZ",role:"tabpanel",hidden:n!==r,id:r.toString(),children:n===r&&c(Le,{className:"TabPanel-module_tabPanelBox__LY-BB",children:c(l,{children:t})})})},Ds=(0,ct.A)(v.A,{shouldForwardProp:function(e){return"isLayoutToRight"!==e},target:"e1rrs7vg3"})("height:32px;min-height:32px;list-style-type:none;margin:0;padding:4px 8px 0 8px;border-bottom:",function(e){var t=e.theme;return"1px solid ".concat(t.ketcher.color.border.primary)},";overflow:unset;& .MuiTabs-scroller,& .MuiTabs-flexContainer{height:100%;overflow:unset!important;}& .MuiTabs-flexContainer{justify-content:",function(e){return e.isLayoutToRight?"flex-end":"flex-start"},";padding-right:",function(e){return e.isLayoutToRight?"16px":"0"},";}& .MuiTabs-indicator{display:none;}"),Ts=(0,ct.A)(g.A,{shouldForwardProp:function(e){return"isLayoutToRight"!==e},target:"e1rrs7vg2"})("min-height:24px;min-width:0;position:relative;padding:7px 12px;font-size:",function(e){return e.theme.ketcher.font.size.regular},";text-transform:none;cursor:pointer;text-align:center;background-color:",function(e){return e.theme.ketcher.color.tab.regular},";color:",function(e){return e.theme.ketcher.color.text.light},";list-style-type:none;margin-left:1px;align-items:center;flex:",function(e){return e.isLayoutToRight?void 0:"1 1 auto;"},";border:1px solid transparent;border-bottom:none;border-radius:4px 4px 0 0;&:first-of-type{margin-left:0;}&:hover{background-color:",function(e){return e.theme.ketcher.color.tab.regular},";color:",function(e){return e.theme.ketcher.color.text.primary},";border-color:",function(e){return e.theme.ketcher.color.border.primary},";}&.Mui-selected{background-color:",function(e){return e.theme.ketcher.color.tab.active},";color:",function(e){return e.theme.ketcher.color.text.primary},";border-color:",function(e){return e.theme.ketcher.color.border.primary},";margin-bottom:-1px;padding-bottom:8px;&::after{content:'';position:absolute;left:0;bottom:-1px;height:1px;background-color:",function(e){return e.theme.ketcher.color.tab.active},";}}&[data-tab='Favorites']{font-size:16px;color:#faa500;}"),Bs=(0,ct.A)(g.A,{target:"e1rrs7vg1"})({name:"2934o7",styles:"width:0;height:0;min-width:0;min-height:0;padding:0;margin:0;visibility:hidden"}),zs=(0,ct.A)("div",{target:"e1rrs7vg0"})({name:"2r6rpv",styles:"display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;width:100%;height:100%"});function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Hs=(0,a.memo)(function(e){var t=e.tabs,n=e.selectedTabIndex,r=e.isLayoutToRight,o=e.onChange,i=t[n],a=null==i?void 0:i.component,s=null==i?void 0:i.props;return u(l,{children:[u(Ds,{value:n,onChange:o,isLayoutToRight:r,children:[t.map(function(e,t){return c(Ts,Fs({label:e.caption,title:e.tooltip,isLayoutToRight:r,"data-testid":e.testId,"data-tab":e.tooltip},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(t)),e.caption||e.testId)}),c(Bs,{value:-1})]}),i&&c(Ls,{value:n,index:n,children:c(zs,{children:c(a,Fs({},s))})})]})}),qs=function(){};function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Vs=function(e,t,n){var o=new Map(e.map(function(e){return[(0,h.eoH)(e)?(0,h.QDi)(e.id):(0,h.aRw)(e.props.id||Ic(e)),e]}));return t.filter(function(e){return e.templates.every(function(e){return Boolean(o.get(e.$ref))})}).map(function(e){var t=new Map(e.templates.map(function(e){var t=o.get(e.$ref),n=(0,h.w7j)(t);return[(0,r.A)(n,3)[2],t]})),i=t.get(h.IPc.Sugar),a=t.get(h.IPc.Base),l=t.get(h.IPc.Phosphate),c={base:a?$s($s({},a),{},{label:a.label}):void 0,name:e.name,phosphate:l?$s($s({},l),{},{label:l.label}):void 0,sugar:i?$s($s({},i),{},{label:i.label}):void 0,favorite:e.favorite,default:n||e.default};return e.idtAliases?$s($s({},c),{},{idtAliases:e.idtAliases}):c})},Us=function(e){return Object.entries(e).filter(function(e){var t=(0,r.A)(e,2);t[0];var n=t[1];return Boolean(n)}).map(function(e){return(0,r.A)(e,1)[0]})},Ys=function(e){return e?e.replace(/(?:^\/+)|(?:\/+$)/g,""):e},Gs=function(){return(0,s.wA)()},Qs=s.d4;function Ks(){var e,t,n=Qs(ec),o=Qs(tc),i=Qs(oc);try{t=h.qd$.getKetcher(n)}catch(e){h.$yr.error("Failed to get ketcher instance with id ".concat(n),e)}var l=(null===(e=t)||void 0===e||null===(e=e.editor)||void 0===e?void 0:e.struct().isBlank())?h.jJA:h.cmw,c=(0,a.useState)(i||l),u=(0,r.A)(c,2),s=u[0],d=u[1],p=(0,a.useCallback)(function(e){d(e)},[]);return(0,a.useEffect)(function(){return null==o||o.events.layoutModeChange.add(p),function(){null==o||o.events.layoutModeChange.remove(p)}},[p,o]),s}var Xs=a.createContext({}),Zs=(0,a.createContext)({width:0,height:0}),Js=function(e){var t=e.children,n=e.rootRef,o=e.isMacromoleculesEditorTurnedOn,i=(0,a.useState)({width:0,height:0}),l=(0,r.A)(i,2),u=l[0],s=l[1],d=(0,a.useCallback)(function(){if(null!=n&&n.current){var e=n.current.getBoundingClientRect(),t=e.width,r=e.height;s({width:t,height:r})}},[n]),p=(0,a.useCallback)((0,f.debounce)(d,100),[d]);return(0,a.useEffect)(function(){d()},[o]),(0,a.useEffect)(function(){return p(),window.addEventListener("resize",p),function(){window.removeEventListener("resize",p)}},[p]),c(Zs.Provider,{value:u,children:t})},ed=function(){return(0,a.useContext)(Zs).height<720},td=(0,ct.A)("div",{target:"e719szw4"})("background:white;height:48px;text-align:center;cursor:",function(e){return e.disabled?"default":"pointer"},";opacity:",function(e){return e.disabled?"0.4":"1"},";display:flex;justify-content:space-between;align-items:center;font-size:",function(e){return e.theme.ketcher.font.size.small},";color:",function(e){return e.theme.ketcher.color.text.primary},";position:relative;overflow:hidden;border-radius:4px;box-shadow:0 2px 5px 0 rgba(103, 104, 132, 0.149);margin:0;user-select:none;border-color:#167782;border-width:",function(e){return e.selected?"2px 2px 2px":"0px"},";border-style:solid;box-sizing:border-box;z-index:",function(e){return e.selected?2:void 0},";.hidden & .star{visibility:hidden!important;}&:hover{outline:1px solid #b4b9d6;>.star,.autochain{visibility:visible;opacity:1;}}&::after{content:'';display:block;position:absolute;top:0;left:0;width:100%;height:8px;border-bottom:",function(e){return e.isVariantMonomer?"1px solid #CAD3DD":"none"},";background:",function(e){var t,n,r,o,i,a,l=e.code,c=e.theme,u=e.item;return u?"PEPTIDE"===(null===(n=u.props)||void 0===n?void 0:n.MonomerType)&&null!==(r=c.ketcher.peptide.color[l])&&void 0!==r&&r.regular?null===(a=c.ketcher.peptide.color[l])||void 0===a?void 0:a.regular:(null===(o=c.ketcher.monomer.color[l])||void 0===o?void 0:o.regular)||(null===(i=c.ketcher.monomer.color.default)||void 0===i?void 0:i.regular):null===(t=c.ketcher.monomer.color.default)||void 0===t?void 0:t.regular},";},>span{position:absolute;bottom:",function(e){return e.selected?"4px":"6px"},";left:",function(e){return e.selected?"4px":"6px"},";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:85%;}>.star{color:#cad3dd;position:absolute;left:calc(50% - 7px);top:11px;font-size:13px;line-height:13px;opacity:0;transition:0.2s ease;flex-shrink:0;&.visible{visibility:visible;opacity:1;}&:active{transform:scale(1.4);}&:hover,&.visible{color:#faa500;}}"),nd=(0,ct.A)("div",{target:"e719szw3"})("display:flex;justify-content:center;align-items:center;height:15px;width:",function(e){return e.monomersAmount>=10?"20px":"15px"},";border-radius:",function(e){return e.monomersAmount>=10?"20px":"50%"},";border:1px solid #cceaee;position:absolute;bottom:",function(e){return e.selected?"4px":"6px"},";left:",function(e){return e.selected?"18px":"20px"},";font-size:12px;line-height:12px;"),rd=(0,ct.A)("span",{target:"e719szw2"})({name:"rnnx2x",styles:"font-size:12px"}),od=(0,ct.A)(m.In,{target:"e719szw1"})("color:#cad3dd;stroke-width:0;opacity:0;transition:0.2s ease;flex-shrink:0;width:13px;&:active{transform:scale(1.2);}&:hover{color:",function(e){return e.disabled?"#cad3dd":"#333333"},";}"),id=(0,ct.A)("div",{target:"e719szw0"})({name:"evdt6m",styles:"position:absolute;top:12px;left:4px"}),ad=function(e,t){var n=(0,s.d4)(tc);(0,a.useEffect)(function(){if(n&&t.current){var o=Bo(t.current),i=Qo().on("start",function(){n.isLibraryItemDragCancelled="sequence-layout-mode"===n.mode.modeName,n.isLibraryItemDragCancelled||(document.body.style.cursor="grabbing")}).on("drag",function(t){var r,o;if(!n.isLibraryItemDragCancelled){var i=t.sourceEvent,a=i.clientX,l=i.clientY;n.events.setLibraryItemDragState.dispatch({item:e,position:{x:a-((null===(r=n.ketcherRootElementBoundingClientRect)||void 0===r?void 0:r.left)||0),y:l-((null===(o=n.ketcherRootElementBoundingClientRect)||void 0===o?void 0:o.top)||0)}})}}).on("end",function(t){if(!n.isLibraryItemDragCancelled){var o,i=t.sourceEvent,a=i.clientX,l=i.clientY,c=null===(o=h.OQ2.instance.canvasWrapper.node())||void 0===o?void 0:o.getBoundingClientRect();if(c){var u=c.top,s=c.left,d=c.right,p=c.bottom,f=h.OQ2.instance.zoomTransform,m=a-s+15*f.k,v=l-u+15*f.k,g=f.invert([m,v]),y=(0,r.A)(g,2),b=y[0],x=y[1];a>=s&&a<=d&&l>=u&&l<=p&&n.events.placeLibraryItemOnCanvas.dispatch(e,{x:b,y:x})}}n.events.setLibraryItemDragState.dispatch(null),n.isLibraryItemDragCancelled=!1,document.body.style.cursor=""});return o.call(i),function(){o.on(".drag",null)}}},[n,e,t])},ld=function(e,t){var n=e.getDataForAutochain(),r=n.selectedMonomersWithFreeR2;return n.selectedMonomers.length>0&&1!==r.length?"Select a monomer or a chain that has one R2 available.":1!==r.length||(0,h.fdJ)(t)?"":"This monomer cannot be added to a chain using this button, as it lacks R1."},cd=function(e,t,n){n(ld(e,t))};function ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var dd="autochain",pd=function(e){var t,n,o,i,d,p,f,m,v,g,y=e.item,b=e.groupName,x=e.onMouseLeave,w=e.onMouseMove,A=e.isSelected,M=e.disabled,C=e.onClick,k=void 0===C?qs:C,O=Gs(),S=Qs(tc),j=Qs(rc),I=(0,a.useState)(""),P=(0,r.A)(I,2),_=P[0],E=P[1],N=(0,a.useRef)(null),L=function(e,t){var n,o,i,l=Qs(nc),c=(0,s.d4)(Mu),u=(0,a.useState)(!1),d=(0,r.A)(u,2),p=d[0],f=d[1];return(0,a.useEffect)(function(){if(!l)return f(!1);var n;if(t===h.uP8.BASES)f(!(null!=e&&null!==(n=e.props)&&void 0!==n&&null!==(n=n.MonomerCaps)&&void 0!==n&&n.R1));else if(t===h.uP8.PHOSPHATES){var r,o;f(!(null!=e&&null!==(r=e.props)&&void 0!==r&&null!==(r=r.MonomerCaps)&&void 0!==r&&r.R1&&null!=e&&null!==(o=e.props)&&void 0!==o&&null!==(o=o.MonomerCaps)&&void 0!==o&&o.R2))}else if(t===h.uP8.SUGARS){var i,a,u,s,d;f(c?!(null!=e&&null!==(i=e.props)&&void 0!==i&&null!==(i=i.MonomerCaps)&&void 0!==i&&i.R3&&null!=e&&null!==(a=e.props)&&void 0!==a&&null!==(a=a.MonomerCaps)&&void 0!==a&&a.R2):!(null!=e&&null!==(u=e.props)&&void 0!==u&&null!==(u=u.MonomerCaps)&&void 0!==u&&u.R3&&null!=e&&null!==(s=e.props)&&void 0!==s&&null!==(s=s.MonomerCaps)&&void 0!==s&&s.R2&&null!=e&&null!==(d=e.props)&&void 0!==d&&null!==(d=d.MonomerCaps)&&void 0!==d&&d.R1))}},[t,l,c,null==e||null===(n=e.props)||void 0===n||null===(n=n.MonomerCaps)||void 0===n?void 0:n.R1,null==e||null===(o=e.props)||void 0===o||null===(o=o.MonomerCaps)||void 0===o?void 0:o.R2,null==e||null===(i=e.props)||void 0===i||null===(i=i.MonomerCaps)||void 0===i?void 0:i.R3,f]),p}(y,b)||M,D="";(0,h.eoH)(y)||(D=y.props.MonomerType===xc?y.props.MonomerType:y.props.MonomerNaturalAnalogCode);var T=Ic(y),B=(0,h.eoH)(y)?void 0:y,z=(0,a.useCallback)(function(e){e.stopPropagation(),O(Tc(y))},[O,y]),R=(0,a.useCallback)(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),O(Tc(y)))},[O,y]),F=(0,a.useCallback)(function(e){if(e.stopPropagation(),S){var t=ld(S,y);if(E(t),t)return}null==S||S.events.autochain.dispatch(y)},[S,y]),H=(0,a.useCallback)(function(){return S&&cd(S,y,E)},[S,y]),q=(0,a.useCallback)(function(){if(S){var e=ld(S,y);if(E(e),e)return}null==S||S.events.previewAutochain.dispatch(y)},[S,y]),W=(0,a.useCallback)(function(){null==S||S.events.removeAutochainPreview.dispatch(y)},[S,y]);return ad(y,N),u(td,sd(sd({selected:A,disabled:L,"data-testid":T,"data-monomer-item-id":T,item:B,isVariantMonomer:y.isAmbiguous,code:D,onMouseOver:H,onMouseLeave:x,onMouseMove:w,onDoubleClick:function(e){F(e),W()}},L?{}:{onClick:k}),{},{ref:N,"data-idtalias-base":null!==(t=null==B||null===(n=B.props.idtAliases)||void 0===n?void 0:n.base)&&void 0!==t?t:void 0,"data-idtalias-modifications-endpoint5":null!==(o=null==B||null===(i=B.props.idtAliases)||void 0===i||null===(i=i.modifications)||void 0===i?void 0:i.endpoint5)&&void 0!==o?o:void 0,"data-idtalias-modifications-endpoint3":null!==(d=null==B||null===(p=B.props.idtAliases)||void 0===p||null===(p=p.modifications)||void 0===p?void 0:p.endpoint3)&&void 0!==d?d:void 0,"data-idtalias-modifications-internal":null!==(f=null==B||null===(m=B.props.idtAliases)||void 0===m||null===(m=m.modifications)||void 0===m?void 0:m.internal)&&void 0!==f?f:void 0,"data-axolabs":null!==(v=null==B?void 0:B.props.aliasAxoLabs)&&void 0!==v?v:void 0,"data-helm":null!==(g=null==B?void 0:B.props.aliasHELM)&&void 0!==g?g:void 0,"data-modificationtype":null!=B&&B.props.modificationTypes?Array.isArray(null==B?void 0:B.props.modificationTypes)?null==B?void 0:B.props.modificationTypes.join(", "):null==B?void 0:B.props.modificationTypes:void 0,children:[c(rd,{children:y.label}),!L&&u(l,{children:[!j&&c(Pt.A,{title:_,children:c(id,{children:c(od,{className:dd,name:"monomer-autochain",disabled:Boolean(_),onMouseOver:q,onMouseOut:W,onClick:F,onDoubleClick:function(e){return e.stopPropagation()}})})}),c("div",{onClick:z,onKeyDown:R,className:"star ".concat(y.favorite?"visible":""),role:"button",tabIndex:0,"aria-label":"Toggle favorite",children:""})]}),(0,h.eoH)(y)&&c(nd,{selected:A,monomersAmount:y.monomers.length,children:y.monomers.length})]}))},fd=(0,ct.A)("div",{target:"e10tnh3n3"})({name:"37420",styles:"display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:auto;flex:1;gap:4px;&::after{content:'';flex:auto;}"}),hd=(0,ct.A)("div",{target:"e10tnh3n2"})("position:relative;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:",function(e){return e.theme.ketcher.font.size.small},";font-family:",function(e){return e.theme.ketcher.font.family.roboto},";color:",function(e){return e.theme.ketcher.color.divider},";margin:0;gap:4px;"),md=(0,ct.A)(hd,{target:"e10tnh3n1"})({name:"qdeacm",styles:"flex-direction:column"}),vd=(0,ct.A)("div",{target:"e10tnh3n0"})("height:100%;display:flex;flex-grow:0;flex-basis:14px;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;font-size:",function(e){return e.theme.ketcher.font.size.medium},";font-family:",function(e){return e.theme.ketcher.font.family.roboto},";color:",function(e){return e.theme.ketcher.color.text.primary},";margin:0;"),gd=[dd],yd=function(e){return gd.some(function(t){return e.classList.contains(t)||e.closest(".".concat(t))})};function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xd,wd=function(e){var t=e.items,n=e.title,r=e.groupName,o=e.selectedMonomerUniqueKey,i=e.libraryName,l=e.disabled,s=e.onItemClick,d=void 0===s?qs:s,p=Gs(),v=Qs(tc),g=Qs(bu),y=function(e){var t=!1;if((0,h.eoH)(e))return!1;if(l)t=l;else{var n,r,o=g["".concat(null===(n=e.props)||void 0===n?void 0:n.MonomerClass,"s")];if((null==o?void 0:o.length)>0&&null!==(r=e.props)&&void 0!==r&&r.MonomerCaps){var i,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return bd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(o);try{for(a.s();!(i=a.n()).done;)i.value in e.props.MonomerCaps||(t=!0)}catch(e){a.e(e)}finally{a.f()}}}return t},b=(0,a.useCallback)(function(e){return p(Fl(e))},[p]),x=(0,a.useCallback)((0,f.debounce)(function(e){return b(e)},500),[b]),w=function(){x.cancel(),p(Fl(void 0))},A=function(e){return o===Ic(e)};return t&&0!==t.length?u(md,{children:[n&&c(vd,{children:n}),c(fd,{children:t.map(function(e){return c(pd,{disabled:y(e),item:e,groupName:r,isSelected:A(e),onMouseLeave:w,onMouseMove:function(t){return function(e,t){if(w(),!yd(t.target)){var n,r,o,i=t.currentTarget.getBoundingClientRect();if((0,h.eoH)(e)){o=e?(0,m.Xv)(e)(i):"";var a="".concat(i.left+i.width/2,"px");r=pl.AmbiguousMonomer,n={left:a,top:o,transform:"translate(-50%, 0)"}}else n={right:"-88px",top:o=e?(0,m.Dk)(i):"",transform:"translate(-50%, 0)"},r=pl.Monomer;x({type:r,monomer:e,style:n})}}(e,t)},onClick:function(){return function(e){["FAVORITES","PEPTIDE","CHEM"].includes(null!=i?i:"")&&(null==v||v.events.selectMonomer.dispatch(e)),d(e)}(e)}},Ic(e))})})]}):null},Ad=(0,ct.A)("div",{target:"e1bp6il60"})({name:"8z91a1",styles:"width:100%;display:flex;flex-direction:column;justify-items:center;gap:8px;padding:8px"}),Md=(0,ct.A)(td,{target:"e1txcvj90"})("&::after{content:'';background:",function(e){var t=e.theme;return e.selected?t.ketcher.color.button.primary.active:"#faa500"},";}.dots{visibility:hidden;position:absolute;right:2px;top:10px;}&:hover .dots{visibility:visible;}>.star{right:0;left:calc(50% - 7px);top:11px;width:min-content;}"),Cd=(0,ct.A)("div",{target:"e1h0dkll2"})(function(e){return{minHeight:"32px",display:"flex",alignItems:"center",padding:"8px 12px",gap:"8px",borderBottom:e.theme.ketcher.border.small}},""),kd=(0,ct.A)("span",{target:"e1h0dkll1"})(function(e){return{flexGrow:1,fontSize:e.theme.ketcher.font.size.regular}},""),Od=(0,ct.A)(m.In,{target:"e1h0dkll0"})(function(e){return{width:"16px",height:"16px",color:e.theme.ketcher.color.icon.grey,transition:e.theme.ketcher.transition.regular,transform:e.expanded?"rotate(180deg)":"none"}},""),Sd=(0,a.memo)(function(e){var t=e.preset,n=e.isSelected,o=e.onClick,i=void 0===o?qs:o,l=e.onContextMenu,s=void 0===l?qs:l,d=e.onMouseLeave,p=void 0===d?qs:d,f=e.onMouseMove,h=void 0===f?qs:f,m=Gs(),v=Qs(tc),g=Qs(rc),y=(0,a.useState)(""),b=(0,r.A)(y,2),x=b[0],w=b[1],A=(0,a.useRef)(null),M=(0,a.useCallback)(function(e){e.stopPropagation(),m(ts(t))},[m,t]),C=(0,a.useCallback)(function(e){e.stopPropagation(),x||null==v||v.events.autochain.dispatch(t)},[x,v,t]),k=(0,a.useCallback)(function(){return v&&cd(v,t,w)},[v,t]),O=(0,a.useCallback)(function(){x||null==v||v.events.previewAutochain.dispatch(t)},[x,v,t]),S=(0,a.useCallback)(function(){null==v||v.events.removeAutochainPreview.dispatch(t)},[v,t]);return ad(t,A),u(Md,{"data-testid":Pc(t),onClick:i,onContextMenu:s,onMouseOver:k,onMouseLeave:p,onMouseMove:h,onDoubleClick:function(e){C(e),S()},selected:n,code:t.name,"data-rna-preset-item-name":t.name,ref:A,children:[!g&&c(Pt.A,{title:x,children:c(id,{children:c(od,{className:dd,name:"monomer-autochain",disabled:Boolean(x),onMouseOver:O,onMouseOut:S,onClick:C,onDoubleClick:function(e){return e.stopPropagation()}})})}),c("span",{children:t.name}),c(Od,{name:"vertical-dots",className:"dots",onClick:s}),c("div",{"aria-hidden":!0,onClick:M,className:"star ".concat(t.favorite?"visible":""),children:""})]})});!function(e){e.FOR_RNA="context-menu-for-RNA",e.FOR_SEQUENCE="context-menu-for-sequence",e.FOR_POLYMER_BOND="context-menu-for-polymer-bond",e.FOR_SELECTED_MONOMERS="context-menu-for-selected-monomers"}(xd||(xd={}));var jd=(0,ct.A)(yt.W1,{target:"ekj16lc0"})("--contexify-activeItem-bgColor:rgba(243, 245, 247, 1);--contexify-menu-minWidth:140px;--contexify-activeItem-color:rgba(51, 51, 51, 1);--contexify-menu-padding:4px;--contexify-itemContent-padding:6px 8px;--contexify-separator-margin:4px 0;--contexify-separator-color:#e1e5ea;.contexify_itemContent{font-family:",function(e){return e.theme.ketcher.font.family.inter},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";height:28px;}.contexify_item-title{opacity:1;font-weight:bold;background:#e1e5ea;margin:-4px 0 4px -4px;width:calc(100% + 8px);border-radius:4px 4px 0 0;}.context_menu-icon{width:16px;height:16px;display:flex;align-items:center;margin-right:4px;}.context_menu-text{display:flex;align-items:center;line-height:",function(e){return e.theme.ketcher.font.size.regular},";}.context_menu-delete-text{display:flex;align-items:center;line-height:",function(e){return e.theme.ketcher.font.size.regular},";margin-left:-3px;}"),Id=function e(t,n){var r=!1,o=[];return t.forEach(function(t){var i=t.name,a=t.title,l=t.icon,s=t.hidden,d=t.disabled,p=t.isMenuTitle,f=t.separator,h=t.subMenuItems,m=t.onMouseOver,v=t.onMouseOut,g=null!=h&&h.length?c(yt.Qw,{label:a,"data-testid":i,children:e(h,n)},i):u(yt.q7,{id:i,onClick:function(e){r=!0,setTimeout(function(){r=!1},500),n(e)},"data-testid":i,hidden:s,disabled:d,className:p?"contexify_item-title":"",onMouseOver:function(){r||null==m||m(i)},onMouseOut:function(){return null==v?void 0:v(i)},children:[l&&c("span",{className:"context_menu-icon",children:l}),c("span",{className:"delete"===i?"context_menu-delete-text":"context_menu-text",children:a})]},i);o.push(g),f&&o.push(c(yt.wv,{},"separator-".concat(i)))}),o},Pd=function(e){var t=e.id,n=e.handleMenuChange,r=e.menuItems,o=Gs();return(0,a.useEffect)(function(){var e=function(e){var t,n;(null===(t=e.target)||void 0===t||null===(t=t.__data__)||void 0===t?void 0:t.node)||(null===(n=e.target)||void 0===n||null===(n=n.__data__)||void 0===n?void 0:n.monomer)?e.stopPropagation():o(Hl(!1))};return document.addEventListener("click",e),document.addEventListener("contextmenu",e),function(){document.removeEventListener("click",e),document.removeEventListener("contextmenu",e)}},[o,t]),c(jd,{id:t,children:Id(r,n)})},_d=function(){var e=Gs(),t=Qs(Eu),n=Qs($c),r=Qs(nc),o=[{name:"duplicateandedit",title:"Duplicate and Edit...",disabled:!1},{name:"edit",title:"Edit...",separator:!0,disabled:null==t?void 0:t.default},{name:"deletepreset",title:"Delete Preset",disabled:null==t?void 0:t.default}],i=document.querySelector(m.tS);return i&&!r?(0,bt.createPortal)(c(Pd,{id:xd.FOR_RNA,menuItems:o,handleMenuChange:function(r){var o=r.id,i=r.props;switch(o){case"duplicateandedit":i.duplicatePreset(t),2!==n&&e(zc(2));break;case"edit":i.editPreset(t),2!==n&&e(zc(2));break;case"deletepreset":e(Qc("delete"))}}}),i):null},Ed=function(e){var t=e.presets,n=e.duplicatePreset,r=e.editPreset,o=Qs(xu),i=Qs(tc),l=(0,yt.EF)({id:xd.FOR_RNA}).show,d=(0,s.wA)(),p=function(e){return function(){var t=function(e){var t,n,r,o,i,a=!0,l=!0,c=!0;return null!=e&&null!==(t=e.base)&&void 0!==t&&null!==(t=t.props)&&void 0!==t&&t.MonomerCaps&&(a="R1"in e.base.props.MonomerCaps),null!=e&&null!==(n=e.sugar)&&void 0!==n&&null!==(n=n.props)&&void 0!==n&&n.MonomerCaps&&a&&null!=e&&null!==(o=e.base)&&void 0!==o&&null!==(o=o.props)&&void 0!==o&&o.MonomerCaps&&(l="R3"in e.sugar.props.MonomerCaps),null!=e&&null!==(r=e.phosphate)&&void 0!==r&&null!==(r=r.props)&&void 0!==r&&r.MonomerCaps&&(c="R1"in e.phosphate.props.MonomerCaps,l&&null!=e&&null!==(i=e.sugar)&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.MonomerCaps&&(l="R2"in e.sugar.props.MonomerCaps)),a&&l&&c}(e);t||!e.name?(d(zu(e)),null==i||i.events.selectPreset.dispatch(e),e.name!==o.name&&d(Qu(!1))):d(Xu(e.name))}},v=function(e){var t;!(e instanceof HTMLDivElement)&&e.parentElement&&(e=e.parentElement);var n=e.getBoundingClientRect(),r=null===(t=e.offsetParent)||void 0===t?void 0:t.getBoundingClientRect(),o=n.right-140,i=n.y+n.height/2;return null!=r&&r.x&&(null==r?void 0:r.x)>o&&(o=n.x),{x:o,y:i}},g=Qs(Zl),y=(0,a.useCallback)(function(e){return d(Fl(e))},[d]),b=(0,a.useCallback)((0,f.debounce)(function(e){return y(e)},500),[y]),x=function(){b.cancel(),d(Fl(void 0))},w=function(e){return function(t){t.stopPropagation(),d(es(e)),l({event:t,props:{duplicatePreset:n,editPreset:r},position:v(t.currentTarget)})}};return u(hd,{"data-testid":"rna-preset-group",children:[c(fd,{children:t.map(function(e,t){return c(Sd,{isSelected:(null==o?void 0:o.name)===e.name,preset:e,onClick:p(e),onContextMenu:w(e),onMouseMove:function(t){return function(e,t){if(x(),!yd(t.target)&&g.type!==pl.Preset&&t.currentTarget){var n=[e.sugar,e.base,e.phosphate],r=t.currentTarget.getBoundingClientRect(),o={left:"".concat(r.left+r.width,"px"),top:(0,h.eoH)(e.base)?(0,m.Xv)(e.base)(r):(0,m._Y)(r),transform:"translate(-100%, 0)"},i=(0,h.eoH)(e.base)?{type:pl.AmbiguousMonomer,monomer:e.base,presetMonomers:n,style:o}:{type:pl.Preset,monomers:n,name:e.name,idtAliases:e.idtAliases,position:fl.Library,style:o};b(i)}}(e,t)},onMouseLeave:x},"".concat(e.name).concat(t))})}),c(_d,{})]})},Nd=function(e){var t=e.onItemClick,n=e.libraryName,o=e.duplicatePreset,i=e.editPreset,s=Qs(qc),d=Qs(Tu),p=Qs(Jl),f=n===yc,m=f?{monomers:Hc(s),presets:Nu(d)}:Rc(s,n),v=Wc(f?m.monomers:m),g=f?function(e){var t=[];for(var n in h.uP8){var r=Fc(e,h.uP8[n]);t=[].concat((0,ft.A)(t),(0,ft.A)(r))}return t.forEach(function(e){e.groupItems=e.groupItems.filter(function(e){return e.favorite})}),t.filter(function(e){return e.groupItems.length})}(s):Fc(s,Tl.PEPTIDES),y=(0,a.useState)(""),b=(0,r.A)(y,2),x=b[0],w=b[1];return(0,a.useEffect)(function(){"monomer"!==p&&w("")},[p]),u(Ad,{children:[f&&v.length>0&&c("div",{children:"Monomers"}),v.map(function(e,r,o){var i=e.groupItems,a=e.groupTitle;return c(wd,{title:1===o.length?void 0:a,items:i,libraryName:n,onItemClick:t,selectedMonomerUniqueKey:x},a)}),f&&m.presets.length>0&&u(l,{children:[c("div",{children:"Presets"}),c(Ed,{duplicatePreset:o,editPreset:i,presets:m.presets})]}),c(l,{children:("PEPTIDE"===n||f)&&g.map(function(e){return c(wd,{title:e.groupTitle,items:e.groupItems,libraryName:n,onItemClick:t,selectedMonomerUniqueKey:x},e.groupTitle)})})]})},Ld=(0,ct.A)("div",{target:"e1fsx6x2"})({name:"kxxltl",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:8px;background-color:#f7f9fa;border-radius:0 0 4px 4px"}),Dd=(0,ct.A)("span",{target:"e1fsx6x1"})("font-size:",function(e){return e.theme.ketcher.font.size.medium},";overflow:hidden;text-overflow:ellipsis;color:",function(e){return e.theme.ketcher.color.text.primary},";"),Td=(0,ct.A)("div",{target:"e1fsx6x0"})({name:"1x17g94",styles:"display:flex;align-items:center;width:100%"}),Bd=(0,a.memo)(function(e){var t=e.name,n=e.fullName;return t||n?c(Ld,{children:c(Td,{children:c(Dd,{children:null!=t?t:n})})}):null}),zd=(0,ct.A)("div",{target:"e1ie5fzr8"})(function(e){var t=e.selected,n=e.isEditMode,r=e.theme,o="transparent";return t?o=r.ketcher.color.button.primary.active:n&&(o=r.ketcher.color.background.primary),{height:"40px",position:"relative",marginLeft:n?"30px":"28.5px",display:"flex",alignItems:"center",border:n?"none":"1.5px solid ".concat(r.ketcher.outline.color),backgroundColor:o,borderRadius:r.ketcher.border.radius.regular,boxShadow:n?r.ketcher.shadow.regular:"none",padding:"5px 10px",color:t?"white":"black",gap:"8px",cursor:"pointer",outlineOffset:"1px",boxSizing:"border-box",":hover":{outline:r.ketcher.outline.small},":not(:last-child)":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:r.ketcher.outline.medium,borderBottom:r.ketcher.outline.medium,height:"2px",width:"17px"}},":last-child":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:r.ketcher.outline.medium,borderBottom:r.ketcher.outline.medium,borderRadius:"0 0 0 4px",height:"130px",width:"17px"}}}},""),Rd=(0,ct.A)("div",{target:"e1ie5fzr7"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),Fd=(0,ct.A)("span",{target:"e1ie5fzr6"})("font-size:",function(e){return e.theme.ketcher.font.size.small},";color:",function(e){var t=e.selected,n=e.theme;return t?n.ketcher.color.background.primary:n.ketcher.color.text.light},";opacity:",function(e){return e.selected?.4:1},";"),Hd=(0,ct.A)("span",{target:"e1ie5fzr5"})("margin-top:1px;font-size:",function(e){return e.theme.ketcher.font.size.medium},";color:",function(e){var t=e.selected,n=e.empty,r=e.theme;return t?r.ketcher.color.button.text.primary:n?"#b4b9d6":r.ketcher.color.text.primary},";opacity:",function(e){var t=e.selected,n=e.empty;return t&&n?.4:1},";"),qd=(0,ct.A)("div",{target:"e1ie5fzr4"})({name:"wgokoh",styles:"position:relative;width:16px;height:16px;display:flex;align-items:center;justify-content:center"}),Wd=(0,ct.A)(m.In,{target:"e1ie5fzr3"})("fill:",function(e){var t=e.selected,n=e.empty,r=e.theme;return n?"none":t?r.ketcher.color.background.primary:r.ketcher.color.icon.grey},";color:",function(e){var t=e.selected,n=e.theme;return t?n.ketcher.color.background.primary:n.ketcher.color.icon.grey},";"),$d=(0,ct.A)("div",{target:"e1ie5fzr2"})("position:relative;width:60px;display:flex;flex-direction:column;gap:8px;padding:4px;border-radius:4px;box-shadow:0 1px 2px 0 rgba(180, 185, 214, 0.6);cursor:pointer;background-color:",function(e){var t=e.selected,n=e.theme;return t?n.ketcher.color.button.primary.active:n.ketcher.color.background.primary},";&:hover{outline:",function(e){return e.theme.ketcher.outline.selected.small},";}"),Vd=(0,ct.A)("div",{target:"e1ie5fzr1"})("position:absolute;top:-35%;left:50%;height:15px;width:2px;background-color:",function(e){return e.theme.ketcher.outline.color},";"),Ud=(0,ct.A)("p",{target:"e1ie5fzr0"})("margin:0;font-size:",function(e){return e.theme.ketcher.font.size.small},";font-weight:",function(e){return e.theme.ketcher.font.weight.regular},";color:",function(e){var t=e.selected,n=e.empty,r=e.theme;return t?r.ketcher.color.button.text.primary:n?"#b4b9d6":r.ketcher.color.text.primary},";opacity:",function(e){var t=e.selected,n=e.empty;return t&&n?.4:1},";"),Yd=(0,ut.A)((0,ut.A)((0,ut.A)({},Tl.SUGARS,"Sugar"),Tl.BASES,"Base"),Tl.PHOSPHATES,"Phosphate"),Gd=(0,a.memo)(function(e){var t=e.selected,n=e.empty,r=e.name;return c(qd,{children:c(Wd,{selected:t,empty:n,name:r})})}),Qd=function(e){var t=e.groupName,n=e.iconName,r=e.monomerName,o=e.selected,i=e.onClick,a=e.testid,l=Qs(Su),s=!r;return u($d,{selected:o,onClick:i,isEditMode:l,"data-testid":a,children:[c(Vd,{}),c(Gd,{name:n,selected:o,empty:s}),c(Ud,{selected:o,empty:s,children:null!=r?r:Yd[t]})]})},Kd=function(e){var t=e.groupName,n=e.iconName,r=e.monomerName,o=e.selected,i=e.onClick,a=e.testid,l=Qs(Su),s=!r;return u(zd,{selected:o,onClick:i,isEditMode:l,"data-testid":a,children:[c(Gd,{name:n,selected:o,empty:s}),u(Rd,{children:[c(Fd,{selected:o,children:Yd[t]}),c(Hd,{empty:s,selected:o,children:null!=r?r:"Not selected"})]})]})};function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Zd=function(e){var t=ed();return c(t?Qd:Kd,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))},Jd=(0,ct.A)("div",{target:"e18wzlbg8"})(function(e){return{display:"flex",flexDirection:"column",padding:"10px",backgroundColor:"#F7F9FA",borderRadius:"0 0 4px 4px","&.rna-editor-expanded--sequence-edit-mode":{padding:"8px",paddingTop:"10px",border:"2px ".concat(e.theme.ketcher.color.editMode.sequenceInRNABuilder," solid"),borderTop:"none"}}},""),ep=(0,ct.A)("input",{target:"e18wzlbg7"})("width:100%;padding:6px;border:none;border-radius:4px;box-shadow:0 1px 2px 0 rgba(180, 185, 214, 0.6);&:hover,&:focus{outline:",function(e){return e.theme.ketcher.outline.selected.small},";}"),tp=(0,ct.A)("div",{target:"e18wzlbg6"})("width:100%;display:flex;flex-direction:",function(e){return e.compact?"row":"column"},";justify-content:",function(e){return e.compact?"space-between":"flex-start"},";gap:8px;margin-top:16px;"),np=(0,ct.A)("div",{target:"e18wzlbg5"})({name:"zmhcg5",styles:"margin-top:16px;display:flex;justify-content:space-evenly;align-items:center;gap:8px"}),rp=(0,ct.A)(m.$n,{target:"e18wzlbg4"})(function(e){return{width:"100%",whiteSpace:"nowrap",fontSize:e.theme.ketcher.font.size.regular,backgroundColor:e.primary?e.theme.ketcher.color.button.primary.active:void 0,color:e.primary&&!e.disabled?e.theme.ketcher.color.button.text.primary:e.theme.ketcher.color.text.light,outline:e.primary&&!e.disabled?e.theme.ketcher.outline.selected.small:e.theme.ketcher.outline.grey.small}},""),op=(0,ct.A)("div",{target:"e18wzlbg3"})(function(e){return{position:"relative",borderRadius:e.theme.ketcher.border.radius.regular,backgroundColor:e.theme.ketcher.color.background.primary,boxShadow:e.theme.ketcher.shadow.regular,cursor:"pointer",overflow:"hidden",padding:"0 6px 6px 6px",display:"flex",alignItems:"flex-end",height:"48px",outline:e.selected?e.theme.ketcher.outline.selected.medium:"none",":hover":{outline:e.selected?void 0:e.theme.ketcher.outline.small}}},""),ip=(0,ct.A)("span",{target:"e18wzlbg2"})(function(e){return{position:"absolute",top:"0",left:"0",width:"100%",height:"8px",backgroundColor:e.selected?e.theme.ketcher.outline.selected.color:e.theme.ketcher.outline.color}},""),ap=(0,ct.A)(m.pd,{target:"e18wzlbg1"})({name:"1jdipvd",styles:"width:100%;&:disabled{background:none;outline:none;color:inherit;}"}),lp=(0,ct.A)("div",{target:"e18wzlbg0"})({name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"});function cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var up=function(e){return 0===e.size?"":1===e.size?(0,ft.A)(e)[0]:"[multiple]"},sp=function(e){if(null!=e&&e.length){var t,n={sugarLabel:new Set,baseLabel:new Set,phosphateLabel:new Set},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return cp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cp(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;)for(var o=t.value,i=0,a=["sugarLabel","baseLabel","phosphateLabel"];i<a.length;i++){var l=a[i];(null!=o&&o[l]||(null==o||!o[l])&&o.type===h.WDE.Nucleoside&&!o.isNucleosideConnectedAndSelectedWithPhosphate)&&n[l].add(null==o?void 0:o[l])}}catch(e){r.e(e)}finally{r.f()}return{Sugars:up(n.sugarLabel),Bases:up(n.baseLabel),Phosphates:up(n.phosphateLabel)}}},dp=function(e){e(Vu(null)),e(Qu(!1))},pp=function(e){dp(e)},fp=function(e,t){dp(e),e(Ru([])),null==t||t.events.turnOffSequenceEditInRNABuilderMode.dispatch(),(null==t?void 0:t.mode)instanceof h.zuW&&t.mode.turnOffEditMode()},hp=function(e){return e.filter(function(e){return e.type?e.type===h.WDE.Nucleotide||e.type===h.WDE.Nucleoside:!!e.node&&(e.node instanceof h.NxW||e.node instanceof h.yYC)}).length};function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var gp=function(e){var t=e.isEditMode,n=e.onDuplicate,o=[{groupName:Tl.SUGARS,iconName:"sugar",testId:"rna-builder-slot--sugar"},{groupName:Tl.BASES,iconName:"base",testId:"rna-builder-slot--base"},{groupName:Tl.PHOSPHATES,iconName:"phosphate",testId:"rna-builder-slot--phosphate"}],i=(0,s.wA)(),l=Qs(xu),d=Qs(_u),p=Qs(yu),f=Qs(tc),m=Qs(Du),v=Qs(ku),g=(0,a.useState)(l),y=(0,r.A)(g,2),b=y[0],x=y[1],w=Qs(wu),A=Qs(Au),M=Qs(nc),C=(0,a.useState)(!1),k=(0,r.A)(C,2),O=k[0],S=k[1],j=(0,a.useState)(sp(w)),I=(0,r.A)(j,2),P=I[0],_=I[1],E="sequence-layout-mode"===Ks();(0,a.useEffect)(function(){x(l)},[l]),(0,a.useEffect)(function(){var e,t;w&&(1===hp(w)&&i(Fu((t=sp(w),"".concat(null==t?void 0:t.Sugars,"(").concat(null==t?void 0:t.Bases,")").concat(null!==(e=null==t?void 0:t.Phosphates)&&void 0!==e?e:"")))),_(sp(w)))},[i,w]),(0,a.useEffect)(function(){if(p!==uu.Presets&&t)if(M&&v){var e=vu[v.groupName],n="".concat(e,"Label"),r=w.map(function(e){return e.isNucleosideConnectedAndSelectedWithPhosphate&&"phosphateLabel"===n||e.type===h.WDE.Phosphate&&("sugarLabel"===n||"baseLabel"===n)?e:vp(vp({},e),{},(0,ut.A)((0,ut.A)({},n,v.groupItem.label),"rnaBaseMonomerItem","Bases"===v.groupName?v.groupItem:e.rnaBaseMonomerItem))});S(!0),i(Ru(r))}else{var o=function(){if(v){var e=vu[v.groupName],t=vp(vp({},b),{},(0,ut.A)({},e,v.groupItem));return x(t),t}return b}(),a=null==b?void 0:b.name;o.editedName||(a=ju(o)),x(vp(vp({},o),{},{name:a}))}},[null==v?void 0:v.groupItem,M]);var N,L=function(e){return function(){var n=Cu(b,e);n&&!E&&(null==f||f.events.selectMonomer.dispatch(n)),b[vu[e]]&&i(Wu(Ic(b[vu[e]]))),i(qu(e)),i($u({rnaPreset:b,isEditMode:t}));var r="";if(M&&w.length>0){var o=w[0].baseLabel;if(o&&w.every(function(e){return e.baseLabel===o})){var a=w[0].rnaBaseMonomerItem;a&&(r=Ic(a),i(Wu(r)))}}setTimeout(function(){return function(e,t){if(e===uu.Presets)return Ap(null==b?void 0:b.name),void(b&&(null==f||f.events.selectPreset.dispatch(b)));var n=b[vu[e]];n?Mp(Ic(n)):t&&Mp(t)}(e,r)},100)}},D=function(e){if(t){var n=e.target.value;x(vp(vp({},b),{},{name:n.trim(),editedName:!0}))}},T=function(){hp(w)>1?i(Qc("updateSequenceInRNABuilder")):(null==f||f.events.modifySequenceInRnaBuilder.dispatch(w),fp(i,f))},B=function(){if(null!=b&&b.name){var e=m.find(function(e){return e.name===b.name});e&&l.nameInList!==e.name?i(Ku(b.name)):(i(Uu(b)),i(zu(b)),E||null==f||f.events.selectPreset.dispatch(b),setTimeout(function(){Ap(b.name)},0),pp(i))}},z=function(){M?fp(i,f):(x(l),pp(i))},R=function(e){var t,n,r;return v&&v.groupName===e?v.groupItem.label:(null!==(t=null===(n=Cu(b,e))||void 0===n?void 0:n.label)&&void 0!==t?t:null===(r=Cu(b,e))||void 0===r?void 0:r.props.MonomerName)||void 0},F=function(e){return P?P[e]:""};(0,a.useEffect)(function(){var e=function(e){"Escape"===e.key?(z(),e.preventDefault(),e.stopPropagation()):"Enter"===e.key&&(M?T():null==f||f.events.startNewSequence.dispatch({}),e.preventDefault(),e.stopPropagation())};return null==f||f.events.keyDown.add(e),function(){null==f||f.events.keyDown.remove(e)}},[f,w]),N=c(rp,d&&!M?{disabled:!Ou(b),primary:!0,"data-testid":"add-to-presets-btn",onClick:B,children:"Add to Presets"}:t?{primary:!0,disabled:!!M&&!O,"data-testid":"save-btn",onClick:M?T:B,children:M?"Update":"Save"}:{"data-testid":"edit-btn",onClick:function(){i(Qu(!0))},disabled:l.default,children:"Edit"});var H=ed();return u(Jd,{"data-testid":"rna-editor-expanded",className:(0,xt.A)(M&&"rna-editor-expanded--sequence-edit-mode"),children:[H?c(ep,{value:M?A:null==b?void 0:b.name,placeholder:"Name your structure","data-testid":"name-your-structure-editbox",disabled:M,onChange:D}):u(op,{selected:p===uu.Presets,onClick:function(){return L(uu.Presets)},children:[t?c(ap,{value:M?A:null==b?void 0:b.name,placeholder:"Name your structure","data-testid":"name-your-structure-editbox",disabled:M,onChange:D}):c(lp,{children:null==b?void 0:b.name}),c(ip,{selected:p===uu.Presets})]}),c(tp,{compact:H,children:o.map(function(e){var t=e.groupName,n=e.iconName,r=e.testId;return c(Zd,{selected:p===t,groupName:t,monomerName:M?F(t):R(t),iconName:n,testid:r,onClick:L(t)},t)})}),u(np,{children:[c(rp,t?{"data-testid":"cancel-btn",onClick:z,children:"Cancel"}:{"data-testid":"duplicate-btn",disabled:!Ou(b),onClick:function(){return n(b)},children:"Duplicate and Edit"}),N]})]})},yp=(0,ct.A)("div",{target:"e1ms1w5g2"})({name:"1tk8yx0",styles:"padding:8px"}),bp=(0,ct.A)("button",{target:"e1ms1w5g1"})("width:100%;display:flex;justify-content:space-between;align-items:center;padding:8px;background-color:",function(e){return e.theme.ketcher.color.background.primary},";font-weight:",function(e){return e.theme.ketcher.font.weight.regular},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";border:none;border-radius:4px;text-transform:none;cursor:pointer;&.styled-header--sequence-edit-mode{background-color:",function(e){return e.theme.ketcher.color.editMode.sequenceInRNABuilder},";}&.styled-header--expanded,&.styled-header--active-preset{border-radius:4px 4px 0 0;}"),xp=(0,ct.A)(m.In,{target:"e1ms1w5g0"})("height:16px;width:16px;transform:",function(e){return e.expanded?"rotate(180deg)":"none"},";"),wp=function(e){var t=document.body.querySelector(e);null==t||t.scrollIntoView()},Ap=function(e){wp('[data-rna-preset-item-name="'.concat(e,'"]'))},Mp=function(e){wp('[data-monomer-item-id="'.concat(e,'"]'))},Cp=function(e){var t=e.duplicatePreset,n=Qs(xu),o=Qs(Su),i=Qs(nc),l=ju(n),s=Gs(),d=(0,a.useState)(!1),p=(0,r.A)(d,2),f=p[0],h=p[1];return(0,a.useEffect)(function(){n?(n.name||o)&&h(!0):(s(Gu()),s(qu(uu.Presets)))},[n]),(0,a.useEffect)(function(){s($u({rnaPreset:n,isEditMode:o}))},[o]),u(yp,{"data-testid":"rna-editor",children:[u(bp,{className:(0,xt.A)(i&&"styled-header--sequence-edit-mode",f&&"styled-header--expanded",(null==n?void 0:n.name)&&"styled-header--active-preset"),onClick:function(){h(!f),null!=n&&n.nameInList||s(Qu(!0))},"data-testid":"rna-builder-expand-button",children:["RNA Builder",c(xp,{expanded:f,name:"chevron"})]}),n&&(f?c(gp,{isEditMode:o,onDuplicate:t}):c(Bd,{name:n.name,fullName:l}))]})},kp=(0,ct.A)("div",{target:"e1ocltcl0"})({name:"16fpk5u",styles:"height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between"}),Op=function(e){var t=e.ketcher;return(0,d.AH)("scrollbar-width:thin;scrollbar-color:",t.color.scroll.regular," ",t.color.scroll.inactive,";&::-webkit-scrollbar{width:4px;height:4px;background-color:",t.color.scroll.inactive,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb{background-color:",t.color.scroll.regular,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb:active{background-color:",t.color.scroll.regular,";}","")};function Sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sp(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ip=(0,ct.A)(q,{target:"e45wfhi5"})({name:"dzuq2w",styles:".MuiPaper-root{min-width:304px;}"}),Pp=(0,ct.A)(te,{target:"e45wfhi4"})(function(e){var t=e.theme,n=e.hideborder;return{padding:"2px 4px 2px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"".concat(t.ketcher.font.family.inter),fontSize:"".concat(t.ketcher.font.size.medium),fontWeight:500,textTransform:"capitalize",borderBottom:n?"none":"1px solid rgba(202, 211, 221, 1)"}},""),_p=(0,ct.A)("div",{target:"e45wfhi3"})({name:"10by1a4",styles:"margin-right:10px;font-size:14px"}),Ep=(0,ct.A)(m.In,{target:"e45wfhi2"})({name:"4jxctt",styles:"width:16px;height:16px;color:rgba(51, 51, 51, 1)"}),Np=(0,ct.A)(ie,{target:"e45wfhi1"})("padding:0;font-size:",function(e){return e.theme.ketcher.font.size.medium},";line-height:17px;color:#000000;",function(e){var t=e.theme;return Op(t)},";"),Lp=(0,ct.A)(ue,{target:"e45wfhi0"})("height:52px;margin:0;padding:0 12px;border-top:",function(e){var t=e.theme;return"true"===e.withborder?t.ketcher.border.small:"none"},";justify-content:flex-end;.MuiButtonBase-root{border-radius:4px;font-size:",function(e){return e.theme.ketcher.font.size.regular},";}"),Dp=function(e){var t=e.children,n=e.title,r=e.isOpen,o=e.showCloseButton,l=void 0===o||o,s=e.showExpandButton,d=void 0!==s&&s,p=e.onClose,f=e.className,h=e.modalWidth,v=e.expanded,g=void 0!==v&&v,y=e.setExpanded,b=void 0===y?qs:y,x=e.testId,w=e.hideHeaderBorder,A=(0,i.u)(),M=(0,a.useMemo)(function(){return jp(jp({},x?{testid:x}:{}),{},{"data-testid":x,style:jp({background:A.ketcher.color.background.primary,borderRadius:"8px",color:A.ketcher.color.text.primary},d&&{margin:"auto",width:g?"100%":h,height:g?"100%":void 0,maxWidth:"calc(min(1280px, 100%))",maxHeight:"calc(min(980px, 100%))"})})},[x,A.ketcher.color.text.primary,A.ketcher.color.background.canvas,g]),C=(0,a.useMemo)(function(){return{style:{background:A.ketcher.color.background.overlay,opacity:.4}}},[A.ketcher.color.background.overlay]),k={Content:null,Footer:null};return a.Children.forEach(t,function(e){e.type===Np?k.Content=e:e.type===Lp&&(k.Footer=e)}),u(Ip,{BackdropProps:C,PaperProps:M,open:r,onClose:p,container:document.querySelector(m.tS),disableEscapeKeyDown:!l,className:f,sx:{padding:"24px"},children:[n||l||d?u(Pp,{hideborder:w,children:[c(_p,{children:n}),u("span",{children:[d&&c(se.A,{title:g?"Minimize window":"Expand window","data-testid":"expand-window-button",className:"Modal-module_expandButton__J1QYl",onClick:function(){b(!g)},children:c(Ep,{name:g?"minimize-expansion":"expand"})}),l&&c(se.A,{title:"Close window",onClick:p,"data-testid":"close-window-button",children:c(Ep,{name:"close"})})]})]}):"",k.Content,k.Footer]})};Dp.Content=Np,Dp.Footer=Lp;var Tp=(0,ct.A)("div",{target:"e117eqk610"})({name:"uawiic",styles:"display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;height:100%"}),Bp=(0,ct.A)(m.nD,{target:"e117eqk69"})({name:"u6kpdv",styles:"min-height:32px"}),zp=(0,ct.A)("div",{target:"e117eqk68"})({name:"vz8pb8",styles:"flex-grow:2;min-height:32px"}),Rp=(0,ct.A)("div",{target:"e117eqk67"})("position:relative;width:100%;display:flex;flex-direction:column;gap:8px;justify-content:start;padding:",function(e){return e.compact?"4px":"8px"},";"),Fp=(0,ct.A)("div",{target:"e117eqk66"})({name:"6imefc",styles:"flex-grow:1;min-height:0;background-color:#f7f9fa;border-radius:4px;margin:4px 8px;padding:4px;&.first-tab{border-radius:0 4px 4px 4px;}&.last-tab{border-radius:4px 0 4px 4px;}"}),Hp=(0,ct.A)("div",{target:"e117eqk65"})("height:100%;background-color:",function(e){return e.theme.ketcher.color.tab.content},";border-radius:2px;overflow:auto;"),qp=(0,ct.A)(m.$n,{target:"e117eqk64"})("background-color:",function(e){return e.theme.ketcher.color.button.transparent.active},";color:",function(e){return e.theme.ketcher.color.text.light},";border-color:",function(e){return e.theme.ketcher.color.text.light},";"),Wp=(0,ct.A)("div",{target:"e117eqk63"})({name:"1q5khk2",styles:"width:100%;height:100%;background-color:#eff2f594;position:absolute;top:0;left:0"}),$p=(0,ct.A)("div",{target:"e117eqk62"})({name:"bimmx8",styles:"display:flex;justify-content:space-between;gap:8px;padding:6px 8px 0"}),Vp=(0,ct.A)("div",{target:"e117eqk61"})({name:"qnk899",styles:"position:relative;display:flex;align-items:center;&.rna-tab--selected{& button{border-radius:4px 4px 0 0;background-color:#f7f9fa;}&::after{content:'';position:absolute;bottom:-4px;left:0;right:0;height:8px;background-color:#f7f9fa;}}"}),Up=(0,ct.A)(g.A,{target:"e117eqk60"})("height:24px;min-height:24px;min-width:24px;",function(e){return e.selected?"min-width: 104px;":""}," display:flex;flex-direction:row;gap:4px;align-items:center;justify-content:center;padding:4px;",function(e){return e.selected?"margin-top: -8px;":""}," font-weight:400;font-size:10px;border-radius:4px;background-color:white;opacity:",function(e){return e.selected?1:.6},";text-transform:none;&:hover{background-color:#f3f8f9;}>svg{height:16px;width:16px;color:#b4b9d6;&.MuiTab-iconWrapper{margin:0;}}");function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Qp=(0,a.memo)(function(e){var t=e.activeRnaBuilderItem,n=e.groupsData,r=e.onNewPresetClick,o=e.onSelectItem,i=e.duplicatePreset,a=e.editPreset,d=e.libraryName,p=(0,s.wA)(),f=Qs(Tu),h=Qs(qc),v=Qs(Su),g=Qs(_u),y=Qs(Lu);return u(l,{children:[c($p,{children:n.map(function(e){var n=e.groupName,r=e.groups,o=e.iconName,i=n===t,a=Fc(h,n),l=[].concat((0,ft.A)(r),(0,ft.A)(a)).reduce(function(e,t){return e+(t.groupItems.length||0)},0),u=i?"".concat(n," (").concat(l,")"):null;return c(Vp,{className:(0,xt.A)(i&&"rna-tab--selected"),children:c(Up,{label:u,title:n,selected:i,icon:c(m.In,{name:o}),onClick:function(){return p(qu(n))},"data-testid":"summary-".concat(n)})},n)})}),n.map(function(e){var n=e.groupName,s=e.groups;if(n!==t)return null;var p=Fc(h,n),m=n===uu.Presets?u(Rp,{compact:!0,children:[c(qp,{onClick:r,"data-testid":"new-preset-button",children:"New Preset"}),c(Ed,{duplicatePreset:i,editPreset:a,presets:f}),v&&!g&&c(Wp,{})]}):c(Rp,{compact:!0,children:u(l,{children:[s.map(function(e){var t=e.groupItems,r=e.groupTitle;return c(wd,{title:s.length>1?r:void 0,groupName:n,items:t,selectedMonomerUniqueKey:y,onItemClick:function(e){return o(e,n)}},r)}),p.map(function(e){var t=e.groupTitle,r=e.groupItems;return c(wd,{title:t,items:r,libraryName:d,selectedMonomerUniqueKey:y,onItemClick:function(e){return o(e,n)}},t)})]})}),b=t===uu.Presets,x=t===Tl.NUCLEOTIDES;return c(Fp,{className:(0,xt.A)(b&&"first-tab",x&&"last-tab"),children:c(Hp,{children:m})},n)})]})}),Kp=function(e){var t=e.groupName,n=e.quantity,r=e.expanded,o=e.iconName;return u(Cd,{"data-testid":"summary-".concat(t),children:[c(Od,{name:o}),u(kd,{children:[t," (",n,")"]}),c(Od,{name:"chevron",expanded:r})]})},Xp=(0,a.memo)(function(e){var t=e.activeRnaBuilderItem,n=e.groupsData,o=e.newPreset,i=e.onNewPresetClick,d=e.onSelectItem,p=e.duplicatePreset,f=e.editPreset,h=e.libraryName,m=(0,s.wA)(),v=Qs(Tu),g=Qs(qc),y=Qs(Su),b=Qs(_u),x=Qs(Lu),w=(0,a.useState)(t),A=(0,r.A)(w,2),M=A[0],C=A[1],k=function(e){M===e?C(null):(C(e),m($u({rnaPreset:o,isEditMode:y})))};return(0,a.useEffect)(function(){C(t)},[t]),c(l,{children:n.map(function(e){var t=M===e.groupName,n=Fc(g,e.groupName),r=[].concat((0,ft.A)(e.groups),(0,ft.A)(n)).reduce(function(e,t){return e+(t.groupItems.length||0)},0),o=c(Kp,{iconName:e.iconName,groupName:e.groupName,quantity:r,expanded:t}),a=e.groupName===uu.Presets?u(Rp,{children:[c(qp,{onClick:i,"data-testid":"new-preset-button",children:"New Preset"}),c(Ed,{duplicatePreset:p,editPreset:f,presets:v}),y&&!b&&c(Wp,{})]}):c(Rp,{children:u(l,{children:[e.groups.map(function(t){var n=t.groupItems,r=t.groupTitle;return c(wd,{title:e.groups.length>1?r:void 0,groupName:e.groupName,items:n,selectedMonomerUniqueKey:x,onItemClick:function(t){return d(t,e.groupName)}},r)}),n.map(function(t){return c(wd,{title:t.groupTitle,items:t.groupItems,libraryName:h,selectedMonomerUniqueKey:x,onItemClick:function(t){return d(t,e.groupName)}},t.groupTitle)})]})});return e.groupName===uu.Presets&&t?c(zp,{children:c(Bp,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(e.groupName),summary:o,details:a,expanded:t,onSummaryClick:function(){return k(e.groupName)}})},e.groupName):c(Bp,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(e.groupName),summary:o,details:a,expanded:t,onSummaryClick:function(){return k(e.groupName)}},e.groupName)})})});function Zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zp(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ef=function(e){var t=e.view,n=e.libraryName,o=e.duplicatePreset,i=e.editPreset,l=(0,s.wA)(),u=Qs(yu),d=Qs(xu),p=Qs(Su),f=Qs(tc),m=Qs(nc),v=(0,a.useState)(d),g=(0,r.A)(v,2),y=g[0],b=g[1];(0,a.useEffect)(function(){l(qu(p&&d?u:uu.Presets))},[p]);var x=function(e){var t=Qs(qc),n=Qs(Tu),r=Rc(t,e),o=Wc(r),i=function(e){return e.filter(function(e){var t,n;return!e.isAmbiguous&&((null===(t=e.props)||void 0===t?void 0:t.MonomerClass)===h.IPc.RNA||(null===(n=e.props)||void 0===n?void 0:n.MonomerClass)===h.IPc.DNA)})}(t),l=Wc(i);return(0,a.useMemo)(function(){return[{groupName:uu.Presets,iconName:"preset",groups:[{groupItems:n}]},{groupName:Tl.SUGARS,iconName:"sugar",groups:o.map(function(e){return Gp(Gp({},e),{},{groupItems:e.groupItems.filter(function(e){var t;return(null===(t=e.props)||void 0===t?void 0:t.MonomerClass)===h.IPc.Sugar})})}).filter(function(e){return e.groupItems.length})},{groupName:Tl.BASES,iconName:"base",groups:o.map(function(e){return Gp(Gp({},e),{},{groupItems:e.groupItems.filter(function(e){var t;return(null===(t=e.props)||void 0===t?void 0:t.MonomerClass)===h.IPc.Base})})}).filter(function(e){return e.groupItems.length})},{groupName:Tl.PHOSPHATES,iconName:"phosphate",groups:o.map(function(e){return Gp(Gp({},e),{},{groupItems:e.groupItems.filter(function(e){var t;return(null===(t=e.props)||void 0===t?void 0:t.MonomerClass)===h.IPc.Phosphate})})}).filter(function(e){return e.groupItems.length})},{groupName:Tl.NUCLEOTIDES,iconName:"nucleotide",groups:l}]},[o,n,l])}(n),w=(0,a.useCallback)(function(){l(Gu()),l(qu(uu.Presets)),l(Qu(!0))},[l]),A=(0,a.useCallback)(function(e,t){var n;if(p&&l(Wu(Ic(e))),m||p||null==f||f.events.selectMonomer.dispatch(e),p){var r=(0,h.eoH)(e)?null===(n=e.monomers[0].monomerItem.props.MonomerClass)||void 0===n?void 0:n.toLowerCase():e.props.MonomerClass.toLowerCase(),o=Jp(Jp({},y),{},(0,ut.A)({},r,e));b(o),l(Vu({groupName:t,groupItem:e})),l(qu(t))}},[l,f,p,m,y]);return c(Tp,{"data-testid":"rna-accordion",children:"tabs"===t?c(Qp,{activeRnaBuilderItem:u,groupsData:x,onNewPresetClick:w,onSelectItem:A,libraryName:n,editPreset:i,duplicatePreset:o}):c(Xp,{activeRnaBuilderItem:u,groupsData:x,newPreset:y,onNewPresetClick:w,onSelectItem:A,libraryName:n,editPreset:i,duplicatePreset:o})})},tf=function(e){var t=e.libraryName,n=e.duplicatePreset,r=e.editPreset,o=Gs(),i=Qs(Iu),a=Qs(Pu),l=ed(),s=function(){i.length>0&&o(Ku("")),a.length>0&&o(Xu(""))};return u(kp,{children:[c(Cp,{duplicatePreset:n}),c(ef,{libraryName:t,duplicatePreset:n,editPreset:r,view:l?"tabs":"accordion"}),u(Dp,{isOpen:!!i||!!a,title:"Error Message",onClose:s,children:[c(Dp.Content,{children:u("div",{style:{padding:"12px"},children:[i&&'Preset with name "'.concat(i,'" already exists. Please choose another name.'),a&&'Preset with name "'.concat(a,"\" can't be used. Because it is impossible to establish bonds between monomers. Edit it's structure or choose another one.")]})}),c(Dp.Footer,{children:c(qp,{onClick:s,children:"Close"})})]})]})};function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var of="_Copy",af=function(e){var t=e.toggleLibraryVisibility,n=(0,a.useRef)([]),r=Gs(),o=Qs($c);(0,a.useEffect)(function(){r(Bc(""))},[r]),Qs(Du,function(e){return n.current=e,!0});var i=(0,a.useCallback)(function(e){r(Bc(e.target.value))},[r]),l=(0,a.useCallback)(function(e){var t,o="".concat(null==e?void 0:e.name).concat(of);do{t=n.current.find(function(e){return e.name===o}),t&&(o+=of)}while(t);if(t)r(Ku(o));else{var i=t?"".concat(o).concat(of):o,a=rf(rf({},e),{},{name:i,nameInList:i,default:!1,favorite:!1});r(zu(a)),r(Qu(!0)),Ap(null==e?void 0:e.name)}},[r]),s=(0,a.useCallback)(function(e){r(zu(e)),r(Qu(!0))},[r]),d=(0,a.useMemo)(function(){return function(e,t){return[{caption:"",tooltip:"Favorites",component:Nd,testId:"FAVORITES-TAB",props:{libraryName:yc,duplicatePreset:e,editPreset:t}},{caption:"Peptides",component:Nd,testId:"PEPTIDES-TAB",props:{libraryName:bc}},{caption:"RNA",testId:"RNA-TAB",component:tf,props:{libraryName:"RNA",duplicatePreset:e,editPreset:t}},{caption:"CHEM",component:Nd,testId:"CHEM-TAB",props:{libraryName:xc}}]}(l,s)},[l,s]),p=(0,a.useCallback)(function(e,t){r(zc(t))},[r]);return u(ss,{"data-testid":"monomer-library",children:[u(ds,{children:[u(ps,{children:[c(hs,{name:"search"}),c(ms,{type:"search","data-testid":"monomer-library-input",onChange:i,placeholder:"Search by name..."})]}),c(fs,{title:"Hide library",onClick:t,"data-testid":"hide-monomer-library",children:c(m.In,{name:"arrows-right"})})]}),c(Hs,{tabs:d,selectedTabIndex:o,onChange:p})]})},lf=(0,ct.A)("div",{target:"emj253a0"})(function(e){var t=e.theme;return{margin:0,fontSize:t.ketcher.font.size.regular,position:"absolute",top:"12px",cursor:"pointer",visibility:"visible",opacity:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",lineHeight:1,userSelect:"none",backgroundColor:t.ketcher.color.button.primary.active,color:t.ketcher.color.button.text.primary,right:"12px",padding:"10px 8px",borderRadius:"4px","& > span":{display:"flex",justifyContent:"center",alignItems:"center","&.icon":{marginRight:"2px"}}}},""),cf=function(e){var t=e.onClick;return u(lf,{onClick:t,"data-testid":"show-monomer-library",children:[c("span",{className:"icon",children:c(m.In,{name:"arrows-left"})})," ","Show Library"]})},uf=(0,ct.A)("div",{target:"e10ckbgw0"})("display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:40px;height:12px;margin-top:10px;& span{display:inline-block;width:8px;height:8px;border:2px solid ",function(e){return e.theme.ketcher.color.spinner},";border-radius:100%;box-sizing:border-box;&:nth-of-type(1){animation:bounce 1s ease-in-out infinite;}&:nth-of-type(2){animation:bounce 1s ease-in-out 0.33s infinite;}&:nth-of-type(3){animation:bounce 1s ease-in-out 0.66s infinite;}}@keyframes bounce{0%,75%,100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);}25%{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);-o-transform:translateY(-100%);transform:translateY(-100%);}}"),sf=function(){return u(uf,{className:"loading-spinner","data-testid":"loading-spinner",children:[c("span",{}),c("span",{}),c("span",{})]})},df=(0,ct.A)("div",{target:"ep0evuw1"})({name:"1btsn9l",styles:"width:410px;min-height:23em;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center"}),pf=(0,ct.A)("div",{target:"ep0evuw0"})({name:"vbftiw",styles:"display:flex;flex-direction:row;align-items:center;svg{margin-right:13px;}p{color:#585858;font-size:16px;line-height:19px;}"}),ff=function(e){var t=e.fileName;return u(df,{children:[t&&u(pf,{children:[c(m.In,{name:"file-thumbnail"}),c("p",{children:t})]}),c(sf,{})]})},hf=["textLabel","iconName","disabled","disabledText"];function mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mf(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var gf={width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between"},yf=(0,ct.A)(m.In,{target:"erk2iw52"})("filter:",function(e){return e.disabled?"grayscale(1)":""},";opacity:",function(e){return e.disabled?"0.6":"1"},";"),bf={backgroundColor:"#F8FEFFFF"},xf=(0,ct.A)("div",{target:"erk2iw51"})("display:flex;flex-direction:column;align-items:center;&>span{font-size:",function(e){return e.theme.ketcher.font.size.small},";color:",function(e){return e.theme.ketcher.color.text.primary},";opacity:50%;}&>svg{margin-bottom:8px;}"),wf=(0,ct.A)("button",{target:"erk2iw50"})({name:"1tt0jw3",styles:"all:unset;width:100%;height:100%;display:flex;align-items:center;flex-direction:column;justify-content:space-between;cursor:pointer;&:disabled{cursor:default;}"}),Af=function(e){var t=e.textLabel,n=e.iconName,r=e.disabled,o=e.disabledText,i=(0,Ct.A)(e,hf),s=(0,St.VB)(vf({multiple:!1,noClick:!0,disabled:r},i)),d=s.getRootProps,p=s.getInputProps,f=s.isDragActive,h=s.open,m=(0,a.useMemo)(function(){return vf(vf({},gf),f?bf:{})},[f]);return u(wf,vf(vf({},d({style:m})),{},{role:void 0,onClick:h,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r||h())},tabIndex:r?-1:0,disabled:r,type:"button",children:[c("input",vf({},p())),c(yf,{name:n,disabled:r}),r?c(Cf,{children:o}):u(l,{children:[c(xf,{children:t&&c("span",{children:t})}),c(Mf,{children:"Open from file"})]})]}))},Mf=(0,ct.A)("p",{target:"e1035cyz3"})("font-size:10px;text-transform:uppercase;color:",function(e){return e.theme.ketcher.color.text.light},";margin:0;text-align:center;line-height:12px;"),Cf=(0,ct.A)("p",{target:"e1035cyz2"})("font-size:10px;margin:0;text-align:center;color:",function(e){return e.theme.ketcher.color.text.primary},";opacity:50%;line-height:12px;"),kf=(0,ct.A)("div",{target:"e1035cyz1"})({name:"h9hj7s",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;&>*{margin-right:18px;}& :last-child{margin-right:0;}"}),Of=(0,ct.A)("div",{target:"e1035cyz0"})("width:128px;height:134px;box-shadow:0 4px 12px rgba(103, 104, 132, 0.18);padding:16px;border-radius:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center;box-sizing:border-box;position:relative;cursor:pointer;&>p{margin-top:6px;text-align:center;}svg{fill:",function(e){return e.theme.ketcher.color.button.primary.active},";}"),Sf=function(e){var t=e.selectClipboard,n=e.fileLoadHandler,r=e.errorHandler;return u(kf,{children:[u(Of,{"data-testid":"paste-from-clipboard-button",onClick:t,children:[c(m.In,{name:"open-window-paste-icon"}),c(Mf,{children:"Paste from clipboard"})]}),c(Of,{"data-testid":"open-from-file-button",children:c(Af,{onDropAccepted:n,onDropRejected:function(e){return r("Unable to accept file(s). ".concat(e))},buttonLabel:"Open from file",textLabel:"or drag file here",iconName:"open-window-upload-icon"})}),c(Of,{"data-testid":"open-from-image-button",children:c(Af,{accept:"image/*",onDropAccepted:n,onDropRejected:function(e){return r("Unable to accept file(s). ".concat(e))},buttonLabel:"Open from image",textLabel:"or drag file here",iconName:"image-frame",disabled:!0,disabledText:"Image Recognition service is not available"})})]})},jf=(0,ct.A)("textarea",{target:"e1q335jk0"})("min-width:430px;padding:12px;width:100%;height:100%;overflow:auto;white-space:pre-wrap;resize:none;box-sizing:border-box;outline:transparent;border:none;color:",function(e){return e.theme.ketcher.color.input.text.active},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";background-color:",function(e){var t=e.theme;return e.readOnly?t.ketcher.color.input.background.disabled:t.ketcher.color.input.background.primary},";",function(e){var t=e.theme;return Op(t)},";"),If=function(e){var t=e.value,n=e.inputHandler,r=e.readonly,o=void 0!==r&&r,i=e.selectOnInit,l=void 0!==i&&i,u=e.className,s=e.testId,d=(0,a.useRef)(null);return(0,a.useEffect)(function(){var e;l&&(null===(e=d.current)||void 0===e||e.select())},[d,t,l]),c(jf,{value:t,readOnly:o,onChange:n&&function(e){return n(e.target.value)},ref:d,className:u,"data-testid":s})};function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ef=(0,ct.A)(If,{target:"e17hogtk0"})({name:"17fmpnb",styles:"width:100%;height:320px"}),Nf=function(e){if(e.isAnalyzingFile)return c(ff,{fileName:e.fileName});switch(e.currentState){case e.states.openOptions:return c(Sf,_f({},e));case e.states.textEditor:return c(Ef,_f({testId:"open-structure-textarea"},e));default:return null}},Lf=["label","clickHandler","children","styleType"];function Df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Df(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Bf={name:"zlt300",styles:"padding:5px 8px;border-radius:2px;text-transform:none;line-height:14px;font-size:12px;text-align:center;&.MuiButtonBase-root{width:unset;min-width:70px;}"},zf=(0,ct.A)(Ot.A,{target:"ejign8b1"})(function(e){var t=e.theme;return{backgroundColor:t.ketcher.color.button.primary.active,border:"1px solid ".concat(t.ketcher.color.button.primary.active),color:"rgb(245, 245, 245)",fontWeight:t.ketcher.font.weight.regular,width:"62px",height:"24px","&:hover":{backgroundColor:t.ketcher.color.button.primary.hover},"&:disabled":{background:t.ketcher.color.button.primary.disabled,border:"1px solid transparent",opacity:.4}}},Bf,""),Rf=(0,ct.A)(Ot.A,{target:"ejign8b0"})(function(e){var t=e.theme;return{backgroundColor:"transparent",border:"1px solid ".concat(t.ketcher.color.button.secondary.active),color:t.ketcher.color.button.secondary.active,fontWeight:t.ketcher.font.weight.regular,width:"72px",height:"24px","&:hover":{border:"1px solid ".concat(t.ketcher.color.button.secondary.hover),color:t.ketcher.color.button.secondary.hover},"&:disabled":{border:"1px solid ".concat(t.ketcher.color.button.secondary.disabled),color:t.ketcher.color.button.secondary.disabled},"&:clicked":{border:"1px solid ".concat(t.ketcher.color.button.secondary.clicked),color:t.ketcher.color.button.secondary.clicked}}},Bf,""),Ff=function(e){var t=e.label,n=e.clickHandler,r=e.children,o=e.styleType,i=(0,Ct.A)(e,Lf);return c("secondary"===o?Rf:zf,Tf(Tf({onClick:n,title:i.title||t},i),{},{children:r||t}))};function Hf(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){var n=r.result;e.msClose&&e.msClose(),t(n)},r.onerror=function(e){n(new Error("Failed to read file: ".concat(e.type)))},r.readAsText(e,"UTF-8")})}var qf=(0,ct.A)("div",{target:"efvrr8x1"})("position:relative;padding:",function(e){return e.currentState===Sh.openOptions?"10px 12px":"0"},";");(0,ct.A)(Ff,{target:"efvrr8x0"})({name:"1tx1l5v",styles:"margin-right:auto"}),(0,ct.A)(m.In,{target:"e23iben1"})({name:"1ux2zfx",styles:"fill:#343434"});var Wf=(0,ct.A)(m.In,{target:"e23iben0"})({name:"wpnrak",styles:"user-select:none;width:16px;height:1em;display:inline-block;flex-shrink:0;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;position:absolute;right:7px;top:calc(50% - 0.5em);pointer-events:none;fill:#5b6077"}),$f=function(e){var t=e.className;return c(Wf,{name:"chevron",className:t})};function Vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vf(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Yf,Gf=(0,ct.A)(de.A,{target:"e944g1i2"})({name:"1pt8ucq",styles:"width:100%;padding:0 8px;& label{font-size:12px;line-height:unset;}"}),Qf={name:"af34ib",styles:"background-color:white;border-bottom-left-radius:0;border-bottom-right-radius:0"},Kf=(0,ct.A)(pe.A,{target:"e944g1i1"})("height:24px;border:1px solid #e1e5ea;border-radius:4px;font-size:12px;background-color:white;",function(e){return e.open&&Qf}," & .MuiSelect-select{padding:0 24px 0 8px;height:100%;display:flex;align-items:center;}& span{",function(e){var t=e.theme;return"font-size: ".concat(t.ketcher.font.size.regular)},";}& .MuiOutlinedInput-notchedOutline{border:0;}"),Xf={backgroundColor:"white",border:"1px solid #5B6077",borderTopWidth:"0",borderRadius:"0px 0px 2px 2px",boxShadow:"0 6px 10px rgba(103, 104, 132, 0.15)"},Zf=(0,ct.A)(fe.A,{target:"e944g1i0"})("display:flex;flex-direction:row;justify-content:space-between;padding:0 8px;height:28px;font-size:12px;&.MuiButtonBase-root:hover{border-left:2px solid #167782;}& .MuiTypography-root{",function(e){var t=e.theme;return"font-size: ".concat(t.ketcher.font.size.regular)},";}"),Jf=function(e){var t=e.options,n=e.currentSelection,o=e.selectionHandler,i=e.className,l=e.label,s=e.testId,d=e.customStylesForExpanded,p=void 0===d?{}:d,f=e.disabled,h=void 0!==f&&f,m=(0,a.useState)(!1),v=(0,r.A)(m,2),g=v[0],y=v[1];return u(Gf,{className:i,children:[l&&c("label",{htmlFor:"fileformat",children:"File format:"}),c(Kf,{value:n,onChange:function(e){o(e.target.value)},open:g,onOpen:function(e){"keydown"!==e.type&&y(!0)},onClose:function(){y(!1)},renderValue:function(e){var n=t.filter(function(t){return t.id===e})[0];return c("span",{children:n.label})},IconComponent:$f,disabled:h,fullWidth:!0,"data-testid":null!=s?s:"dropdown-select",MenuProps:{PaperProps:{style:Uf(Uf({},Xf),p)},MenuListProps:{style:{padding:"0"}}},children:t.map(function(e){return c(Zf,{value:e.id,"data-testid":"".concat(e.label,"-option"),children:c(be,{primary:e.label})},e.id)})})]})},eh=(0,ct.A)("form",{target:"el6v3ot5"})({name:"9pd72t",styles:"display:flex;flex-direction:column;height:300px"}),th=(0,ct.A)("div",{target:"el6v3ot4"})({name:"itz7qk",styles:"display:flex;justify-content:space-between;margin-bottom:16px"}),nh=(0,ct.A)(Jf,{target:"el6v3ot3"})(function(e){var t=e.theme;return{width:"230px",height:"28px",flexShrink:0,"& .MuiOutlinedInput-root:hover:not(.Mui-disabled)":{border:"1px solid ".concat(t.ketcher.color.input.border.hover)},"& .MuiOutlinedInput-root":{border:"1px solid ".concat(t.ketcher.color.input.border.regular),backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary,fontFamily:t.ketcher.font.family.inter}}},""),rh={border:"none"},oh=(0,ct.A)("div",{target:"el6v3ot2"})({name:"kq43v2",styles:"position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#fff"}),ih=(0,ct.A)("div",{target:"el6v3ot1"})(function(e){var t=e.theme;return{height:"100%",position:"relative",border:"1px solid ".concat(t.ketcher.color.input.border.regular),"& svg":{width:"100%",height:"100%","& .drawn-structures":{"& .monomer":{lineHeight:"initial !important"}}}}},""),ah=(0,ct.A)("div",{target:"el6v3ot0"})(function(e){var t=e.theme;return{display:"flex",flexGrow:1,position:"relative","& button":{opacity:0,position:"absolute",right:"12px",top:"12px",borderRadius:"4px",padding:"2px",width:"28px",height:"28px","&:not(:active)":{backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary}},"&:hover button":{opacity:1},"&:focus-within button":{opacity:0},"&:focus-within button:hover":{opacity:1}}},""),lh=(0,ct.A)(Dp,{target:"e1oaegu38"})(function(e){var t=e.modalWidth;return"\n    .MuiPaper-root {\n      width: ".concat(t,";\n      max-width: ").concat(t,";\n    }")},""),ch=(0,ct.A)("div",{target:"e1oaegu37"})({name:"kj5rtd",styles:"width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center"}),uh=(0,ct.A)("div",{target:"e1oaegu36"})({name:"rpuipy",styles:"display:flex;height:24px;font-size:12px"}),sh=(0,ct.A)(nh,{target:"e1oaegu35"})({name:"7nflbq",styles:"padding:0;font-size:12px;& .MuiSelect-select{display:flex;align-items:center;padding:0 20px 0 8px;padding-right:20px !important;height:100%;}& span{font-size:12px;}"}),dh=(0,ct.A)(sh,{target:"e1oaegu34"})(function(){return{width:"140px"}},""),ph=(0,ct.A)(sh,{target:"e1oaegu33"})({name:"16zm0c",styles:"width:76px;margin-left:8px"}),fh=(0,ct.A)(sh,{target:"e1oaegu32"})({name:"l4tg7k",styles:"width:105px;margin-left:8px"}),hh=(0,ct.A)("div",{target:"e1oaegu31"})({name:"oq6u0f",styles:"display:flex;gap:10px"}),mh=(0,ct.A)(Ff,{target:"e1oaegu30"})({name:"b9l38d",styles:"width:min-content"}),vh="ket",gh="seq",yh="rna",bh="peptide",xh="fasta",wh="one-letter",Ah="three-letter",Mh=[{id:"ket",label:"Ket Format"},{id:"mol",label:"MDL Molfile V3000"},{id:"seq",label:"Sequence"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"axo-labs",label:"AxoLabs"},{id:"helm",label:"HELM"}],Ch=[{id:yh,label:"RNA"},{id:"dna",label:"DNA"},{id:bh,label:"Peptide"}],kh=[{id:wh,label:"1-letter code"},{id:Ah,label:"3-letter code"}],Oh=h.vsV,Sh={openOptions:"openOptions",textEditor:"textEditor"},jh=function(e){var t=e.ketSerializer,n=e.editor,r=e.struct,o=!n.drawingEntitiesManager.hasDrawingEntities,i=t.deserializeToDrawingEntities(r);if(!i)throw new Error("Error during parsing file");i.drawingEntitiesManager.centerMacroStructure();var a=i.drawingEntitiesManager.mergeInto(n.drawingEntitiesManager).command,l=new h.kPZ(n),c=n.mode instanceof h.zuW,u=n.mode instanceof h.G6$;n.mode instanceof h.jZ6&&n.drawingEntitiesManager.hasAntisenseChains&&(a.merge(n.drawingEntitiesManager.applySnakeLayout(!0,!0,!0)),a.setUndoOperationsByPriority()),n.drawingEntitiesManager.detectBondsOverlappedByMonomers(),n.renderersContainer.update(a),l.update(a),c&&(a.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:h.hJO.sequence,mergeWithLatestHistoryCommand:!0})),u&&(a.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:h.hJO.snake,mergeWithLatestHistoryCommand:!0})),o&&n.zoomToStructuresIfNeeded(),n.calculateAndStoreNextAutochainPosition(i.drawingEntitiesManager)},Ih=(Yf=(0,wt.A)(Mt().mark(function e(t){var n,r,o,i,a,l,c,u,s,d,p,f,v,g,y,b,x,w;return Mt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.struct,r=t.formatSelection,o=t.additionalSelection,i=t.peptideLettersFormatSelection,a=t.onCloseCallback,l=t.setIsLoading,c=t.dispatch,u=r===vh,s=r===gh,d=r===xh,p=new h.BBJ,f=h.JxB.provideEditorInstance(),g=n,y=function(e){c(Jc({errorMessage:"Convert error! "+e,errorTitle:s||d?"Unsupported symbols":""}))},!u){e.next=13;break}try{jh({struct:n,ketSerializer:p,editor:f}),a()}catch(e){y("Error during file parsing.")}return e.abrupt("return");case 13:d||s&&i!==Ah?(v=Oh[r][o],g=g.toUpperCase()):v=s&&i===Ah?Oh.seq.peptide3Letter:Oh[r];case 14:return b=m.e3.getIndigo(),e.prev=15,l(!0),e.next=19,b.convert({struct:g,output_format:h.Raq.KET,input_format:v});case 19:x=e.sent,jh({struct:x.struct,ketSerializer:p,editor:f}),a(),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(15),w="string"==typeof e.t0?e.t0:JSON.stringify(e.t0),y(w),h.$yr.error(e.t0);case 29:return e.prev=29,l(!1),e.finish(29);case 32:case"end":return e.stop()}},e,null,[[15,24,29,32]])})),function(e){return Yf.apply(this,arguments)}),Ph=function(e){},_h=["value","id","onChange","label","type","className","inputClassName"];function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Lh,Dh=(0,ct.A)("label",{target:"e10m4n7r1"})(function(e){return{display:"flex",flexDirection:"column",marginRight:"8px",color:e.theme.ketcher.color.text.primary,fontSize:"12px"}},""),Th=(0,ct.A)("input",{target:"e10m4n7r0"})(function(e){var t=e.theme;return{height:"24px",padding:"3px 7px",border:"1px solid ".concat(t.ketcher.color.input.border.regular),fontSize:"14px",borderRadius:"4px",backgroundColor:t.ketcher.color.input.background.primary,color:t.ketcher.color.text.primary,outline:"transparent",width:"164px",letterSpacing:"normal","&:active, &:focus":{color:t.ketcher.color.input.text.active},"&:hover":{border:"1px solid ".concat(t.ketcher.color.input.border.hover)}}},""),Bh=function(e){var t=e.value,n=e.id,r=e.onChange,o=e.label,i=e.type,a=e.className,l=e.inputClassName,s=(0,Ct.A)(e,_h);return u(Dh,{htmlFor:n,className:a,children:[o&&c("span",{children:o}),c(Th,Nh({type:i||"text",id:n,value:t,className:l,onChange:function(e){r(e.target.value)}},s))]})};!function(e){e.Ket="chemical/x-ket",e.Mol="chemical/x-mdl-molfile",e.HELM="chemincal/x-helm",e.Fasta="chemical/x-fasta",e.Sequence="chemical/x-sequence",e.Idt="chemical/x-idt",e.AxoLabs="chemical/x-axo-labs",e.Svg="image/svg+xml"}(Lh||(Lh={}));var zh=(0,mt.A)(function e(t,n,r,o,i){(0,ht.A)(this,e),this.name=t,this.mime=n,this.extensions=r,this.supportsCoords=o||!1,this.options=i||{}}),Rh={ket:new zh("Ket file",Lh.Ket,[".ket"],!0,{}),mol:new zh("MDL Molfile V3000",Lh.Mol,[".mol"],!0,{"molfile-saving-mode":"3000"}),fasta:new zh("FASTA",Lh.Fasta,[".fasta"],!1,{}),sequence:new zh("SEQUENCE",Lh.Sequence,[".seq"],!1,{}),"sequence-3-letter":new zh("SEQUENCE (3-letter code)",Lh.Sequence,[".seq"],!1,{}),idt:new zh("IDT",Lh.Idt,[".idt"],!1,{}),"axo-labs":new zh("AxoLabs",Lh.AxoLabs,[".axolabs"],!1,{}),helm:new zh("HELM",Lh.HELM,[".helm"]),svg:new zh("SVG Document",Lh.Svg,[".svg"])},Fh=function(e){return Rh[e]},Hh=[{id:"ket",label:"Ket Format"},{id:"mol",label:"MDL Molfile V3000"},{id:"sequence",label:"Sequence (1-letter code)"},{id:"sequence-3-letter",label:"Sequence (3-letter code)"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"axo-labs",label:"AxoLabs"},{id:"svg",label:"SVG Document"},{id:"helm",label:"HELM"}],qh={mol:h.Raq.Mol,fasta:h.Raq.FASTA,sequence:h.Raq.SEQUENCE,"sequence-3-letter":h.Raq.PeptideSequenceThreeLetter,idt:h.Raq.IDT,"axo-labs":h.Raq.AXOLABS,helm:h.Raq.HELM},Wh=(0,ct.A)(Dp,{target:"e12csxs60"})({name:"krpfk5",styles:"& div.MuiPaper-root{background:white;min-height:400px;min-width:430px;}& .MuiDialogContent-root{overflow:hidden;height:100%;}"}),$h=(0,ct.A)(Ff,{target:"e1kgbmg80"})(function(){return{width:"72px"}},""),Vh=(0,ct.A)("div",{target:"e11sfr0q0"})({name:"606i4c",styles:"padding:12px"}),Uh=(0,ct.A)("div",{target:"e1wvbgsi0"})({name:"606i4c",styles:"padding:12px"}),Yh=(0,ct.A)("div",{target:"e1tvvbc92"})(function(){return{display:"flex",flexDirection:"column",rowGap:"2px",alignItems:"center",marginBottom:"5px"}},""),Gh=(0,ct.A)("span",{target:"e1tvvbc91"})(function(e){return{margin:0,padding:0,textAlign:"center",display:"block",font:e.theme.ketcher.font.family.inter,fontSize:e.theme.ketcher.font.size.small,fontWeight:e.theme.ketcher.font.weight.regular,color:e.disabled?"rgba(180, 185, 214, 1)":e.theme.ketcher.color.text.light}},""),Qh=(0,ct.A)("div",{target:"e1tvvbc90"})(function(){return{height:"100%"}},""),Kh=function(e){return"O"===e?"OH":e},Xh=(0,ct.A)(m.c9,{target:"e1huhxto1"})(function(e){var t=e.theme,n=e.isExpanded;return{display:"flex",border:"1.5px solid ".concat(t.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:n?"auto":"150px",width:n?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),Zh=(0,ct.A)("div",{target:"e1huhxto0"})({name:"wfzm1y",styles:"display:flex;flex-wrap:wrap;justify-content:center;align-self:flex-start;width:100%;gap:7px"}),Jh=(0,ct.A)("div",{target:"e8i5wzj0"})({name:"2oefzz",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;padding:8px;color:#7c7c7f;border:1px solid #cad3dd;width:100%;height:100%"}),em=function(e){var t=e.testId;return u(Jh,{"data-testid":t,children:[c(m.In,{name:"questionMark"}),"Unknown structure"]})},tm=(0,ct.A)("div",{target:"e1q9gayd0"})(function(e){var t=e.theme,n=e.expanded;return{display:"flex",border:"1.5px solid ".concat(t.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:n?"auto":"150px",width:n?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),nm=function(e){var t=e.monomer,n=e.expanded,r=e.selectedAttachmentPoint,o=e.connectedAttachmentPoints,i=e.usage,l=e.testId,u=(0,a.useRef)(null);return(0,a.useLayoutEffect)(function(){var e=u.current;if(e){var n=Bo(e);if(t instanceof h.cN8){var a=(e.width.baseVal.value-e.x.baseVal.value)/2,l=(e.height.baseVal.value-e.y.baseVal.value)/2,c=new h.ZY9(a,l),s=h.E$k.canvasToModel(c),d=new h.cN8(t.variantMonomerItem,s);new h.TYn(d).showExternal({canvas:n,usage:i,selectedAttachmentPoint:r,connectedAttachmentPoints:o})}}},[r,o]),c(tm,{expanded:n,"data-testid":l,children:c("svg",{ref:u})})},rm=function(e){var t,n=e.monomer,r=e.attachmentPoints,o=e.connectedAttachmentPoints,i=e.selectedAttachmentPoint,a=e.usage,s=e.needCache,d=e.update,p=e.expanded,f=e.testId,m=n instanceof h.cN8,v=n.monomerItem.props.unresolved;return t=m?c(nm,{monomer:n,expanded:p,selectedAttachmentPoint:i,connectedAttachmentPoints:o,usage:a,testId:f}):v?c(em,{testId:f}):c(Xh,{struct:n.monomerItem.struct,options:{connectedMonomerAttachmentPoints:o,currentlySelectedMonomerAttachmentPoint:null!=i?i:void 0,usageInMacromolecule:a,labelInMonomerConnectionsModal:!0,needCache:null!=s&&s},update:d,isExpanded:p,testId:f}),u(l,{children:[t,c(Zh,{children:c(l,{children:r})})]})},om=(0,ct.A)("div",{target:"e14t14ao2"})(function(e){var t=e.theme,n=e.isExpanded;return{margin:0,padding:0,textAlign:"center",alignSelf:"flex-end",display:"block",font:t.ketcher.font.family.inter,fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular,flexBasis:"200px",lineHeight:"14px",maxWidth:n?void 0:"150px"}},""),im=(0,ct.A)("div",{target:"e14t14ao1"})(function(e){var t=e.theme;return{width:10,height:2,display:"block",color:t.ketcher.color.button.secondary.hover,backgroundColor:t.ketcher.color.button.secondary.hover,borderRadius:20,margin:"auto"}},""),am=(0,ct.A)("div",{target:"e14t14ao0"})(function(){return{display:"grid",gridAutoFlow:"column",gridTemplateRows:"auto auto auto",gridTemplateColumns:"1fr 10px 1fr",justifyContent:"center",alignItems:"flex-start",padding:"12px",paddingBottom:0,height:"100%",columnGap:"12px",rowGap:"8px"}},""),lm=function(e){return e instanceof h.cN8?function(e){var t=e.monomerClass,n=e.variantMonomerItem,r=n.label,o=n.options||[];if(t===h.IPc.Base){var i=o.some(function(e){return e.templateId.toLowerCase().includes("thymine")}),a=o.some(function(e){return e.templateId.toLowerCase().includes("uracil")});return i?"N"===r?"Any DNA base":"Ambiguous DNA Base":a?"N"===r?"Any RNA Base":"Ambiguous RNA Base":"Ambiguous Base"}return t===h.IPc.AminoAcid?"X"===r?"Any Amino acid":"Ambiguous Amino acid":"Ambiguous ".concat(t)}(e):e.monomerItem.props.Name},cm=function(e){var t=e.firstMonomer,n=e.secondMonomer,r=e.expanded,o=e.firstMonomerOverview,i=e.secondMonomerOverview,a=lm(t),s=lm(n);return c(am,{children:u(l,{children:[c(om,{isExpanded:r,children:a}),o,c("span",{}),c(im,{}),c("span",{}),c(om,{isExpanded:r,children:s}),i]})})};function um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var sm=(0,ct.A)(Dp,{target:"e1byht5d3"})({name:"1j7jcep",styles:"& .MuiPaper-root{background:#fff !important;}& .MuiDialogContent-root{overflow:hidden;}"}),dm=(0,ct.A)(Ff,{target:"e1byht5d2"})(function(){return{width:"97px !important"}},""),pm=(0,ct.A)(Ff,{target:"e1byht5d1"})(function(e){return{width:"97px !important",color:e.disabled?"rgba(51, 51, 51, 0.6)":"",background:e.disabled?"rgba(225, 229, 234, 1) !important":"",opacity:"1 !important",minHeight:"0"}},""),fm=(0,ct.A)(Ff,{target:"e1byht5d0"})(function(e){return{borderRadius:5,minWidth:"45px !important",padding:"4px",border:"1px solid ".concat(e.theme.ketcher.color.border.secondary),color:e.disabled?"rgba(51, 51, 51, 0.6) !important":"",background:e.disabled?"rgba(225, 229, 234)":"",borderColor:e.disabled?"rgba(225, 229, 234) !important":""}},"");function hm(e){var t=e.monomer,n=e.selectedAttachmentPoint,o=e.onSelectAttachmentPoint,i=e.expanded,l=void 0!==i&&i,s=e.position,d=(0,a.useState)(t.attachmentPointsToBonds),p=(0,r.A)(d,2),f=p[0],m=p[1],v=(0,a.useState)(function(){return Us(f)}),g=(0,r.A)(v,2),y=g[0],b=g[1];(0,a.useEffect)(function(){m(t.attachmentPointsToBonds)},[n]),(0,a.useEffect)(function(){var e=Us(f);b(e)},[f]);var x=function(e){var n=t.monomerCaps,r=t instanceof h.cN8;if(!n)return r?null:"H";var o=n[e];return Kh(o)};return c(rm,{monomer:t,connectedAttachmentPoints:y,selectedAttachmentPoint:n,usage:h.HT5.MonomerConnectionsModal,update:l,expanded:l,attachmentPoints:t.listOfAttachmentPoints.map(function(e){var r=Boolean(y.includes(e)&&e!==n);return u(Yh,{children:[c(fm,{label:e,styleType:e===n?"primary":"secondary",clickHandler:function(){return function(e){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?um(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.attachmentPointsToBonds),i=n?r[n]:null;n&&i&&t.removeBond(i);var a=t.getPotentialBond(e);r[e]=a,m(r),o(e);var l=Us(r);b(l)}(e)},disabled:r,"data-testid":"".concat(s,"-").concat(e),"data-isactive":e===n}),c(Gh,{"data-testid":"leaving-group-value",disabled:r,children:x(e)})]},e)}),testId:"".concat(s,"-monomer-preview")})}function mm(e){if(e.chosenFirstAttachmentPointForBond)return e.chosenFirstAttachmentPointForBond;if(e.chosenSecondAttachmentPointForBond)return e.chosenSecondAttachmentPointForBond;var t=Object.entries(e.attachmentPointsToBonds).filter(function(e){var t=(0,r.A)(e,2);return t[0],null==t[1]});return 1===t.length?(0,r.A)(t[0],1)[0]:null}var vm=(0,ct.A)("p",{target:"e1e4h5hm0"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),gm={open:function(e){var t=e.isModalOpen,o=e.onClose,i=Gs(),s=(0,a.useState)(""),d=(0,r.A)(s,2),p=d[0],f=d[1],m=(0,a.useState)(""),v=(0,r.A)(m,2),g=v[0],y=v[1],b=(0,a.useState)(!1),x=(0,r.A)(b,2),w=x[0],A=x[1],M=(0,a.useState)(),C=(0,r.A)(M,2),k=C[0],O=C[1],S=(0,a.useState)(Sh.openOptions),j=(0,r.A)(S,2),I=j[0],P=j[1],_=(0,a.useState)(vh),E=(0,r.A)(_,2),N=E[0],L=E[1],D=(0,a.useState)(yh),T=(0,r.A)(D,2),B=T[0],z=T[1],R=(0,a.useState)(wh),F=(0,r.A)(R,2),H=F[0],q=F[1];(0,a.useEffect)(function(){var e=null==g?void 0:g.split("."),t=e[e.length-1];if(t){var n=Mh.find(function(e){return e.id===t}),r=null!=n&&n.id?n.id:gh;L(r)}},[g]),(0,a.useEffect)(function(){new Promise(function(e,t){n.g.FileReader?e(Hf):t(new Error("Your browser does not support opening files locally"))}).then(function(e){O({chosenOpener:e})})},[]);var W=(0,a.useCallback)(function(){P(Sh.openOptions),f(""),L(vh),z(yh),o()},[o]);return u(lh,{isOpen:t,title:"Open Structure",onClose:W,modalWidth:I===Sh.textEditor?"620px":"",testId:"openStructureModal",children:[c(Dp.Content,{children:u(qf,{currentState:I,children:[c(Nf,{isAnalyzingFile:false,fileName:g,currentState:I,states:Sh,selectClipboard:function(){return P(Sh.textEditor)},fileLoadHandler:function(e){y(e[0].name),null==k||k.chosenOpener(e[0]).then(function(e){f(e),P(Sh.textEditor)},function(){})},errorHandler:Ph,value:p,inputHandler:f}),w&&c(oh,{children:c(sf,{})})]})}),I===Sh.textEditor?c(Dp.Footer,{withborder:"true",children:u(ch,{children:[u(uh,{children:[c(dh,{options:Mh,currentSelection:N,selectionHandler:L,customStylesForExpanded:rh},N),N===gh||N===xh?c(ph,{options:Ch,currentSelection:B,selectionHandler:z,customStylesForExpanded:rh,testId:"dropdown-select-type"},B):null,N===gh&&B===bh?c(fh,{options:kh,currentSelection:H,selectionHandler:q,testId:"dropdown-select-peptide-letters-format"}):null]}),u(hh,{children:[c(mh,{disabled:!p.trim(),clickHandler:function(){var e=h.JxB.provideEditorInstance(),t=new h.kPZ(e),n=e.drawingEntitiesManager.deleteAllEntities();t.update(n),e.renderersContainer.update(n),e.zoomToStructuresIfNeeded(),Ih({struct:p,formatSelection:N,additionalSelection:B,peptideLettersFormatSelection:H,onCloseCallback:W,setIsLoading:A,dispatch:i})},label:"Open as New",styleType:"secondary","data-testid":"open-as-new-button"},"openButton"),c(mh,{disabled:!p.trim(),clickHandler:function(){Ih({struct:p,formatSelection:N,additionalSelection:B,peptideLettersFormatSelection:H,onCloseCallback:W,setIsLoading:A,dispatch:i})},label:"Add to Canvas",title:"Structure will be loaded as fragment and added to Clipboard","data-testid":"add-to-canvas-button"},"copyButton")]})]})}):c(l,{})]})},save:function(e){var t,n=e.onClose,o=e.isModalOpen,i=Gs(),l=(0,a.useState)("ket"),s=(0,r.A)(l,2),d=s[0],p=s[1],f=(0,a.useState)("ketcher"),v=(0,r.A)(f,2),g=v[0],y=v[1],b=(0,a.useState)(""),x=(0,r.A)(b,2),w=x[0],A=x[1],M=(0,a.useState)(!1),C=(0,r.A)(M,2),k=C[0],O=C[1],S=(0,a.useState)(),j=(0,r.A)(S,2),I=j[0],P=j[1],_=m.e3.getIndigo(),E=h.JxB.provideEditorInstance(),N=(t=(0,wt.A)(Mt().mark(function e(t){var n,r,o,a,l,c,u,s,d;return Mt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p(t),n=new h.BBJ,r=n.serialize(E.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),E.drawingEntitiesManager),P(void 0),"ket"!==t){e.next=7;break}return A(r),e.abrupt("return");case 7:if("svg"!==t){e.next=14;break}return o=E.ketcherRootElementBoundingClientRect,a=(null==o?void 0:o.x)||0,l=(null==o?void 0:o.y)||0,c=(0,h.xRJ)(E.canvas,"preview",{horizontal:a,vertical:l}),P(c),e.abrupt("return");case 14:if("helm"!==t||(0,h.aVK)(Array.from(E.drawingEntitiesManager.monomers.values()),E.monomersLibrary)||E.events.error.dispatch("Some of the monomers do not have aliases in the HELM Core Library - they are exported using Ketcher aliases."),e.prev=15,O(!0),"fasta"!==t&&"sequence"!==t){e.next=21;break}if(E.drawingEntitiesManager.validateIfApplicableForFasta()){e.next=21;break}throw new Error("Error during sequence type recognition(RNA, DNA or Peptide)");case 21:return e.next=23,_.convert({struct:r,output_format:qh[t]});case 23:u=e.sent,A(u.struct),e.next=34;break;case 27:e.prev=27,e.t0=e.catch(15),s=e.t0 instanceof Error?e.t0.message:"string"==typeof e.t0?e.t0:JSON.stringify(e.t0),i(Jc(d="Convert error! "+s)),h.$yr.error(d),p("ket");case 34:return e.prev=34,O(!1),e.finish(34);case 37:case"end":return e.stop()}},e,null,[[15,27,34,37]])})),function(e){return t.apply(this,arguments)}),L=function(){var e;if("svg"===d){var t=E.ketcherRootElementBoundingClientRect,r=(null==t?void 0:t.x)||0,o=(null==t?void 0:t.y)||0,i=(0,h.xRJ)(E.canvas,"file",{horizontal:r,vertical:o});if(!i)return void n();e=i}else e=w;var a=new Blob([e],{type:Fh(d).mime}),l=Fh(d);(0,jt.saveAs)(a,"".concat(g).concat(l.extensions[0])),n()};return(0,a.useEffect)(function(){if("ket"===d){var e=(new h.BBJ).serialize(E.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),E.drawingEntitiesManager);A(e)}},[d]),u(Wh,{title:"save structure",isOpen:o,onClose:n,testId:"save-structure-dialog",children:[c(Dp.Content,{children:u(eh,{onSubmit:L,id:"save",children:[u(th,{style:{padding:"12px 12px 10px"},children:[c("div",{children:c(Bh,{value:g,id:"filename",onChange:function(e){y(e)},label:"File name:","data-testid":"filename-input"})}),c(nh,{label:"File format:",options:Hh,currentSelection:d,selectionHandler:N,customStylesForExpanded:rh,testId:"file-format-list"})]}),I?c(ih,{dangerouslySetInnerHTML:{__html:I},"data-testid":"preview-area"}):u(ah,{children:[c(If,{testId:"preview-area",value:w,readonly:!0}),c(m.K0,{onClick:function(e){e.preventDefault();try{(0,h.ulQ)()?navigator.clipboard.writeText(w):(0,h.VVv)(e.clipboardData,{"text/plain":w})}catch(e){h.$yr.error("copyAs.js::copyAs",e),i(Jc("This feature is not available in your browser"))}},iconName:"copy",title:"Copy to clipboard",testId:"copy-to-clipboard"}),k&&c(oh,{children:c(sf,{})})]})]})}),u(Dp.Footer,{children:[c(Ff,{label:"Cancel",styleType:"secondary",clickHandler:n,"data-testid":"cancel-button"}),c(Ff,{label:"Save",clickHandler:L,disabled:!g,"data-testid":"save-button"})]})]})},delete:function(e){var t=e.isModalOpen,n=e.onClose,r=Gs(),o=Qs(Eu),i=Qs(tc),l=(0,a.useCallback)(function(){n()},[n]);return u(Dp,{isOpen:t,title:"Delete RNA Preset",onClose:l,"data-testid":"delete-preset-modal",children:[c(Dp.Content,{children:u(Vh,{"data-testid":"delete-preset-popup-content",children:[c("div",{children:"You are about to delete"}),u("div",{children:['"',o.name,'" RNA preset.']}),c("div",{children:"This operation cannot be undone."})]})}),u(Dp.Footer,{children:[c($h,{clickHandler:function(){l()},label:"Cancel",styleType:"secondary","data-testid":"cancel-delete-preset-button"},"cancel"),c($h,{clickHandler:function(){l(),r(Yu(o)),r(Qu(!1)),r(Gu()),null==i||i.events.selectPreset.dispatch(null)},label:"Delete","data-testid":"delete-preset-button"},"delete")]})]})},updateSequenceInRNABuilder:function(e){var t=e.isModalOpen,n=e.onClose,r=Gs(),o=Qs(wu),i=Qs(tc),l=hp(o),s=(0,a.useCallback)(function(){n()},[n]);return u(Dp,{isOpen:t,title:"Update sequence",onClose:s,children:[c(Dp.Content,{children:u(Uh,{children:["You are going to modify ",l," nucleotides. Are you sure?"]})}),u(Dp.Footer,{children:[c(Ff,{clickHandler:function(){s()},label:"Cancel",styleType:"secondary",title:"","data-testid":"update-sequence-cancel-button"},"cancel"),c(Ff,{clickHandler:function(){s(),null==i||i.events.modifySequenceInRnaBuilder.dispatch(o),fp(r,i)},label:"Yes",title:"","data-testid":"update-sequence-yes-button"},"update")]})]})},monomerConnection:function(e){var t=e.onClose,n=e.isModalOpen,o=e.firstMonomer,i=e.secondMonomer,l=e.polymerBond,s=e.isReconnectionDialog,d=Qs(tc),p=(0,a.useRef)(null==l?void 0:l.firstMonomerAttachmentPoint),f=(0,a.useRef)(null==l?void 0:l.secondMonomerAttachmentPoint),h=(0,a.useRef)((null==o?void 0:o.hasFreeAttachmentPoint)||(null==i?void 0:i.hasFreeAttachmentPoint));if(!o||!i)throw new Error("Monomers must exist!");var m=(0,a.useState)(p.current||mm(o)),v=(0,r.A)(m,2),g=v[0],y=v[1],b=(0,a.useState)(f.current||mm(i)),x=(0,r.A)(b,2),w=x[0],A=x[1],M=(0,a.useState)(!1),C=(0,r.A)(M,2),k=C[0],O=C[1],S=function(){var e;s?(null==l||l.firstMonomer.setBond(p.current,l),null==l||null===(e=l.secondMonomer)||void 0===e||e.setBond(f.current,l),t()):(null==d||d.events.cancelBondCreationViaModal.dispatch(i),t())};return u(sm,{title:s?"Edit Attachment Points":"Select Attachment Points",isOpen:n,onClose:S,showExpandButton:!0,modalWidth:"358px",expanded:k,setExpanded:O,testId:"monomer-connection-modal",children:[c(Dp.Content,{children:c(Qh,{children:c(cm,{firstMonomer:o,secondMonomer:i,expanded:k,firstMonomerOverview:c(hm,{monomer:o,selectedAttachmentPoint:g,onSelectAttachmentPoint:y,expanded:k,position:"left"}),secondMonomerOverview:c(hm,{monomer:i,selectedAttachmentPoint:w,onSelectAttachmentPoint:A,expanded:k,position:"right"})})})}),u(Dp.Footer,{children:[c(dm,{label:"Cancel","data-testid":"cancel-button",styleType:"secondary",clickHandler:S}),c(pm,{label:s?"Reconnect":"Connect","data-testid":s?"Reconnect-button":"Connect-button",disabled:!g||!w||!h.current,clickHandler:function(){if(!g||!w)throw new Error("Attachment points cannot be falsy");g!==p.current||w!==f.current?(null==d||d.events.createBondViaModal.dispatch({firstMonomer:o,secondMonomer:i,firstSelectedAttachmentPoint:g,secondSelectedAttachmentPoint:w,polymerBond:l,isReconnection:s,initialFirstMonomerAttachmentPoint:p.current,initialSecondMonomerAttachmentPoint:f.current}),t()):S()}})]})]})},confirmationDialog:function(e){var t=e.title,n=e.confirmationText,r=e.onConfirm,o=e.isModalOpen,i=e.onClose;return u(Dp,{isOpen:o,title:null!=t?t:"Confirm your action",onClose:i,testId:"confirmation-dialog",children:[c(Dp.Content,{children:c(vm,{"data-testid":"confirmation-text",children:n})}),u(Dp.Footer,{children:[c(Ff,{label:"Cancel",clickHandler:i,"data-testid":"cancel-button"}),c(Ff,{label:"Yes",clickHandler:function(){r(),i()},styleType:"secondary","data-testid":"yes-button"})]})]})}};function ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var bm=function(){var e=Qs(nu),t=Qs(tu),n=Qs(ru),r=Gs(),o=(0,a.useCallback)(function(){r(Kc())},[r]);if(!t)return null;var i=gm[t];if(!i)throw new Error("There is no modal window named ".concat(t));return c(i,n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ym(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onClose:o,isModalOpen:e},n):{onClose:o,isModalOpen:e})},xm=(0,ct.A)("div",{target:"e15avtnm2"})({name:"1bweptz",styles:"background-color:#333333;max-height:40px;display:flex;align-items:stretch"}),wm=(0,ct.A)("div",{target:"e15avtnm1"})({name:"1my6l07",styles:"max-width:356px;padding:4px 10px 4px 10px;color:white;display:flex"}),Am=(0,ct.A)(m.K0,{target:"e15avtnm0"})({name:"1c8hqv0",styles:"color:white;width:24px;height:auto;display:flex;align-items:center;justify-content:center;&:hover{background-color:#585858;color:white;}svg{width:16px;height:16px;}"}),Mm=function(){return u(l,{children:[c("symbol",{id:"chem",viewBox:"0 0 59 59",width:"59",height:"59",children:c("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"0.75"})}),c("symbol",{id:"chem-selection",viewBox:"0 0 59 59",width:"59",height:"59",children:c("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"0.75",stroke:"#0097A8",fill:"none",strokeWidth:"1.5"})}),u("symbol",{id:"chem-autochain-preview",viewBox:"0 0 32 32",width:"32",height:"32","data-actual-width":"32","data-actual-height":"32",children:[c("path",{d:"M1 4.63574V2.63574C1 1.53117 1.89543 0.635742 3 0.635742H5"}),c("path",{d:"M1 26.6357V28.6357C1 29.7403 1.89543 30.6357 3 30.6357H5"}),c("path",{d:"M31 4.63574V2.63574C31 1.53117 30.1046 0.635742 29 0.635742H27"}),c("path",{d:"M31 26.6357V28.6357C31 29.7403 30.1046 30.6357 29 30.6357H27"}),c("path",{d:"M7.02142 30.6357L10.0214 30.6357"}),c("path",{d:"M12.0013 30.6357L15.0013 30.6357"}),c("path",{d:"M16.9816 30.6357L19.9816 30.6357"}),c("path",{d:"M22.0222 30.6357L25.0222 30.6357"}),c("path",{d:"M1.02185 6.63574L1.02185 9.63574"}),c("path",{d:"M1.02185 11.6152L1.02185 14.6152"}),c("path",{d:"M1.02185 16.5957L1.02185 19.5957"}),c("path",{d:"M1.02185 21.6367L1.02185 24.6367"}),c("path",{d:"M7.02142 0.635742L10.0214 0.635742"}),c("path",{d:"M12.0013 0.635742L15.0013 0.635742"}),c("path",{d:"M16.9816 0.635742L19.9816 0.635742"}),c("path",{d:"M22.0222 0.635742L25.0222 0.635742"}),c("path",{d:"M31.0219 6.63574L31.0219 9.63574"}),c("path",{d:"M31.0219 11.6152L31.0219 14.6152"}),c("path",{d:"M31.0219 16.5957L31.0219 19.5957"}),c("path",{d:"M31.0219 21.6367L31.0219 24.6367"})]})]})},Cm=function(){return u(l,{children:[c("symbol",{id:"peptide",viewBox:"0 0 70 61",width:"70",height:"61",children:c("path",{className:"monomer-body",transform:"scale(0.5)","data-actual-width":"35","data-actual-height":"30.5",d:"M16.9236 1.00466C17.2801 0.383231 17.9418 6.10888e-07 18.6583 5.98224e-07L51.3417 2.04752e-08C52.0582 7.81036e-09 52.7199 0.383234 53.0764 1.00466L69.4289 29.5047C69.7826 30.1211 69.7826 30.8789 69.4289 31.4953L53.0764 59.9953C52.7199 60.6168 52.0582 61 51.3417 61H18.6583C17.9418 61 17.2801 60.6168 16.9236 59.9953L0.571095 31.4953C0.217407 30.8789 0.217408 30.1211 0.571096 29.5047L16.9236 1.00466Z"})}),u("symbol",{id:"peptide-hover",viewBox:"0 0 70 61",width:"70",height:"61",children:[c("path",{d:"M18.2246 1.75116C18.3137 1.59581 18.4792 1.5 18.6583 1.5L51.3417 1.5C51.5208 1.5 51.6863 1.59581 51.7754 1.75116L53.06 1.01408L51.7754 1.75117L68.1279 30.2512C68.2163 30.4053 68.2163 30.5947 68.1279 30.7488L51.7754 59.2488C51.6863 59.4042 51.5208 59.5 51.3417 59.5H18.6583C18.4792 59.5 18.3137 59.4042 18.2246 59.2488L1.87215 30.7488C1.78372 30.5947 1.78372 30.4053 1.87215 30.2512L18.2246 1.75116Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8",strokeWidth:"3"})," "]}),c("symbol",{id:"modified-background",viewBox:"0 0 60 20",width:"30",height:"20",x:"2.5",y:"5",children:c("path",{xmlns:"http://www.w3.org/2000/svg",d:"M6.52702 20C5.81057 20 5.14885 19.6168 4.79229 18.9953L0.570974 11.6382C0.217285 11.0218 \n           0.217285 10.2639 0.570974 9.64751L5.52999 1.00466C5.88654 0.383235 6.54827 0 7.26472 0H52.735C53.4515\n           0 54.1132 0.383234 54.4698 1.00466L59.4288 9.64751C59.7825 10.2639 59.7825 11.0218 59.4288 11.6382\n           L55.2075 18.9953C54.8509 19.6168 54.1892 20 53.4727 20H6.52702Z",fillOpacity:"0.6"})}),u("symbol",{id:"peptide-autochain-preview",viewBox:"0 0 37 32",width:"37",height:"32","data-actual-width":"37","data-actual-height":"32",children:[c("path",{d:"M8.27143 3.53027L9.29272 1.77462C9.65083 1.15901 10.3093 0.780274 11.0215 0.780274L13.1642 0.780274M29.2131 3.53027L28.1919 1.77462C27.8337 1.15901 27.1753 0.780273 26.4631 0.780273L24.3164 0.780273M2.45429 13.5303L1.585 15.0246C1.22337 15.6463 1.22337 16.4143 1.585 17.0359L2.45429 18.5303M29.0386 28.5303L28.0233 30.2756C27.6619 30.897 26.991 31.2803 26.2646 31.2803L24.1459 31.2803M8.09693 28.5303L9.11221 30.2756C9.47371 30.897 10.1446 31.2803 10.871 31.2803H12.9936M34.8558 18.5303L35.7311 17.0256C36.0896 16.4092 36.0896 15.6514 35.7311 15.0349L34.8558 13.5303"}),c("path",{d:"M14.8937 0.780178L17.8937 0.780178"}),c("path",{d:"M19.597 0.780178L22.597 0.780178"}),c("path",{d:"M14.8937 31.2804H17.8937"}),c("path",{d:"M19.597 31.2804H22.597"}),c("path",{d:"M3.61253 11.7412L5.11253 9.14309"}),c("path",{d:"M5.96421 7.66792L7.46421 5.06984"}),c("path",{d:"M30.1034 26.877L31.6034 24.2789"}),c("path",{d:"M32.455 22.8038L33.955 20.2057"}),c("path",{d:"M7.32633 26.9903L5.82633 24.3922"}),c("path",{d:"M4.97465 22.917L3.47465 20.319"}),c("path",{d:"M33.9528 11.8759L32.4782 9.26339"}),c("path",{d:"M31.6409 7.78023L30.1662 5.16769"})]})]})},km=function(){return u(l,{children:[c("symbol",{id:"sugar",viewBox:"0 0 70 70",width:"70",height:"70",children:c("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",rx:"5"})}),c("symbol",{id:"sugar-selection",viewBox:"-1 -1 100 100",width:"70",height:"70",children:c("rect",{width:"39",height:"39",rx:"5",fill:"none",stroke:"#0097A8",strokeWidth:"2.5"})}),c("symbol",{id:"sugar-variant",viewBox:"0 0 72 72",width:"70",height:"70",children:c("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",x:"0.5",y:"0.5",rx:"5",stroke:"#585858",strokeWidth:"0.5"})}),c("symbol",{id:"sugar-modified-background",viewBox:"0 0 28 10",width:"27",height:"10",x:"0.7",y:"10",children:c("path",{d:"M1.5 10C0.947715 10 0.5 9.55229 0.5 9V1C0.5 0.447715 0.947715 0 1.5 0H26.5C27.0523 0 27.5 0.447715 27.5 1V9C27.5 9.55228 27.0523 10 26.5 10H1.5Z",fill:"white",fillOpacity:"0.6"})}),u("symbol",{id:"sugar-autochain-preview",viewBox:"0 0 32 32",width:"32",height:"32","data-actual-width":"32","data-actual-height":"32",children:[c("path",{d:"M1 4.63574V2.63574C1 1.53117 1.89543 0.635742 3 0.635742H5"}),c("path",{d:"M1 26.6357V28.6357C1 29.7403 1.89543 30.6357 3 30.6357H5"}),c("path",{d:"M31 4.63574V2.63574C31 1.53117 30.1046 0.635742 29 0.635742H27"}),c("path",{d:"M31 26.6357V28.6357C31 29.7403 30.1046 30.6357 29 30.6357H27"}),c("path",{d:"M7.02142 30.6357L10.0214 30.6357"}),c("path",{d:"M12.0013 30.6357L15.0013 30.6357"}),c("path",{d:"M16.9816 30.6357L19.9816 30.6357"}),c("path",{d:"M22.0222 30.6357L25.0222 30.6357"}),c("path",{d:"M1.02185 6.63574L1.02185 9.63574"}),c("path",{d:"M1.02185 11.6152L1.02185 14.6152"}),c("path",{d:"M1.02185 16.5957L1.02185 19.5957"}),c("path",{d:"M1.02185 21.6367L1.02185 24.6367"}),c("path",{d:"M7.02142 0.635742L10.0214 0.635742"}),c("path",{d:"M12.0013 0.635742L15.0013 0.635742"}),c("path",{d:"M16.9816 0.635742L19.9816 0.635742"}),c("path",{d:"M22.0222 0.635742L25.0222 0.635742"}),c("path",{d:"M31.0219 6.63574L31.0219 9.63574"}),c("path",{d:"M31.0219 11.6152L31.0219 14.6152"}),c("path",{d:"M31.0219 16.5957L31.0219 19.5957"}),c("path",{d:"M31.0219 21.6367L31.0219 24.6367"})]})]})},Om=function(){return u(l,{children:[c("symbol",{id:"phosphate",viewBox:"0 0 70 70",width:"70",height:"70",children:c("rect",{className:"monomer-body",width:"28",height:"28","data-actual-width":"28","data-actual-height":"28",rx:"15"})}),c("symbol",{id:"phosphate-selection",viewBox:"-1 -1 75 75",width:"70",height:"70",children:c("rect",{width:"28",height:"28",rx:"15",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})}),c("symbol",{id:"phosphate-variant",viewBox:"0 0 70 70",width:"70",height:"70",children:c("rect",{className:"monomer-body",width:"27",height:"27","data-actual-width":"27","data-actual-height":"27",stroke:"#585858",strokeWidth:"0.5",x:"0.5",y:"0.5",rx:"15"})}),c("symbol",{id:"phosphate-modified-background",viewBox:"0 0 28 10",width:"26",height:"10",x:"1",y:"9.5",children:c("path",{d:"M2.13388 0C1.72465 0 1.35333 0.248229 1.22109 0.635509C0.753639 2.00455 0.5 3.47265 0.5 5C0.5 6.52735 0.753639 7.99545 1.22109 9.36449C1.35333 9.75177 1.72465 10 2.13389 10H25.8661C26.2753 10 26.6467 9.75177 26.7789 9.36449C27.2464 7.99545 27.5 6.52735 27.5 5C27.5 3.47265 27.2464 2.00455 26.7789 0.635509C26.6467 0.248229 26.2753 0 25.8661 0H2.13388Z",fill:"#333333",fillOpacity:"0.6"})}),c("symbol",{id:"phosphate-autochain-preview",viewBox:"-1 -1 30 30",width:"30",height:"30","data-actual-width":"30","data-actual-height":"30",children:c("rect",{width:"28",height:"28",rx:"15",strokeDasharray:"4 4"})})]})},Sm=function(){return u(l,{children:[c("symbol",{id:"rna-base",viewBox:"-16 0 65 65",width:"65",height:"95",children:c("rect",{width:"22.5",height:"22.5","data-actual-width":"31.82","data-actual-height":"31.82",rx:"1",x:"-11.25",y:"-11.25",transform:"rotate(45)",className:"monomer-body"})}),c("symbol",{id:"rna-base-selection",viewBox:"-15.75 -0.25 65 65",width:"65",height:"95",children:c("rect",{width:"21",height:"21",rx:"1",x:"-10.5",y:"-10.5",transform:"rotate(45)",stroke:"#0097A8",strokeWidth:"1.5",fill:"none"})}),c("symbol",{id:"rna-base-variant",viewBox:"-16 0 65 65",width:"65",height:"94",children:c("rect",{width:"21.5",height:"21.5","data-actual-width":"30","data-actual-height":"30",stroke:"#585858",strokeWidth:"0.5",rx:"1",x:"-10.25",y:"-10.25",transform:"rotate(45)",className:"monomer-body"})}),c("symbol",{id:"rna-base-modified-background",viewBox:"0 0 32 10",width:"30",height:"9",x:"0.8",y:"10.8",children:c("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30156 10C6.03634 10 5.78199 9.89464 5.59445 9.70711L1.1508 5.26346C0.760279 4.87293 0.760279 4.23977 1.1508 3.84924L4.70715 0.292893C4.89469 0.105357 5.14904 0 5.41426 0H26.5858C26.851 0 27.1054 0.105357 27.2929 0.292893L30.8493 3.84924C31.2398 4.23977 31.2398 4.87293 30.8493 5.26346L26.4056 9.70711C26.2181 9.89464 25.9637 10 25.6985 10H6.30156Z",fill:"#333333",fillOpacity:"0.6"})}),u("symbol",{id:"rna-base-autochain-preview",viewBox:"0 0 36 36",width:"36",height:"36","data-actual-width":"36","data-actual-height":"36",children:[c("path",{d:"M2.77636 20.2837L1.83359 19.341C1.05254 18.5599 1.05254 17.2936 1.83359 16.5125L2.77468 15.5715"}),c("path",{d:"M15.7398 33.2465L16.6826 34.1893C17.4636 34.9704 18.73 34.9704 19.511 34.1893L20.4521 33.2482"}),c("path",{d:"M20.4412 2.61969L19.4984 1.67691C18.7173 0.89586 17.451 0.895861 16.67 1.67691L15.7289 2.618"}),c("path",{d:"M33.4046 15.5825L34.3474 16.5252C35.1284 17.3063 35.1284 18.5726 34.3474 19.3537L33.4063 20.2948"}),c("path",{d:"M21.6425 32.0586L23.4089 30.2921"}),c("path",{d:"M24.5747 29.126L26.3412 27.3595"}),c("path",{d:"M27.5073 26.1934L29.2737 24.4269"}),c("path",{d:"M30.4753 23.2256L32.2418 21.4591"}),c("path",{d:"M3.96771 21.4492L5.73546 23.217"}),c("path",{d:"M6.90216 24.3838L8.6699 26.1515"}),c("path",{d:"M9.83673 27.3184L11.6045 29.0861"}),c("path",{d:"M12.8069 30.2881L14.5747 32.0558"}),c("path",{d:"M3.96497 14.3809L5.73145 12.6144"}),c("path",{d:"M6.89728 11.4482L8.66376 9.68176"}),c("path",{d:"M9.82977 8.5166L11.5963 6.75012"}),c("path",{d:"M12.7979 5.54785L14.5643 3.78137"}),c("path",{d:"M21.6326 3.78418L23.4003 5.55192"}),c("path",{d:"M24.567 6.71875L26.3347 8.48649"}),c("path",{d:"M27.5016 9.65332L29.2693 11.4211"}),c("path",{d:"M30.4718 12.623L32.2395 14.3908"})]})]})},jm=function(){return u(l,{children:[u("symbol",{id:"unresolved-monomer",viewBox:"0 0 59 59",width:"59",height:"59",children:[c("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",stroke:"#333333"}),c("rect",{width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"#585858"})]}),c("symbol",{id:"unresolved-monomer-hover",children:c("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})}),u("symbol",{id:"unresolved-monomer-autochain-preview",viewBox:"0 0 32 32",width:"32",height:"32","data-actual-width":"32","data-actual-height":"32",children:[c("path",{d:"M1 4.63574V2.63574C1 1.53117 1.89543 0.635742 3 0.635742H5"}),c("path",{d:"M1 26.6357V28.6357C1 29.7403 1.89543 30.6357 3 30.6357H5"}),c("path",{d:"M31 4.63574V2.63574C31 1.53117 30.1046 0.635742 29 0.635742H27"}),c("path",{d:"M31 26.6357V28.6357C31 29.7403 30.1046 30.6357 29 30.6357H27"}),c("path",{d:"M7.02142 30.6357L10.0214 30.6357"}),c("path",{d:"M12.0013 30.6357L15.0013 30.6357"}),c("path",{d:"M16.9816 30.6357L19.9816 30.6357"}),c("path",{d:"M22.0222 30.6357L25.0222 30.6357"}),c("path",{d:"M1.02185 6.63574L1.02185 9.63574"}),c("path",{d:"M1.02185 11.6152L1.02185 14.6152"}),c("path",{d:"M1.02185 16.5957L1.02185 19.5957"}),c("path",{d:"M1.02185 21.6367L1.02185 24.6367"}),c("path",{d:"M7.02142 0.635742L10.0214 0.635742"}),c("path",{d:"M12.0013 0.635742L15.0013 0.635742"}),c("path",{d:"M16.9816 0.635742L19.9816 0.635742"}),c("path",{d:"M22.0222 0.635742L25.0222 0.635742"}),c("path",{d:"M31.0219 6.63574L31.0219 9.63574"}),c("path",{d:"M31.0219 11.6152L31.0219 14.6152"}),c("path",{d:"M31.0219 16.5957L31.0219 19.5957"}),c("path",{d:"M31.0219 21.6367L31.0219 24.6367"})]})]})},Im=function(){return u(l,{children:[c("symbol",{id:"nucleotide",viewBox:"0 0 84 84",width:"42",height:"42",children:c("path",{className:"monomer-body","data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)"})}),c("symbol",{id:"nucleotide-hover",viewBox:"0 0 84 84",width:"42",height:"42",children:c("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8",strokeWidth:"3"})}),u("symbol",{id:"nucleotide-autochain-preview",viewBox:"0 0 36 32",width:"36",height:"32","data-actual-width":"36","data-actual-height":"32",children:[c("path",{d:"M20.3771 2.38574L18.5929 1.0722C18.2402 0.812609 17.7598 0.812609 17.4071 1.0722L15.6229 2.38574M32.6021 11.3857L34.4405 12.7392C34.7769 12.9868 34.9239 13.4174 34.8092 13.8191L34.2725 15.6985M3.39787 11.3857L1.55948 12.7392C1.2231 12.9868 1.07608 13.4174 1.19078 13.8191L1.72751 15.6985M30.8088 27.8266L30.2138 29.9168C30.0914 30.3466 29.6988 30.643 29.252 30.643H27.0063M5.19116 27.8266L5.7931 29.9194C5.91633 30.3479 6.30831 30.643 6.75414 30.643H9.00194"}),c("path",{d:"M10.5017 30.6426L13.5017 30.6426"}),c("path",{d:"M16.5032 30.6426L19.5032 30.6426"}),c("path",{d:"M22.5046 30.6426L25.5046 30.6426"}),c("path",{d:"M2.23663 17.4971L3.06363 20.3808"}),c("path",{d:"M3.83911 23.0859L4.66611 25.9697"}),c("path",{d:"M22.356 3.85059L25.5765 6.22306"}),c("path",{d:"M27.5099 7.64746L30.7304 10.0199"}),c("path",{d:"M13.605 3.85156L10.3846 6.22404"}),c("path",{d:"M8.45105 7.64844L5.23059 10.0209"}),c("path",{d:"M33.7705 17.4971L32.9435 20.3808"}),c("path",{d:"M32.168 23.0859L31.341 25.9697"})]})]})},Pm=function(){return u(l,{children:[c("path",{strokeLinecap:"round",d:"M5,0 0,2.5 5,5z",id:"arrow-marker-content"}),c("marker",{id:"arrow-marker",markerHeight:"3",markerWidth:"5",orient:"auto",refX:"2.5",refY:"1.5",children:c("use",{href:"#arrow-marker-content",transform:"rotate(180 2.5 1.5) scale(1,0.6)",strokeWidth:"1.2500",fill:"black",stroke:"none"})}),c("marker",{id:"arrow-marker-arc",markerWidth:"5",markerHeight:"5",viewBox:"0 0 5 5",refX:"5",refY:"2.5",orient:"auto",children:c("use",{href:"#arrow-marker-content",transform:"rotate(180, 2.5, 2.5)",fill:"#365CFF",stroke:"none"})})]})},_m=function(){return c("symbol",{id:"sequence-start-arrow",viewBox:"0 0 65 65",width:"65",height:"95",children:c("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M10.2802 5.09664C10.9756 5.49813 10.9756 6.50187 10.2802 6.90336L2.56467 11.3579C1.86926 11.7594 1 11.2576 1 10.4546V1.54541C1 0.742426 1.86926 0.240558 2.56467 0.642053L10.2802 5.09664Z",stroke:"#7C7C7F"})})})},Em=(0,ct.A)("div",{target:"e1phidy70"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),Nm=function(){var e=Gs(),t=Qs(iu),n=Qs(au)||"Error message",r=function(){e(eu())};return u(Dp,{isOpen:""!==t,title:n,onClose:r,testId:"info-modal-window",children:[c(Dp.Content,{children:c(Em,{"data-testid":"error-message-body",children:t})}),c(Dp.Footer,{children:c(Ff,{label:"Close",clickHandler:r,"data-testid":"info-modal-close"})})]})},Lm=(0,ct.A)("div",{target:"embh3ih3"})(function(){return{height:"100%"}},""),Dm=(0,ct.A)("div",{target:"embh3ih2"})(function(){return{display:"flex",alignItems:"center"}},""),Tm=(0,ct.A)("div",{target:"embh3ih1"})(function(){return{background:"","&.toggler-component-wrapper--disabled":{opacity:.4,pointerEvents:"none",cursor:"default"}}},""),Bm=(0,ct.A)("svg",{target:"embh3ih0"})(function(){return{"&.handCursor":{cursor:"\n      url('data:image/svg+xml;base64,PHN2ZwogICAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgICB3aWR0aD0iMjQiCiAgICAgICAgaGVpZ2h0PSIyNCIKICAgICAgICBmaWxsPSJub25lIgogICAgICAgIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjMDAwIgogICAgICAgICAgICBkPSJNMjAuNDM0IDcuNjczYy0uMS0uNi0uNzEzLTEuNzMxLTIuMzItMS43MzEtLjEyNiAwLS4yNTIuMDA3LS4zNzcuMDIzdi0uNzlhMS4wMSAxLjAxIDAgMCAwLS4wNDUtLjNjLS4xNzctLjU2NC0uODc2LTEuNjMxLTIuMjYyLTEuNjMxYTIuNTk5IDIuNTk5IDAgMCAwLS42NzYuMDg2IDIuMzk0IDIuMzk0IDAgMCAwLS4xNDYtLjIzYy0uNDUzLS42NDUtMS4xODYtMS0yLjA2My0xLS44NzcgMC0xLjU4NC4zNi0yLjAyNSAxLjAxN2EyLjQ2MSAyLjQ2MSAwIDAgMC0uMzYxLjg1IDIuNjYzIDIuNjYzIDAgMCAwLS40MDgtLjAzYy0xLjQ3NCAwLTIuMTI0IDEuMTUtMi4yNjIgMS43NTdhMS4wMzQgMS4wMzQgMCAwIDAtLjAyNC4yMjJWMTEuMWwtLjEzLS4xYy0uNTg4LS41LTIuMDM0LTEuMTIxLTMuMzkxLjAyOS0xLjM1NyAxLjE1LTEuMDE1IDIuNjY0LS40MzEgMy40NTIuNDUzLjc3MyA0LjUxMiA3LjQyNSAxMC4yMjMgNy40MjUgMy4yNSAwIDQuOTEtMS41MTIgNS43MjktMi43ODFhNi4yOTEgNi4yOTEgMCAwIDAgLjk4LTIuOFY3LjgzOGMuMDAxLS4wNTYtLjAwMy0uMTEtLjAxMS0uMTY1WiIKICAgIC8+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjZmZmIgogICAgICAgICAgICBzdHJva2U9IiNmZmYiCiAgICAgICAgICAgIGQ9Ik0xOC40NDggMTYuMjE1YTQuNDc0IDQuNDc0IDAgMCAxLS43IDEuODg3Yy0uODA1IDEuMi0yLjE1MyAxLjgtNC4wMDggMS44LTQuNzY4IDAtOC40ODQtNi40MTItOC41Mi02LjQ3NmEuNjY5LjY2OSAwIDAgMC0uMDktLjEyNmMtLjI5NC0uNDA4IDAtLjY1NS4xMDctLjc0OC4yNjctLjIyNy41NC0uMjM3LjgxLS4wMzFsMS43NyAxLjQ1MmExIDEgMCAwIDAgMS42NDQtLjc2M1Y2LjA4YS4yODcuMjg3IDAgMCAxIC4yOS0uMTQ4LjQ0LjQ0IDAgMCAxIC4zNzIuMTZ2NC43YTEgMSAwIDEgMCAyIDB2LTYuNDVjLjA2OC0uMjQ4LjMtLjI0OC40MjItLjI0OC4yIDAgLjQxNC4wMzIuNDgyLjI1NXY2LjQ0YTEgMSAwIDEgMCAyIDB2LTUuMmEuNzUuNzUgMCAwIDEgLjA3NC0uMTljLjA0OS0uMDgxLjEwOC0uMTUuMzI1LS4xNWEuMzUuMzUgMCAwIDEgLjMwNy4xNXY1LjM5YTEgMSAwIDEgMCAyIDBWOC4wNDdhLjU4My41ODMgMCAwIDEgLjM3Ny0uMWMuMDY1IDAgLjI1OC4wMDYuMzM0LjA3OGwuMDA0IDguMTlaIgogICAgLz4KPC9zdmc+Cg=='),\n      auto\n    "},"&.handCursorGrabbing":{cursor:"\n      url('data:image/svg+xml;base64,PHN2ZwogICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICAgd2lkdGg9IjI0IgogICAgaGVpZ2h0PSIyNCIKICAgIGZpbGw9Im5vbmUiCiAgICB2aWV3Qm94PSIwIDAgMzAgMzAiCiAgPgogICAgPHBhdGgKICAgICAgZmlsbD0iI2ZmZiIKICAgICAgZD0iTTEwLjc0NCAzQzguODkgMyA3LjM4NCA0LjUyNSA3LjM4NCA2LjR2LjIyaC0uMDEyYy0xLjk5NyAwLTMuNjIyIDEuNjAyLTMuNjIyIDMuNTY4bC4wMDEgNy4wMmMwIDEuNzcgMS41MTIgMy41MTUgMy4xMTIgNS4zNjEuNzIuODMgMS45MTkgMi4yMTYgMi4wMzQgMi43MzF2MS41MjJoMTMuNDQydi0xLjU1NGMwLS41OS42MTgtMS43NyAxLjE2My0yLjgxLjkzOC0xLjc4OSAxLjk5OC0zLjgxNSAxLjk5OC01Ljk5MSAwLTMuMjU4LS4wMS02LjI0OC0uMDEtNi4yNDggMC0xLjY5Ni0xLjM5LTMuMDgtMy4xLTMuMDgtLjIwMyAwLS40LjAyLS41OTIuMDU3YTMuNjUgMy42NSAwIDAgMC0zLjAzMy0xLjYwN2MtLjM2NyAwLS43Mi4wNTMtMS4wNTUuMTUzYTMuNjM2IDMuNjM2IDAgMCAwLTMuMDktMS43MDVjLS40NDQgMC0uODcuMDgtMS4yNjQuMjI1QTMuMzQ1IDMuMzQ1IDAgMCAwIDEwLjc0NCAzWiIKICAgIC8+CiAgICA8cGF0aAogICAgICBmaWxsPSIjMDAwIgogICAgICBkPSJNMTAuNzQ0IDQuNTU0YzEgMCAxLjgwOC44MjYgMS44MDggMS44NDV2MS4xOTdjMC0xLjEwOS45MjctMi4wMDggMi4wNjgtMi4wMDggMS4xNDMgMCAyLjA2OC45IDIuMDY4IDIuMDA4djEuNTUyYzAtMS4xMS45My0yLjAwOCAyLjA3Ny0yLjAwOCAxLjE0NyAwIDIuMDc2Ljg5OSAyLjA3NiAyLjAwOHYxLjA2OEExLjU0IDEuNTQgMCAwIDEgMjIuMzkgOC42OWMuODU2IDAgMS41NDguNjg0IDEuNTQ4IDEuNTMgMCAwIC4wMSAyLjk4OC4wMSA2LjI0NCAwIDMuMjU3LTMuMTYxIDYuNjM2LTMuMTYxIDguODAySDEwLjQ1YzAtMS45NC01LjE0Ni01Ljc3My01LjE0Ni04LjA2MXYtNy4wMmMwLTEuMTEyLjkyNi0yLjAxNCAyLjA3LTIuMDE1djQuMDUxYzAgLjM0Mi4zNS42Mi43ODEuNjIuNDMyIDAgLjc4Mi0uMjc4Ljc4Mi0uNjJWNi40YzAtMS4wMi44MDktMS44NDUgMS44MDctMS44NDVabTAtMS41NTRDOC44OSAzIDcuMzg0IDQuNTI1IDcuMzg0IDYuNHYuMjJoLS4wMTJjLTEuOTk3IDAtMy42MjIgMS42MDItMy42MjIgMy41NjhsLjAwMSA3LjAyYzAgMS43NyAxLjUxMiAzLjUxNSAzLjExMiA1LjM2MS43Mi44MyAxLjkxOSAyLjIxNiAyLjAzNCAyLjczMXYxLjUyMmgxMy40NDJ2LTEuNTU0YzAtLjU5LjYxOC0xLjc3IDEuMTYzLTIuODEuOTM4LTEuNzg5IDEuOTk4LTMuODE1IDEuOTk4LTUuOTkxIDAtMy4yNTgtLjAxLTYuMjQ4LS4wMS02LjI0OCAwLTEuNjk2LTEuMzktMy4wOC0zLjEtMy4wOC0uMjAzIDAtLjQuMDItLjU5Mi4wNTdhMy42NSAzLjY1IDAgMCAwLTMuMDMzLTEuNjA3Yy0uMzY3IDAtLjcyLjA1My0xLjA1NS4xNTNhMy42MzYgMy42MzYgMCAwIDAtMy4wOS0xLjcwNWMtLjQ0NCAwLS44Ny4wOC0xLjI2NC4yMjVBMy4zNDUgMy4zNDUgMCAwIDAgMTAuNzQ0IDNaIgogICAgLz4KICA8L3N2Zz4='),\n      auto\n    "}}},"");function zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zm(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Hm=(0,ct.A)("div",{target:"ex562360"})({name:"1vtgpt7",styles:"position:absolute;top:0;left:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center"}),qm=function(){return c(Hm,{children:c(sf,{})})},Wm=(0,ct.A)("div",{target:"e1yct69a0"})({name:"14ocoqf",styles:"display:flex;& svg:first-of-type{display:flex;justify-content:center;align-items:center;width:24px;height:24px;padding:2px;border-radius:4px;}"}),$m=function(e){var t=(0,a.useState)(!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)),n=(0,r.A)(t,2),o=n[0],i=n[1];return c(Wm,{className:e.className,children:c(m.K0,{onClick:function(){var e,t=(0,m.Kn)();o?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(e=t).requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),i(!o)},iconName:o?"fullscreen-exit":"fullscreen-enter",testId:"fullscreen-mode-button"})})},Vm=function(){return a.useContext(Xs)},Um=(0,ct.A)(m.K0,{target:"e1erwxoo0"})({name:"1y95nj0",styles:"margin:2px;outline:none"});function Ym(){var e;null===(e=document.activeElement)||void 0===e||e.blur()}var Gm=(0,ct.A)(xe.A,{target:"e1ann9o40"})({name:"2gmlyg",styles:"display:flex;justify-content:space-between;font-weight:400;font-size:12px;line-height:14px;padding:7px 8px;text-transform:none;color:#333333;width:max-content"}),Qm=function(e){var t=e.itemId,n=e.title,r=void 0===n?"":n,o=e.disabled,i=e.testId,u=e.onClick,s=e.type,d=void 0===s?"icon-button":s,p=Vm(),f=p.isActive,h=p.activate,m=(0,a.useCallback)(function(){h(t),Ym(),u&&u()},[h,t]),v=f(t);return c(l,{children:"icon-button"===d?c(Um,{title:r,className:t+(v?" active":""),isActive:v,onClick:m,iconName:t,testId:i,disabled:o}):c(Gm,{title:r,onClick:m,disabled:o,"data-testid":i,children:r})})},Km=(0,ct.A)(m.In,{shouldForwardProp:function(e){return"isActive"!==e},target:"e13kdqxv4"})("position:absolute;height:7px;width:7px;right:3px;bottom:3px;cursor:pointer;path{fill:",function(e){return e.isActive?"white":void 0},";}"),Xm=(0,ct.A)("div",{target:"e13kdqxv3"})({name:"k5saax",styles:"display:flex;position:relative;align-items:center;&:active{.dropdown{fill:white;}}"}),Zm=(0,ct.A)("div",{target:"e13kdqxv2"})("display:flex;border-radius:4px;flex-direction:",function(e){return e.isVertical?"column":"row"},";z-index:1;background-color:white;padding:2px;width:",function(e){var t=e.isVertical,n=e.isAutoSize;return t&&!n?"38px":"auto"},";height:",function(e){var t=e.isVertical,n=e.isAutoSize;return t||n?"auto":"38px"},";"),Jm=(0,ct.A)(we.A,{target:"e13kdqxv1"})({name:"a4hmbt",styles:"position:absolute"}),ev=(0,ct.A)("div",{target:"e13kdqxv0"})({name:"a1qh1t",styles:"display:flex;align-items:center;position:relative;width:32px;height:32px;padding:0;justify-content:center;border-radius:2px"});function tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rv=(0,ct.A)("div",{target:"e1fh0ozy3"})(function(e){var t=e.theme,n=e.isHorizontal;return{backgroundColor:t.ketcher.color.background.primary,borderRadius:"4px",display:"flex",flexDirection:n?"row":"column",zIndex:t.ketcher.zIndex.toolbar}},""),ov=(0,ct.A)("hr",{target:"e1fh0ozy2"})("width:18px;margin:6px 0;align-self:center;border-width:thin 0px 0px 0px;border-style:solid;border-color:",function(e){return e.theme.ketcher.color.divider},";"),iv=(0,ct.A)("hr",{target:"e1fh0ozy1"})("height:18px;margin:0px 6px;align-self:center;border-width:0px thin 0px 0px;border-style:solid;border-color:",function(e){return e.theme.ketcher.color.divider},";"),av=(0,ct.A)("div",{target:"e1fh0ozy0"})(function(e){var t=e.theme,n=e.isHorizontal;return{display:"flex",flexDirection:n?"row":"column",flexWrap:"nowrap",alignItems:"center",backgroundColor:t.ketcher.color.background.primary,borderRadius:"2px",width:n?void 0:"32px",marginBottom:n?void 0:"8px","> :last-child":n?void 0:{marginBottom:0}}},""),lv=function(e){var t=e.children,n=e.divider,r=void 0!==n&&n,o=e.isHorizontal,i=a.Children.map(t,function(e){return e});return u(l,{children:[c(av,{isHorizontal:o,children:i}),r&&c(o?iv:ov,{})]})},cv=function(e){var t=e.children,n=e.onItemClick,r=e.activeMenuItems,o=e.testId,i=e.isHorizontal,l=a.useMemo(function(){return{isActive:function(e){return!!r&&r.includes(e)},activate:function(e){n(e)}}},[r,n]),u=a.Children.map(t,function(e){return e&&e.type===lv?e:null});return c(Xs.Provider,{value:l,children:c(rv,{"data-testid":o,isHorizontal:i,children:u})})};cv.Group=lv,cv.Item=Qm,cv.Submenu=function(e){var t,n=e.children,o=e.vertical,i=void 0!==o&&o,s=e.autoSize,d=void 0!==s&&s,p=e.disabled,f=void 0!==p&&p,h=e.needOpenByMenuItemClick,v=void 0!==h&&h,g=e.testId,y=e.layoutModeButton,b=void 0!==y&&y,x=e.generalTitle,w=e.activeItem,A=e.subMenuId,M=Gs(),C=(0,a.useRef)(null),k=(0,a.useState)(!1),O=(0,r.A)(k,2),S=O[0],j=O[1],I=Vm().isActive,P=(0,m.dR)([C,S,i,m.tS]),_=(0,r.A)(P,1)[0],E=Qs((t=A,function(e){return e.editor.selectedMenuGroupItems[t]})),N=A?E:null,L=function(){f||j(function(e){return!e})},D=function(){S&&j(!1)},T=a.Children.map(n,function(e){return e.type===Qm?e:null}),B=T.map(function(e){return e.props.itemId}).filter(function(e){return e}),z=B.filter(function(e){return I(e)})[0];(0,a.useEffect)(function(){A&&z&&z!==N&&M(Xl({groupName:A,activeItemName:z}))},[M,A,z,N]);var R=null!=w?w:z||N||B[0],F=T.find(function(e){return e.props.itemId===R}),H=null==F?void 0:F.props.testId,q=null!=x?x:null==F?void 0:F.props.title,W=document.querySelector(m.tS);return c(Xm,{"data-testid":g,ref:C,children:u(l,{children:[u(ev,{children:[c(Qm,{disabled:f,itemId:R,title:q,testId:H,onClick:v?L:qs}),S||c(Km,{className:"dropdown",name:"dropdown",onClick:L,isActive:I(R),dataTestId:"dropdown-expand"})]}),W&&(0,bt.createPortal)(c(Jm,{in:S,timeout:0,style:nv({},_),unmountOnExit:!0,onClick:D,children:c(Ae.x,{onClickAway:D,children:c(Zm,{isVertical:i,isAutoSize:d,islayoutModeButton:b,"data-testid":"multi-tool-dropdown",children:T.map(function(e){return a.cloneElement(e,{key:e.props.itemId})})})})}),W)]})})};var uv=function(){var e=Qs(tc),t=Ks(),n=(0,a.useState)(t),o=(0,r.A)(n,2),i=o[0],l=o[1],s=Qs(nc),d=(0,a.useMemo)(function(){return{isActive:function(e){return i===e},activate:function(t){t!==i&&(l(t),null==e||e.events.selectMode.dispatch(t),null==e||e.events.layoutModeChange.dispatch(t))}}},[i,e]);return(0,a.useEffect)(function(){l(t)},[t]),c(Xs.Provider,{value:d,children:u(cv.Submenu,{disabled:s,testId:"layout-mode",vertical:!0,needOpenByMenuItemClick:!0,layoutModeButton:!0,children:[c(cv.Item,{itemId:"sequence-layout-mode",testId:"sequence-layout-mode",title:"Switch to sequence layout mode"}),c(cv.Item,{itemId:"snake-layout-mode",testId:"snake-layout-mode",title:"Switch to snake layout mode"}),c(cv.Item,{itemId:"flex-layout-mode",testId:"flex-layout-mode",title:"Switch to flex layout mode"})]})})};function sv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function dv(e){var t=e.node;return t instanceof h.NxW||t instanceof h.yYC||(null==t?void 0:t.monomer)instanceof h.j5f}var pv=function(e){if(null!=e&&e.length){for(var t=(0,f.flatten)(e),n=t.length,r=hp(t),o=!1,i=!0,a=!1,l=!0,c=function(e){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return sv(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sv(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var o,i,a,l=t.value,c=l.node,u=l.nodeIndexOverall,s=l.isNucleosideConnectedAndSelectedWithPhosphate,d=l.hasR1Connection,p=l.twoStrandedNode,f=Boolean(null==p?void 0:p.antisenseNode);if(c instanceof h.NxW)n.push({type:h.WDE.Nucleotide,baseLabel:null==c||null===(o=c.rnaBase)||void 0===o?void 0:o.label,sugarLabel:null==c||null===(i=c.sugar)||void 0===i?void 0:i.label,phosphateLabel:null==c||null===(a=c.phosphate)||void 0===a?void 0:a.label,rnaBaseMonomerItem:c.rnaBase instanceof h.cN8?c.rnaBase.variantMonomerItem:c.rnaBase.monomerItem,hasR1Connection:d,nodeIndexOverall:u,hasAntisense:f});else if(c instanceof h.yYC){var m,v;n.push({type:h.WDE.Nucleoside,baseLabel:null==c||null===(m=c.rnaBase)||void 0===m?void 0:m.label,sugarLabel:null==c||null===(v=c.sugar)||void 0===v?void 0:v.label,rnaBaseMonomerItem:c.rnaBase instanceof h.cN8?c.rnaBase.variantMonomerItem:c.rnaBase.monomerItem,isNucleosideConnectedAndSelectedWithPhosphate:s,hasR1Connection:d,nodeIndexOverall:u,hasAntisense:f})}else if((null==c?void 0:c.monomer)instanceof h.j5f){var g;n.push({type:h.WDE.Phosphate,phosphateLabel:null==c||null===(g=c.monomer)||void 0===g?void 0:g.label,nodeIndexOverall:u,hasAntisense:f})}}}catch(e){r.e(e)}finally{r.f()}return n}(t),u=0;u<c.length;u++){var s=c[u],d=c[u-1],p=s.type===h.WDE.Nucleotide||s.type===h.WDE.Nucleoside,m=null==d?void 0:d.isNucleosideConnectedAndSelectedWithPhosphate;p&&(o=!0),p||m?s.hasR1Connection&&(l=!1):(l=!1,i=!1),s.hasAntisense&&(a=!0)}return n>r&&(t.every(dv)||(i=!1)),{title:1===n||1===r&&i?function(e){for(var t="",n=1===e.length?e[0]:f.merge.apply(void 0,[{}].concat((0,ft.A)(e))),r=0,o=["sugarLabel","baseLabel","phosphateLabel"];r<o.length;r++){var i=o[r],a=(0,f.get)(n,i,"");t+="baseLabel"===i?"(".concat(a,")"):a}return t}(c):i?"".concat(r," nucleotides"):"".concat(n," elements"),selectedSequenceLabeledNodes:c,isSelectedOnlyNucleoelements:i,isSelectedAtLeastOneNucleoelement:o,isSequenceFirstsOnlyNucleoelementsSelected:l,hasAntisense:a}}};function fv(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every(function(e){return e.every(function(e){return(0,h.mI6)(e.twoStrandedNode)})})}function hv(e){return null==e?void 0:e.monomers.some(function(e){return 0!==e.hydrogenBonds.length})}function mv(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vv(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vv(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function vv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gv,yv=function(e){var t=e.monomerItem;if("A"===t.props.MonomerNaturalAnalogCode||"C"===t.props.MonomerNaturalAnalogCode||"G"===t.props.MonomerNaturalAnalogCode||"T"===t.props.MonomerNaturalAnalogCode||"U"===t.props.MonomerNaturalAnalogCode)return!0;if(!e.monomerItem.isAmbiguous)return!1;if(e.subtype===h.Mk7.MIXTURE)return!1;var n=e.monomers.map(function(e){return e.monomerItem.props.MonomerNaturalAnalogCode}).sort(function(e,t){return e.localeCompare(t)}).join("");return["ACGT","ACGU","CGT","CGU","AGT","AGU","ACT","ACU","GT","GU","AT","AU","CT","CU","AC","AG","CG","ACG"].some(function(e){return e===n})},bv=function(e){return null==e?void 0:e.some(function(e){var t=e instanceof h.HvV&&(0,h.dJd)(e);return e instanceof h.P5K&&(e.hydrogenBonds.length>0||e.covalentBonds.length>1)||(0,h.W9x)(e)&&!yv(e)||t&&(t.hydrogenBonds.length>0||!yv(t))})},xv=function(e){return null==e?void 0:e.some(function(e){return e instanceof h.P5K&&(0,h.TKk)(e)||e instanceof h.HvV&&(0,h.dJd)(e)})},wv="aminoAcidModification-",Av=function(e){var t=new Set,n=new Set,r=new Map,o=h.JxB.provideEditorInstance();e.forEach(function(e){var t,n=e.monomerItem.props.MonomerNaturalAnalogCode;e instanceof h.qZ$&&n&&(r.has(n)||r.set(n,[]),null===(t=r.get(n))||void 0===t||t.push(e))}),null==o||o.monomersLibrary.forEach(function(e){var o,i=r.get(null===(o=e.props)||void 0===o?void 0:o.MonomerNaturalAnalogCode);if(e.props&&i){var a=e.props.modificationTypes;a&&a.forEach(function(r){i.some(function(t){return t.label!==e.label&&!(0,h.MEe)(t,e)})?n.add(r):i.every(function(t){return t.label===e.label})||t.add(r)})}});var i=(0,ft.A)(t.values()).filter(function(e){return!n.has(e)}).map(function(t){var n=(0,h.MvC)(e,t,o.monomersLibrary);return{name:"".concat(wv).concat(t),title:t,onMouseOver:function(){o.transientDrawingView.showModifyAminoAcidsView({monomersToModify:(0,ft.A)(n.keys())}),o.transientDrawingView.update()},onMouseOut:function(){o.transientDrawingView.hideModifyAminoAcidsView(),o.transientDrawingView.update()}}});return i.sort(h.EtL),i},Mv=function(e,t){var n,r,o=null==t||null===(n=t.target)||void 0===n?void 0:n.__data__,i=null==o||null===(r=o.node)||void 0===r?void 0:r.monomer,a=[];return e.length?a=e:i&&(a=[i]),a.filter(function(e){return e instanceof h.qZ$})},Cv=function(e){if(e.length<3)return!1;var t,n=new Set(e),r=new Set,o=new Set,i=function e(t,i){r.add(t),o.add(t);var a,l=function(e){var t=[];return e.forEachBond(function(r){if(!(r instanceof h.t$8)){var o=r.firstMonomer,i=r.secondMonomer;if(o&&i){var a=r.getAnotherMonomer(e);a&&n.has(a)&&t.push(a)}}}),t}(t),c=mv(l);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u!==i){if(o.has(u))return!0;if(!r.has(u)&&e(u,t))return!0}}}catch(e){c.e(e)}finally{c.f()}return o.delete(t),!1},a=mv(e);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(!r.has(l)&&i(l,null))return!0}}catch(e){a.e(e)}finally{a.f()}return!1};!function(e){e.title="sequence_menu_title",e.createRnaAntisenseStrand="create_antisense_rna_chain",e.createDnaAntisenseStrand="create_antisense_dna_chain",e.modifyInRnaBuilder="modify_in_rna_builder",e.modifyAminoAcids="modify_amino_acids",e.establishHydrogenBond="establish_hydrogen_bond",e.deleteHydrogenBond="delete_hydrogen_bond",e.editSequence="edit_sequence",e.startNewSequence="start_new_sequence",e.copy="copy",e.paste="paste",e.delete="delete"}(gv||(gv={}));var kv=function(e){var t,n,r=e.selections,o=e.contextMenuEvent,i=Qs(tc),a=Gs(),l=pv(r),u=(null==r||null===(t=r.flat())||void 0===t?void 0:t.flatMap(function(e){return e.node.monomers}))||[],s=Mv(u,o),d=Qs(nc),p="sequence-layout-mode"===Ks(),f=Av(s),v=null!==(n=null==r?void 0:r.some(function(e){return e.some(function(e){return hv(e.node)})}))&&void 0!==n&&n,g=(null==u?void 0:u.length)>0&&xv(u),y=!fv(r)||v,b=[{name:gv.title,title:null==l?void 0:l.title,isMenuTitle:!0,disabled:!0,hidden:function(e){var t=e.props;return!(null!=t&&t.sequenceItemRenderer&&null!=l&&l.isSelectedAtLeastOneNucleoelement)}},{name:gv.copy,title:"Copy",icon:c(m.In,{name:"copyMenu"}),disabled:0===(null==u?void 0:u.length)},{name:gv.paste,title:"Paste",icon:c(m.In,{name:"pasteNavBar"}),disabled:!1,separator:!0},{name:gv.editSequence,title:"Edit sequence",disabled:!1,hidden:function(e){var t=e.props;return!(null!=t&&t.sequenceItemRenderer)}},{name:gv.startNewSequence,title:"Start new sequence",disabled:!1,separator:g||y},{name:gv.createRnaAntisenseStrand,title:"Create RNA antisense strand",disabled:bv(u),hidden:function(){return!u||!xv(u)}},{name:gv.createDnaAntisenseStrand,title:"Create DNA antisense strand",disabled:bv(u),hidden:function(){return!u||!xv(u)}},{name:gv.establishHydrogenBond,title:"Establish Hydrogen Bonds",disabled:function(e){var t,n=e.props;return 0===(null==r?void 0:r.length)?(0,h.mI6)(null==n||null===(t=n.sequenceItemRenderer)||void 0===t?void 0:t.twoStrandedNode):fv(r)},hidden:function(e){var t=e.props;return!(null!=t&&t.sequenceItemRenderer)}},{name:gv.deleteHydrogenBond,title:"Remove hydrogen bonds",disabled:function(e){var t,n=e.props;return 0===(null==r?void 0:r.length)?!hv(null==n||null===(t=n.sequenceItemRenderer)||void 0===t?void 0:t.node):!(null!=r&&r.some(function(e){return e.some(function(e){return hv(e.node)})}))},hidden:function(e){var t=e.props;return!(null!=t&&t.sequenceItemRenderer)}},{name:gv.modifyInRnaBuilder,title:"Modify in RNA Builder...",disabled:!(null!=l&&l.isSelectedOnlyNucleoelements)||l.hasAntisense,hidden:function(e){var t=e.props;return!(null!=t&&t.sequenceItemRenderer&&null!=l&&l.isSelectedAtLeastOneNucleoelement)}},{name:gv.modifyAminoAcids,title:"Modify amino acids",disabled:!1,hidden:!f.length,subMenuItems:f,separator:!0},{name:gv.delete,title:"Delete",disabled:0===(null==u?void 0:u.length),icon:c(m.In,{name:"deleteMenu"})}],x=document.querySelector(m.tS);return x&&p&&!d?(0,bt.createPortal)(c(Pd,{id:xd.FOR_SEQUENCE,handleMenuChange:function(e){var t,n=e.id,o=e.props;if(i)switch(!0){case n===gv.modifyInRnaBuilder:i.events.turnOnSequenceEditInRNABuilderMode.dispatch(),a(zc(2)),a(Qu(!0)),a(zu({})),a(qu(null)),null!=l&&null!==(t=l.selectedSequenceLabeledNodes)&&void 0!==t&&t.length&&null!=l&&l.title&&(a(Fu(null==l?void 0:l.title)),a(Ru(null==l?void 0:l.selectedSequenceLabeledNodes)),a(Hu(null==l?void 0:l.isSequenceFirstsOnlyNucleoelementsSelected)));break;case n===gv.startNewSequence:i.events.startNewSequence.dispatch(o.sequenceItemRenderer);break;case n===gv.editSequence:i.events.editSequence.dispatch(o.sequenceItemRenderer);break;case n===gv.createRnaAntisenseStrand:i.events.createAntisenseChain.dispatch(!1);break;case n===gv.createDnaAntisenseStrand:i.events.createAntisenseChain.dispatch(!0);break;case n===gv.establishHydrogenBond:i.events.establishHydrogenBond.dispatch(o.sequenceItemRenderer);break;case n===gv.deleteHydrogenBond:var c,u=h.HQ1.sequenceViewModel.chainsCollection.monomerToChain,d=new Map;(null!=r&&r.length?r.reduce(function(e,t){return[].concat((0,ft.A)(e),(0,ft.A)(t))},[]).map(function(e){return e.twoStrandedNode}):[null===(c=o.sequenceItemRenderer)||void 0===c?void 0:c.twoStrandedNode]).forEach(function(e){if(e.antisenseChain&&e.antisenseNode&&!(e.antisenseNode instanceof h.RR||e.antisenseNode instanceof h.Dzo)){d.has(e.antisenseChain)||d.set(e.antisenseChain,new Set);var t=d.get(e.antisenseChain);if(!t)return;t.add(e)}});var p=!1;d.forEach(function(e,t){var n=(0,ft.A)(e.values())[0].chain,r=new Set((0,ft.A)(e.values()).map(function(e){return e.antisenseNode}));t.nodes.some(function(e){return!r.has(e)&&e.monomers.some(function(e){return e.hydrogenBonds.some(function(t){var r=t.getAnotherMonomer(e);return(r&&u.get(r))===n})})})||(p=!0)}),p?i.events.openConfirmationDialog.dispatch({title:"Deletion of all Hydrogen Bonds",confirmationText:"Deleting all hydrogen bonds will cause the separation of two chains. Do you wish to proceed?",onConfirm:function(){i.events.deleteHydrogenBond.dispatch(o.sequenceItemRenderer)}}):i.events.deleteHydrogenBond.dispatch(o.sequenceItemRenderer);break;case null==n?void 0:n.startsWith(wv):var f=null==n?void 0:n.replace(wv,"");i.events.modifyAminoAcids.dispatch({monomers:s,modificationType:f});break;case"copy"===n:i.events.copySelectedStructure.dispatch();break;case"paste"===n:i.events.pasteFromClipboard.dispatch();break;case"delete"===n:i.events.deleteSelectedStructure.dispatch()}},menuItems:b}),x):null},Ov=(0,ct.A)("div",{target:"e1amohl43"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),Sv=(0,ct.A)("p",{target:"e1amohl42"})("width:calc(100% - 16px);padding:8px;color:",function(e){return e.theme.ketcher.color.text.primary},";background-color:#cceaee;font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:left;margin:0;white-space:pre-wrap;"),jv=(0,ct.A)(m.c9,{target:"e1amohl41"})({name:"156nqlv",styles:"height:100%;width:100%;padding:0 8px"}),Iv=(0,ct.A)("div",{target:"e1amohl40"})({name:"10sp49k",styles:"width:100%;display:flex;gap:8px;padding:0 8px 4px"}),Pv=function(e){var t=e.monomerCaps,n=e.attachmentPointsToBonds;return(0,a.useMemo)(function(){var e=[],o=[];return t?(Object.entries(t).forEach(function(t){var i=(0,r.A)(t,2),a=i[0],l=i[1],c=Boolean(null==n?void 0:n[a]);c&&o.push(a);var u={id:a,label:Kh(l),connected:c};e.push(u)}),{preparedAttachmentPointsData:e,connectedAttachmentPoints:o}):{preparedAttachmentPointsData:e,connectedAttachmentPoints:o}},[t,n])},_v=(0,ct.A)("span",{target:"epjjwrk3"})("width:max-content;max-width:100%;display:flex;flex-direction:column;align-items:flex-start;font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:500;line-height:normal;color:",function(e){return e.theme.ketcher.color.text.lightgrey},";padding-left:",function(e){return e.preset?"0":"8px"},";border-left:",function(e){return e.preset?"none":"1px solid #D9DCEA"},";"),Ev=(0,ct.A)("p",{target:"epjjwrk2"})({name:"ti75j2",styles:"margin:0"}),Nv=(0,ct.A)("span",{target:"epjjwrk1"})({name:"3myie7",styles:"color:#7c7c7c;margin-right:4px"}),Lv=(0,ct.A)("span",{target:"epjjwrk0"})({name:"9ig07c",styles:"color:#585858;white-space:normal;overflow-wrap:anywhere;word-break:break-word"});function Dv(e){var t=e.idtAliasesText,n=e.axoLabsText,r=e.helmText,o=e.modificationTypeText,i=e.preset,a=[].concat((0,ft.A)(t?[{label:"IDT",text:t}]:[]),(0,ft.A)(n?[{label:"AxoLabs",text:n}]:[]),(0,ft.A)(r?[{label:"HELM",text:r}]:[]),(0,ft.A)(o?[{label:"Modification type",text:o}]:[]));return a.length?c(_v,{preset:i,children:a.map(function(e){return u(Ev,{children:[u(Nv,{children:[e.label,":"]}),c(Lv,{children:e.text})]},e.label)})}):null}var Tv=(0,ct.A)("div",{target:"e112ss7f3"})({name:"1m2mukt",styles:"flex:1;display:flex;align-items:center;flex-wrap:wrap;gap:8px;font-size:12px;line-height:14px"}),Bv=(0,ct.A)("div",{target:"e112ss7f2"})("display:flex;align-items:center;gap:2px;border-radius:4px;background-color:",function(e){return e.connected?"#E1E5EA":"transparent"},";padding:",function(e){return e.connected?"4px":"0"},";color:",function(e){return e.connected?"#8A8B8E":"inherit"},";"),zv=(0,ct.A)("span",{target:"e112ss7f1"})({name:"f3vz0n",styles:"font-weight:500"}),Rv=(0,ct.A)("span",{target:"e112ss7f0"})({name:"16ceglb",styles:"font-weight:600"}),Fv=function(e){var t=e.preparedAttachmentPointsData;return t.length?c(Tv,{children:t.map(function(e){var t=e.id,n=e.connected,r=e.label;return u(Bv,{connected:n,children:[u(zv,{children:[t,!n&&":"]}),!n&&c(Rv,{children:r})]},t)})}):null},Hv=(0,ct.A)(function(e){var t,n=e.className,o=Qs(Zl),i=o.monomer,l=o.attachmentPointsToBonds,s=null==i?void 0:i.props.idtAliases,d=null==i?void 0:i.props.aliasAxoLabs,p=null==i?void 0:i.props.aliasHELM,f=null==i?void 0:i.props.modificationTypes,m=Pv({monomerCaps:null==i?void 0:i.props.MonomerCaps,attachmentPointsToBonds:l}),v=m.preparedAttachmentPointsData,g=m.connectedAttachmentPoints,y=function(e){var t=e.idtAliases,n=e.attachmentPointsToBonds,o=e.monomerClass;return(0,a.useMemo)(function(){if(!t)return null;var e=t.base,i=t.modifications;if(!i)return Ys(e);var a=i.endpoint5,l=i.internal,c=i.endpoint3;if(n){var u,s,d=n.R1,p=n.R2;return o===h.IPc.Phosphate&&d&&!(d instanceof h.t$8)&&d.firstMonomer instanceof h.HvV?null:Ys(null!==d&&null===p?null!=c?c:l:null===d&&null!==p?null!=a?a:l:null!==d&&null!==p?null!==(u=null!=l?l:a)&&void 0!==u?u:c:null!==(s=null!=a?a:l)&&void 0!==s?s:c)}var f=Object.values(i).every(function(t){return t.includes(e)});if(c&&a&&l&&f)return Ys(e);var m={};return Object.values(i).forEach(function(e){var t,n=null!==(t=Ys(e))&&void 0!==t?t:"",r=[n.charAt(0),n.slice(1)],o=r[0],i=r[1];m[i]=m[i]?[].concat((0,ft.A)(m[i]),[o]):[o]}),Object.entries(m).map(function(e){var t=(0,r.A)(e,2),n=t[0],o=t[1];return"(".concat(o.join(", "),")").concat(n)}).join(", ")},[t,n,o])}({idtAliases:s,attachmentPointsToBonds:l,monomerClass:null==i?void 0:i.props.MonomerClass});if(!i)return null;var b=i.props.unresolved,x=b?i.label:(null===(t=i.struct)||void 0===t?void 0:t.name)||i.label,w=y||d||p||f;return(i.struct||b)&&u(Ov,{className:n,"data-testid":"polymer-library-preview","data-idtaliases":null!=y?y:void 0,"data-axolabs":null!=d?d:void 0,"data-helm":null!=p?p:void 0,"data-modificationtype":f?Array.isArray(f)?f.join(", "):f:void 0,children:[x&&c(Sv,{"data-testid":"preview-tooltip-title",children:x}),b?c(em,{}):c(jv,{struct:i.struct,options:{connectedMonomerAttachmentPoints:g,usageInMacromolecule:h.HT5.MonomerPreview,labelInPreview:!0,needCache:!1}}),u(Iv,{children:[c(Fv,{preparedAttachmentPointsData:v}),w&&c(Dv,{idtAliasesText:null!=y?y:void 0,axoLabsText:null!=d?d:void 0,helmText:null!=p?p:void 0,modificationTypeText:Array.isArray(f)?f.join(", "):f})]})]})},{target:"e86yc5p0"})("width:",m.VH.width+"px",";height:",m.VH.height+"px",";"),qv=Hv,Wv=(0,ct.A)("div",{target:"ec5fs975"})("display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),$v=(0,ct.A)("div",{target:"ec5fs974"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Vv=(0,ct.A)("div",{target:"ec5fs973"})("font-size:",function(e){return e.theme.ketcher.font.size.regular},";line-height:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:600;padding-right:2px;"),Uv=(0,ct.A)("div",{target:"ec5fs972"})("color:",function(e){return e.theme.ketcher.color.text.lightgrey},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:400;white-space:nowrap;"),Yv=(0,ct.A)("p",{target:"ec5fs971"})("color:",function(e){return e.theme.ketcher.color.text.primary},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:center;margin-top:0;margin-bottom:8px;"),Gv=(0,ct.A)(m.In,{target:"ec5fs970"})("height:14px;width:14px;margin-right:4px;color:",function(e){return e.theme.ketcher.color.icon.grey},";stroke:",function(e){return e.theme.ketcher.color.icon.grey},";"),Qv=["sugar","base","phosphate"],Kv=(0,ct.A)(function(e){var t=e.className,n=Qs(Zl),o=n.monomers,i=n.name,l=n.position,s=n.idtAliases,d=o.every(function(e){return(null==e?void 0:e.props.MonomerClass)===h.IPc.CHEM}),p=(0,r.A)(o,2)[1],f=null!=i?i:null==p?void 0:p.props.Name,m=null==p?void 0:p.props.aliasAxoLabs,v=function(e){var t=e.presetName,n=e.position,r=e.idtAliases;return(0,a.useMemo)(function(){if(!t||!r)return null;if(t.includes("MOE")){var e,o,i,a=r.base,l=r.modifications,c=null!==(e=Ys(null==l?void 0:l.endpoint5))&&void 0!==e?e:"5".concat(a),u=null!==(o=Ys(null==l?void 0:l.internal))&&void 0!==o?o:"i".concat(a),s=null!==(i=Ys(null==l?void 0:l.endpoint3))&&void 0!==i?i:"3".concat(a);switch(n){case fl.Library:return"".concat(c,", ").concat(u);case fl.ChainStart:return c;case fl.ChainMiddle:return u;case fl.ChainEnd:return s}}return Ys(r.base)},[t,n,r])}({presetName:f,position:l,idtAliases:s}),g=v||m;return u(Wv,{className:t,style:{alignItems:"flex-start"},"data-testid":"polymer-library-preview",children:[c(Yv,{"data-testid":"preview-tooltip-title",children:f}),o.map(function(e,t){return e?u($v,{children:[c(Gv,{name:d?"chem":Qv[t]}),c(Vv,{children:e.label}),u(Uv,{children:["(",e.props.Name,")"]})]},e.props.id):null}),g&&c(Dv,{preset:!0,idtAliasesText:null!=v?v:void 0,axoLabsText:m})]})},{target:"e1wupxfd0"})(""),Xv=Kv,Zv=(0,ct.A)("div",{target:"envzkt90"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),Jv=(0,ct.A)("div",{target:"e1m0yzrp2"})(function(e){var t=e.connected,n=e.inBond,r=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",color:n||!t?r.ketcher.color.text.primary:"#B4B9D6"}},""),eg=(0,ct.A)("p",{target:"e1m0yzrp1"})(function(e){return{margin:0,fontSize:e.theme.ketcher.font.size.small,lineHeight:"12px"}},""),tg=(0,ct.A)("p",{target:"e1m0yzrp0"})(function(e){var t=e.inBond;return{margin:0,padding:"4px",fontWeight:e.theme.ketcher.font.weight.bold,lineHeight:"14px",borderRadius:"4px",backgroundColor:t?"#CDF1FC":"transparent"}},""),ng=function(e){var t=e.attachmentPoints,n=e.attachmentPointInBond;return c(l,{children:t.map(function(e){return u(Jv,{connected:e.connected,inBond:e.id===n,children:[c(eg,{children:e.id}),c(tg,{inBond:e.id===n,children:e.label})]},e.id)})})},rg=(0,ct.A)(function(e){var t=e.className,n=Qs(Zl),r=n.polymerBond,o=n.style,i=(0,a.useMemo)(function(){var e,t,n;return o?(0,ct.A)(Zv,{target:"e18hk05c1"})("top:",null!==(e=null==o?void 0:o.top)&&void 0!==e?e:"",";left:",null!==(t=null==o?void 0:o.left)&&void 0!==t?t:"",";right:",null!==(n=null==o?void 0:o.right)&&void 0!==n?n:"",";"):(0,ct.A)(Zv,{target:"e18hk05c2"})("")},[o]),l=r.firstMonomer,u=r.secondMonomer,s=r.firstMonomerAttachmentPoint,d=r.secondMonomerAttachmentPoint,p=Pv({monomerCaps:l.monomerCaps,attachmentPointsToBonds:l.attachmentPointsToBonds}),f=p.preparedAttachmentPointsData,m=p.connectedAttachmentPoints,v=Pv({monomerCaps:null==u?void 0:u.monomerCaps,attachmentPointsToBonds:null==u?void 0:u.attachmentPointsToBonds}),g=v.preparedAttachmentPointsData,y=v.connectedAttachmentPoints;return l&&u?c(i,{className:t,"data-testid":"polymer-library-preview",children:c(cm,{firstMonomer:l,secondMonomer:u,firstMonomerOverview:c(rm,{monomer:l,usage:h.HT5.BondPreview,connectedAttachmentPoints:m,selectedAttachmentPoint:s,attachmentPoints:c(ng,{attachmentPoints:f,attachmentPointInBond:s})}),secondMonomerOverview:c(rm,{monomer:u,usage:h.HT5.BondPreview,connectedAttachmentPoints:y,selectedAttachmentPoint:d,attachmentPoints:c(ng,{attachmentPoints:g,attachmentPointInBond:d})})})}):null},{target:"e18hk05c0"})("width:",m.VH.widthForBond,"px;height:",m.VH.heightForBond,"px;"),og=rg;function ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ag(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ig(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ig(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var lg=(0,ct.A)("div",{target:"e88xzqx0"})("display:inline-block;position:absolute;background:",function(e){return e.theme.ketcher.color.background.primary},";z-index:",function(e){return e.theme.ketcher.zIndex.overlay},";"),cg=function(){var e=Qs(Zl),t=(0,a.useRef)(null),n=(0,a.useState)(!1),o=(0,r.A)(n,2),i=o[0],l=o[1],d=(0,s.d4)(tc);return(0,a.useEffect)(function(){if(t.current&&!e.style)if(null!=e&&e.type){var n,r,o;t.current.setAttribute("style",""),l(!0);var a=null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect(),c=(null==a?void 0:a.height)||0,u=(null==a?void 0:a.width)||0,s=null===(r=h.OQ2.instance)||void 0===r||null===(r=r.canvasWrapper.node())||void 0===r?void 0:r.getBoundingClientRect(),p=(null==s?void 0:s.top)||0,f=(null==s?void 0:s.bottom)||0,m=(null==s?void 0:s.left)||0,v=(null==s?void 0:s.right)||0,g=null===(o=e.target)||void 0===o?void 0:o.getBoundingClientRect(),y=(null==g?void 0:g.top)||0,b=(null==g?void 0:g.bottom)||0,x=(null==g?void 0:g.left)||0,w=(null==g?void 0:g.width)||0,A=x-w/2,M=null==d?void 0:d.ketcherRootElementBoundingClientRect,C=(null==M?void 0:M.x)||0,k=(null==M?void 0:M.y)||0,O=y-c-5-k,S=b+5-k,j=x+w/2-u/2-C;t.current.style.top="".concat(y-c-5>=p||b+c>f&&b>f/2?O:S,"px"),t.current.style.left="".concat(A>u/2&&A+u/2<v?j:A<u/2?m:v-u-10,"px")}else i&&(l(!1),t.current.setAttribute("style",""))},[e]),e?u(lg,{ref:t,style:ag({},null==e?void 0:e.style),children:[e.type===pl.Monomer&&c(qv,{}),e.type===pl.Preset&&c(Xv,{}),e.type===pl.Bond&&c(og,{}),e.type===pl.AmbiguousMonomer&&c(m.ye,{preview:e})]}):null},ug=(0,ct.A)(xe.A,{target:"e1brfei30"})(function(e){var t=e.theme,n=e.variant;return{color:"outlined"===n?t.ketcher.color.text.primary:t.ketcher.color.button.text.primary,boxShadow:"none",transition:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"4px 8px",border:"outlined"===n?t.ketcher.outline.small:"none",background:"outlined"===n?t.ketcher.color.background.primary:t.ketcher.color.button.group.active,borderRadius:t.ketcher.border.radius.regular,textTransform:"none",fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular,":hover":{color:"outlined"===n?t.ketcher.color.text.dark:t.ketcher.color.button.text.primary,background:"outlined"===n?t.ketcher.color.background.primary:t.ketcher.color.button.group.hover,boxShadow:"none"},":disabled":{cursor:"auto",background:"#e1e5ea",outline:"none"}}},""),sg=function(){var e=Qs(tc),t=(0,a.useState)(null==e?void 0:e.events.changeSequenceTypeEnterMode),n=(0,r.A)(t,2),o=n[0],i=n[1],l=(0,a.useState)(!1),s=(0,r.A)(l,2),d=s[0],p=s[1],f=Qs(nc),m=Ks(),v=!!f,g=Gs(),y=function(e){var t="object"===(0,It.A)(e)?e.mode:e;p("sequence-layout-mode"===t)};(0,a.useEffect)(function(){return null==e||e.events.selectMode.add(y),null==e||e.events.changeSequenceTypeEnterMode.add(function(e){g(zc(e===bc?1:2)),i(e)}),null==e||e.events.changeSequenceTypeEnterMode.dispatch(h.Qjs.RNA),function(){null==e||e.events.selectMode.remove(y)}},[e]),(0,a.useEffect)(function(){y(m)},[m]);var b=function(t){null==e||e.events.changeSequenceTypeEnterMode.dispatch(t)};return d?c(Le,{sx:{mr:1,ml:1},children:u(We,{disabled:v,children:[c(ug,{"data-testid":"".concat(h.Qjs.RNA,"Btn"),title:"RNA (Ctrl+Alt+R)",variant:o===h.Qjs.RNA?"contained":"outlined",onClick:function(){return b(h.Qjs.RNA)},children:"RNA"}),c(ug,{"data-testid":"".concat(h.Qjs.DNA,"Btn"),title:"DNA (Ctrl+Alt+D)",variant:o===h.Qjs.DNA?"contained":"outlined",onClick:function(){return b(h.Qjs.DNA)},children:"DNA"}),c(ug,{"data-testid":"".concat(h.Qjs.PEPTIDE,"Btn"),title:"Peptides (Ctrl+Alt+P)",variant:o===h.Qjs.PEPTIDE?"contained":"outlined",onClick:function(){return b(h.Qjs.PEPTIDE)},children:"PEP"})]})}):null},dg=function(){var e=Gs(),t=Qs(tc),n=Qs(sc),r=Qs(dc),o=Qs(pc),i=Qs(fc);return function(){var a=(0,wt.A)(Mt().mark(function a(l){var c,u,s,d,p,f,v,g,y,b,x;return Mt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t&&!l){a.next=2;break}return a.abrupt("return");case 2:if(u=m.e3.getIndigo(),s=t.drawingEntitiesManager.filterSelection(),d=new h.BBJ,p=s.hasDrawingEntities?s:t.drawingEntitiesManager,f=h.NbU.fromMonomers((0,ft.A)(p.monomers.values())),v=null===(c=f.firstNode)||void 0===c?void 0:c.monomer,g=!v||f.chains.reduce(function(e,t){return e+t.monomers.length},0)<=(0,h.eXT)(v).length,p.hasDrawingEntities&&g){a.next=12;break}return e($l(void 0)),a.abrupt("return");case 12:return y=d.serialize(new h._kM,t.drawingEntitiesManager,void 0,!1,!0),a.next=15,u.calculateMacromoleculeProperties({struct:y},{upc:o/_l[n],nac:i/_l[r]});case 15:b=a.sent;try{x=b.properties&&JSON.parse(b.properties),(0,h.qHi)(),e($l(x))}catch(t){h.$yr.error("Error during parsing macromolecule properties: ",t),e($l(void 0))}case 17:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},pg=["className"];function fg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hg(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var vg,gg,yg="Other",bg=function(e,t){var n,r=null==e||null===(n=e.monomerCount)||void 0===n?void 0:n[t];return r&&Object.keys(r).length>0},xg=(0,ct.A)("div",{target:"eifx56c30"})(function(e){return{width:"100%",height:e.hasError?"124px":"177px",position:"relative",backgroundColor:"white",padding:"2px 0",borderRadius:"8px 8px",overflow:"hidden",boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)"}},""),wg=(0,ct.A)("div",{target:"eifx56c29"})(function(){return{display:"flex"}},""),Ag=(0,ct.A)("div",{target:"eifx56c28"})(function(){return{flex:1,display:"flex",justifyContent:"center"}},""),Mg=(0,ct.A)(m.In,{target:"eifx56c27"})(function(){return{display:"flex",alignItems:"center",width:"12px",height:"12px",padding:"2px 6px",cursor:"pointer"}},""),Cg=(0,ct.A)("div",{target:"eifx56c26"})(function(){return{display:"flex",height:"25px",alignItems:"center",padding:"0 8px"}},""),kg=(0,ct.A)("div",{target:"eifx56c25"})(function(){return{display:"flex",alignItems:"center",fontSize:"14px",fontWeight:"700",padding:"0 8px",color:"#585858"}},""),Og=(0,ct.A)("div",{target:"eifx56c24"})(function(){return{display:"flex",alignItems:"center",height:"24px",borderLeft:"1px solid #CAD3DD",color:"#585858"}},""),Sg=(0,ct.A)("div",{target:"eifx56c23"})(function(){return{fontSize:"14px",fontWeight:"700",padding:"0 8px"}},""),jg=(0,ct.A)("div",{target:"eifx56c22"})(function(){return{width:"100%",height:"100%",top:"-25px",position:"relative"}},""),Ig=(0,ct.A)("div",{target:"eifx56c21"})(function(){return{width:"100%",padding:"0 4px 4px"}},""),Pg=(0,ct.A)("div",{target:"eifx56c20"})(function(){return{display:"flex",width:"100%",height:"74px",flexDirection:"column",justifyContent:"center",alignItems:"center"}},""),_g=(0,ct.A)("div",{target:"eifx56c19"})(function(){return{fontSize:"14px"}},""),Eg=(0,ct.A)("div",{target:"eifx56c18"})(function(){return{fontSize:"12px"}},""),Ng=(0,ct.A)("div",{target:"eifx56c17"})(function(){return{display:"flex",padding:"4px 0px",height:"32px",gap:"12px"}},""),Lg=(0,ct.A)("div",{target:"eifx56c16"})(function(){return{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0 2px"}},""),Dg=(0,ct.A)("div",{target:"eifx56c15"})(function(){return{height:"90px",backgroundColor:"white",borderRadius:"8px",padding:"5px"}},""),Tg=(0,ct.A)("div",{target:"eifx56c14"})(function(){return{display:"flex",justifyContent:"space-between"}},""),Bg=(0,ct.A)("div",{target:"eifx56c13"})(function(){return{display:"grid",gridTemplateColumns:"2fr 1fr"}},""),zg=(0,ct.A)("div",{target:"eifx56c12"})(function(e){var t=e.disabled;return{display:"flex",alignItems:"center",padding:"0 0 0 6px",pointerEvents:t?"none":"auto",opacity:t?.5:1}},""),Rg=(0,ct.A)(function(e){var t=e.className,n=(0,Ct.A)(e,pg);return c(Pt.A,mg(mg({},n),{},{classes:{popper:t}}))},{target:"eifx56c11"})(function(){return(0,ut.A)({},"& .".concat(_t.A.tooltip),{maxWidth:"220px",padding:"12px",backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0 1px 5px 0 #CCCCCC",fontSize:11})},""),Fg=(0,ct.A)("div",{target:"eifx56c10"})(function(){return{display:"flex",flexDirection:"column",gap:"4px",fontSize:"12px",fontWeight:"700",color:"#585858",borderBottom:"1px solid #585858",paddingBottom:"8px",marginBottom:"8px"}},""),Hg=(0,ct.A)("div",{target:"eifx56c9"})(function(){return{fontSize:"10px",paddingRight:"5px",whiteSpace:"nowrap"}},""),qg=(0,ct.A)("div",{target:"eifx56c8"})(function(){return{fontSize:"14px",fontWeight:"700"}},""),Wg=(0,ct.A)(m.In,{target:"eifx56c7"})(function(){return{width:"20px",height:"20px"}},""),$g=(0,ct.A)("div",{target:"eifx56c6"})(function(){return{display:"flex",alignItems:"center"}},""),Vg=(0,ct.A)(Jf,{target:"eifx56c5"})(function(){return{position:"relative",padding:"0 0 0 5px",zIndex:1}},""),Ug="text-input-field-input",Yg=(0,ct.A)(Bh,{target:"eifx56c4"})(function(){return(0,ut.A)({margin:0},".".concat(Ug),{width:"60px","::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0},"::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0},MozAppearance:"textfield"})},""),Gg=(0,ct.A)("div",{target:"eifx56c3"})(function(){return{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:"4px 6px",width:"100%",backgroundColor:"white",borderRadius:"8px",padding:"6px",height:"90px",alignContent:"flex-start"}},""),Qg=(0,ct.A)("div",{target:"eifx56c2"})("display:flex;position:relative;justify-content:space-between;background-color:#eff2f5;padding:4px 6px;font-weight:500;font-size:12px;border-radius:2px;min-width:50px;flex:1;opacity:",function(e){return e.disabled?.4:1},";&:after{content:'';position:absolute;bottom:0;left:0;width:15px;height:2px;background:",function(e){var t,n=e.theme,r=e.monomerShortName;return(null===(t=(e.isPeptide?n.ketcher.peptide.color:n.ketcher.monomer.color)[r])||void 0===t?void 0:t.regular)||n.ketcher.monomer.color.default.regular},";border-radius:0 0 0 2px;}"),Kg=(0,ct.A)("div",{target:"eifx56c1"})(function(){return{fontWeight:"700"}},""),Xg=function(e){var t=(e.isPeptide?h.Q_X:h.b$S).map(function(t){return[t,e.monomerCount[t]||0]});return t.push([yg,e.monomerCount[yg]||0]),t.sort(function(e,t){return e[0]===yg?1:e[0].localeCompare(t[0])}),c(Gg,{children:Dt()(t,function(t){var n=(0,r.A)(t,2),o=n[0],i=n[1];return u(Qg,{monomerShortName:o,"data-testid":o+"-option",isPeptide:e.isPeptide,disabled:0===i,children:[c(Kg,{children:o}),c("div",{children:i})]},o)})})},Zg=function(e){var t;return c(zg,{"data-testid":e.testId,disabled:e.disabled,children:u(l,{children:[u(Hg,{children:[e.name,void 0!==e.value&&":"]}),e.onChangeValue?c(Yg,{value:null!==(t=e.value)&&void 0!==t?t:"",id:"macromolecule-property-".concat(e.name),"data-testid":"".concat(e.testId,"-input"),type:"number",min:0,inputClassName:Ug,onChange:function(t){var n;return null==e||null===(n=e.onChangeValue)||void 0===n?void 0:n.call(e,Number(t))}}):c(qg,{"data-testid":e.testId+"-value",children:e.value}),e.hint&&c(Rg,{title:e.hint,children:c($g,{children:c(Wg,{name:"about",dataTestId:e.name+"-info"})})}),e.options&&e.selectedOption&&e.onChangeOption&&c(Vg,{options:e.options.map(function(e){return{id:e,label:e}}),testId:e.testId+"-selector",currentSelection:e.selectedOption,selectionHandler:e.onChangeOption})]})})},Jg=function(e){var t=e.part,n=t.match(/^([A-Za-z]+)(\d+)$/);if(!n)return t;var o=(0,r.A)(n,3);o[0];var i=o[1],a=o[2];return u("span",{children:[i,c("sub",{children:a})]})},ey=(0,ct.A)("svg",{target:"eifx56c0"})(function(){return{width:"100%",height:"100%"}},""),ty=function(e){return e<1?0:e<2?1:e<3?2:e<5?3:e<10?5:e<100?10*Math.floor(e/10):e<1e3?50*Math.floor(e/50):100*Math.floor(e/100)},ny=function(e){var t=e.data,n=function(e,t,n){var r=e.length;if(n>=r)return{xs:e,ys:t};for(var o=[e[0]],i=[t[0]],a=(r-2)/98,l=0,c=0;c<98;c++){for(var u=Math.floor((c+1)*a)+1,s=Math.floor((c+2)*a)+1,d=0,p=0,f=s-u,h=u;h<s;h++)d+=e[h],p+=t[h];d/=f,p/=f;for(var m=Math.floor(c*a)+1,v=Math.floor((c+1)*a)+1,g=-1,y=m,b=m;b<v;b++){var x=Math.abs((e[l]-d)*(t[b]-t[l])-(e[l]-e[b])*(p-t[l]));x>g&&(g=x,y=b)}o.push(e[y]),i.push(t[y]),l=y}return o.push(e[r-1]),i.push(t[r-1]),{xs:o,ys:i}}(t.map(function(e,t){return t+1}),t,100),o=(0,a.useState)(0),i=(0,r.A)(o,2),l=i[0],u=i[1],s=(0,a.useRef)(null);(0,a.useEffect)(function(){if(n.xs.length&&s.current){var e=s.current.width.baseVal.value,r=s.current.height.baseVal.value;Bo(s.current).selectAll("*").remove();var o,i,a=xl().domain([0,n.xs.length-1]).range([30,e-10]),l=xl().domain([0,1]).range([r-20,10]),c=function(e,t){var n=wl(!0),r=null,o=Ml,i=null,a=function(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Qa(t)}(l);function l(l){var c,u,s,d=(l=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(l)).length,p=!1;for(null==r&&(i=o(s=a())),c=0;c<=d;++c)!(c<d&&n(u=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(u,c,l),+t(u,c,l));if(s)return i=null,s+""||null}return e="function"==typeof e?e:void 0===e?Cl:wl(e),t="function"==typeof t?t:void 0===t?kl:wl(t),l.x=function(t){return arguments.length?(e="function"==typeof t?t:wl(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:wl(+e),l):t},l.defined=function(e){return arguments.length?(n="function"==typeof e?e:wl(!!e),l):n},l.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),l):o},l.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),l):r},l}().x(function(e,t){return a(t)}).y(function(e){return l(e)}).curve(Ml),u=Bo(s.current),d=(o=e)>360?5:o>300?4:o>240?3:2,p=ty(t.length/d),f=p;if(p>=1){for(var h=-1/0,m=-1/0,v=-1/0,g=2;g<=d;g++){var y=g,b=ty(t.length/y),x=Number((b*(y/t.length)).toFixed(2));(x>v||x===v&&y>h)&&(h=y,v=x,m=b)}i=Array.from({length:h},function(e,t){return n.xs.findLastIndex(function(e){return e<=(t+1)*m&&e>t*m})}),f=m}else i=(0,ft.A)(Array(Math.min(d,n.xs.length)).keys()),f=1;var w,A=(w=a,br(3,w)).tickValues(i).tickFormat(function(e,t){return((t+1)*f).toString()});u.append("g").attr("transform","translate(0,".concat(r-20,")")).call(A).call(function(e){return e.select(".domain").remove()}).call(function(e){return e.selectAll("line").attr("stroke","#CAD3DD").attr("y1",-r)}).call(function(e){return e.selectAll("text").attr("font-size","8px")});var M=function(e){return br(4,e)}(l).tickValues([0,.5,1]).tickFormat(al(".1f"));u.append("g").attr("transform","translate(".concat(30,",0)")).call(M).call(function(e){return e.select(".domain").remove()}).call(function(t){t.selectAll("line").each(function(t,n,r){.5===t?Bo(r[n]).attr("x1",e).attr("stroke","#CAD3DD").attr("stroke-dasharray",2):Bo(r[n]).remove()})}).call(function(e){return e.selectAll("text").attr("font-size","8px")}),u.append("path").datum(n.ys).attr("fill","none").attr("stroke","#167782").attr("stroke-width",1).attr("d",c)}},[t,l]);var d=new ResizeObserver((0,f.debounce)(function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fg(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fg(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.contentRect.width!==l&&u(r.contentRect.width)}}catch(e){n.e(e)}finally{n.f()}},100));return(0,a.useEffect)(function(){return s.current&&d.observe(s.current),function(){d.disconnect()}},[s,l]),c(ey,{"data-testid":"Hydrophobicity-Chart",ref:s})},ry=function(e){return e.isError?u(Pg,{children:[c(_g,{children:"No Data Available"}),c(Eg,{children:"Select monomer, chain or part of a chain"})]}):u(Ig,{children:[u(Bg,{children:[u(Ng,{children:[c(Zg,{name:"Isoelectric Point",testId:"Isoelectric Point",value:(0,f.isNumber)(e.macromoleculesProperties.pKa)?Nt()(e.macromoleculesProperties.pKa,2):"",hint:"The isoelectric point is calculated as the median of all pKa values for the structure."}),c(Zg,{name:"Extinction Coef.(1/Mcm)",testId:"Extinction Coefficient",value:(0,f.isNumber)(e.macromoleculesProperties.extinctionCoefficient)?Nt()(e.macromoleculesProperties.extinctionCoefficient):"",hint:u("div",{children:["The extinction coefficient for wavelength of 280nm is calculated using the method from"," ",c("i",{children:"Gill, S.C. and von Hippel, P.H. (1989)."})," Natural analogue is used in place of a modified amino acid."]})})]}),c(Zg,{name:"Hydrophobicity",testId:"Hydrophobicity",hint:u("div",{children:[u(Fg,{children:[c("div",{children:"y = Hydrophobicity score"}),c("div",{children:"x = Position of the amino acid residue"})]}),"The hydrophobicity is calculated using the method from"," ",c("i",{children:"Black S.D. and Mould D.R. (1991)."})," Natural analogue is used in place of a modified amino acid."]})})]}),u(Lg,{children:[e.macromoleculesProperties.monomerCount.peptides&&c(Xg,{monomerCount:e.macromoleculesProperties.monomerCount.peptides,isPeptide:!0}),c(Dg,{children:e.macromoleculesProperties.hydrophobicity&&c(ny,{data:e.macromoleculesProperties.hydrophobicity})})]})]})},oy=function(e){return!/[^0.,]/.test(String(e))},iy=function(e){var t=Gs(),n=Qs(sc),r=Qs(dc),o=Qs(pc),i=Qs(fc);return e.isError?u(Pg,{children:[c(_g,{children:"No Data Available"}),c(Eg,{children:"Select a nucleotide/nucleoside, chain or part of a chain containing nucleotides/nucleosides"})]}):u(Ig,{children:[u(Tg,{children:[(0,f.isNumber)(e.macromoleculesProperties.Tm)?c(Zg,{name:"Melting Temp. (C)",value:Nt()(e.macromoleculesProperties.Tm,1),testId:"Melting-Temperature",hint:u("div",{children:["The melting temperature is calculated using the method from"," ",c("i",{children:"Khandelwal G. and Bhyravabhotla J. (2010)."})," Natural analogue is used in place of a modified base."]})}):c("div",{}),u(Ng,{children:[c(Zg,{name:"[Unipositive Ions]",value:o,options:["nM","M","mM"],testId:"Unipositive Ions",selectedOption:n,disabled:!(0,f.isNumber)(e.macromoleculesProperties.Tm)&&!oy(o),onChangeOption:function(e){t(Vl(e))},onChangeValue:function(e){t(Gl(e.toString()))}}),c(Zg,{name:"[Oligonucleotides]",value:i,options:["nM","M","mM"],testId:"Oligonucleotides",selectedOption:r,disabled:!(0,f.isNumber)(e.macromoleculesProperties.Tm)&&!oy(i),onChangeOption:function(e){t(Ul(e))},onChangeValue:function(e){t(Ql(e.toString()))}})]})]}),e.macromoleculesProperties.monomerCount.nucleotides&&c(Xg,{monomerCount:e.macromoleculesProperties.monomerCount.nucleotides})]})};!function(e){e[e.PEPTIDES=0]="PEPTIDES",e[e.RNA=1]="RNA",e[e.NO_TAB=-1]="NO_TAB"}(vg||(vg={})),function(e){e.Da="Da",e.kDa="kDa",e.MDa="MDa"}(gg||(gg={}));var ay,ly=(0,ut.A)((0,ut.A)((0,ut.A)({},gg.Da,1),gg.kDa,1e3),gg.MDa,1e6),cy=function(e){return(0,f.isNumber)(e)?e<1e3?gg.Da:e<1e6?gg.kDa:gg.MDa:gg.Da},uy=function(){var e=Gs(),t=Qs(tc),n=Qs(uc),o=Qs(sc),i=Qs(dc),s=Qs(pc),d=Qs(fc),p=null==n?void 0:n[0],h=(0,a.useState)(vg.PEPTIDES),m=(0,r.A)(h,2),v=m[0],g=m[1],y=(0,a.useState)(cy(null==p?void 0:p.mass)),b=(0,r.A)(y,2),x=b[0],w=b[1],A=Qs(cc),M=dg(),C=!A,k=(0,a.useRef)(M),O=(0,a.useCallback)((0,f.debounce)(function(e){k.current(e)},500),[]);(0,a.useEffect)(function(){k.current=function(e){M(e)}},[M]),(0,a.useEffect)(function(){return ay&&null!=t&&t.events.selectEntities.hasHandler(ay)&&(null==t||t.events.selectEntities.remove(ay)),ay=function(){O(C)},null==t||t.events.selectEntities.add(ay),function(){null==t||t.events.selectEntities.remove(ay)}},[O,t,C]),(0,a.useEffect)(function(){O(C)},[o,i,s,d,C,O]),(0,a.useEffect)(function(){g(bg(p,"nucleotides")?vg.RNA:vg.PEPTIDES),w(cy(null==p?void 0:p.mass))},[p]);var S=!p||n.length>1,j=S||!bg(p,"peptides"),I=S||!bg(p,"nucleotides"),P=(0,a.useMemo)(function(){return null!=p&&p.grossFormula?c(kg,{"data-testid":"Gross-formula",children:null==p?void 0:p.grossFormula.split(" ").map(function(e,t,n){return u("span",{children:[c(Jg,{part:e}),t<n.length-1?" ":""]},"".concat(e,"-").concat(t))})}):null},[null==p?void 0:p.grossFormula]),_=(0,a.useMemo)(function(){return null!=p&&p.mass?u(l,{children:[c(Sg,{"data-testid":"Molecular-Mass-Value",children:Nt()((null==p?void 0:p.mass)/ly[x],3)})," "]}):null},[null==p?void 0:p.mass,x]);return A?u(xg,{hasError:v===vg.PEPTIDES&&j||v===vg.RNA&&I,"data-testid":"macromolecule-properties-window",children:[u(wg,{children:[c(Ag,{children:u("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c("path",{d:"M2 6H14",stroke:"#333333"}),c("path",{d:"M2 10H14",stroke:"#333333"})]})}),c(Mg,{name:"close",onClick:function(){e(ql(!1))},dataTestId:"macromolecule-properties-close"})]}),u(Cg,{children:[P,_&&u(Og,{children:[_,c(Vg,{testId:"Molecular Mass Unit",options:[gg.Da,gg.kDa,gg.MDa].map(function(e){return{id:e,label:e}}),currentSelection:x,selectionHandler:function(e){w(e)}})]})]}),c(jg,{children:c(Hs,{selectedTabIndex:v,onChange:function(e,t){g(t)},isLayoutToRight:!0,tabs:[{caption:"Peptides",testId:"peptides-properties-tab",component:ry,props:{macromoleculesProperties:p,isError:j}},{caption:"RNA/DNA",component:iy,testId:"rna-properties-tab",props:{macromoleculesProperties:p,isError:I}}]})})]}):null},sy=(0,h.MxE)(h.KtH),dy=function(e,t){t&&(t.value="".concat(Math.round(e),"%"))},py=(0,ct.A)(m.$n,{target:"e1pc97tg0"})(function(e){var t=e.theme,n=e.isActive;return{width:"28px",height:"28px",backgroundColor:n?t.ketcher.color.button.group.active:"white",margin:"2px",padding:"0",borderRadius:"4px",outline:"none",":hover":{backgroundColor:n?t.ketcher.color.button.group.hover:"white"},":hover svg":{fill:n?"white":t.ketcher.color.button.group.active}}},""),fy=function(){var e,t=Gs(),n=Qs(cc),r=dg(),o=(e=(0,wt.A)(Mt().mark(function e(){var o;return Mt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=!n,e.next=3,r(o);case 3:t(Wl({})),Ym();case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return c(py,{isActive:n,onClick:o,title:"Calculate properties (".concat(sy.toggleMacromoleculesPropertiesVisibility,")"),"data-testid":"calculate-macromolecule-properties-button",children:c("svg",{width:"15",height:"16",viewBox:"0 0 15 16",xmlns:"http://www.w3.org/2000/svg",fill:n?"white":"#333333",children:c("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.87727 1.65517H9.03053V4.46737L9.42288 5.12973C9.76799 5.04496 10.1287 5 10.5 5C12.9853 5 15 7.01472 15 9.5C15 10.6812 14.5449 11.7562 13.8004 12.559C14.4936 14.1572 13.3016 16 11.456 16H2.54694C0.627617 16 -0.60048 14.0008 0.302223 12.3451C1.6087 9.94883 3.5345 6.39671 4.51457 4.49368V1.65517H3.66783V0H9.87727V1.65517ZM12.2962 13.6272C11.746 13.867 11.1385 14 10.5 14C8.01472 14 6 11.9853 6 9.5C6 7.98987 6.74386 6.65348 7.88515 5.83725L7.33705 4.91194V1.65517H6.20806V4.88502L6.11866 5.05976C5.15873 6.93619 3.14099 10.658 1.79676 13.1235C1.49524 13.6765 1.9056 14.3448 2.54694 14.3448H11.456C11.9075 14.3448 12.2417 14.0139 12.2962 13.6272ZM13.5375 9.5C13.5375 11.1776 12.1776 12.5375 10.5 12.5375C8.82244 12.5375 7.4625 11.1776 7.4625 9.5C7.4625 7.82243 8.82244 6.4625 10.5 6.4625C12.1776 6.4625 13.5375 7.82243 13.5375 9.5Z"})})})};function hy(){var e,t=Gs(),n=Qs(Jl),o=Qs(tc),i=Ks(),l=Qs(nc),s=(0,a.useState)([]),d=(0,r.A)(s,2),p=d[0],f=d[1],m=(0,a.useState)(!1),v=(0,r.A)(m,2),g=v[0],y=v[1],b=(0,a.useState)(),x=(0,r.A)(b,2),w=x[0],A=x[1],M=[n],C=l,k=Qs(vc),O="flex-layout-mode"===i,S=p.filter(function(e){return e&&"function"==typeof e.forEachBond}),j=(null!==(e=null==o?void 0:o.drawingEntitiesManager.selectedMicromoleculeEntities.length)&&void 0!==e?e:0)>0||!Cv(S);return(0,a.useEffect)(function(){var e=function(e){f(e),e.length&&!bv(e)&&(y(!1),function(e){return null==e?void 0:e.every(function(e){return!(e instanceof h.HvV)||e.label===h.Cuv.SUGAR_DNA})}(e)?A("antisenseDnaStrand"):function(e){return null==e?void 0:e.every(function(e){return!(e instanceof h.HvV)||e.label===h.Cuv.SUGAR_RNA})}(e)?A("antisenseRnaStrand"):(A("antisenseStrand"),y(!0)))};return null==o||o.events.selectEntities.add(e),function(){null==o||o.events.selectEntities.remove(e)}},[o]),u(cv,{onItemClick:function(e){gm[e]?t(Qc(e)):"undo"===e||"redo"===e?null==o||o.events.selectHistory.dispatch(e):"clear"===e?(null==o||o.events.selectTool.dispatch([e]),t(Dl(k)),null==o||o.events.selectTool.dispatch([k]),l&&fp(t,o)):"antisenseRnaStrand"===e||"antisenseDnaStrand"===e?null==o||o.events.createAntisenseChain.dispatch("antisenseDnaStrand"===e):"arrange-ring"===e&&(null==o||o.events.layoutCircular.dispatch())},activeMenuItems:M,isHorizontal:!0,children:[u(cv.Group,{isHorizontal:!0,divider:!0,children:[c(cv.Item,{itemId:"clear",title:"Clear Canvas (".concat(sy.clear,")"),testId:"clear-canvas"}),c(cv.Item,{itemId:"open",title:"Open...",disabled:C,testId:"open-file-button"}),c(cv.Item,{itemId:"save",title:"Save as...",testId:"save-file-button"})]}),u(cv.Group,{isHorizontal:!0,divider:!0,children:[c(cv.Item,{itemId:"undo",title:"Undo (".concat(sy.undo,")"),disabled:C,testId:"undo"}),c(cv.Item,{itemId:"redo",title:"Redo (".concat(sy.redo,")"),disabled:C,testId:"redo"})]}),O&&c(cv.Group,{isHorizontal:!0,divider:!0,children:c(cv.Item,{itemId:"arrange-ring",title:"Arrange as a Ring (".concat(sy.arrangeRing,")"),disabled:j,testId:"arrange-ring"})}),u(cv.Group,{isHorizontal:!0,children:[u(cv.Submenu,{disabled:!(null!=p&&p.length)||!xv(p)||bv(p),needOpenByMenuItemClick:g,vertical:!0,autoSize:!0,layoutModeButton:!0,generalTitle:"Create Antisense Strand",testId:"Create Antisense Strand",activeItem:w,children:[c(cv.Item,{itemId:"antisenseRnaStrand",title:"Create RNA Antisense Strand (".concat(sy.createRnaAntisenseStrand,")"),disabled:!(null!=p&&p.length)||!xv(p)||bv(p),testId:"antisenseRnaStrand",type:"button"}),c(cv.Item,{itemId:"antisenseDnaStrand",title:"Create DNA Antisense Strand (".concat(sy.createDnaAntisenseStrand,")"),disabled:!(null!=p&&p.length)||!xv(p)||bv(p),testId:"antisenseDnaStrand",type:"button"})]}),c(fy,{})]})]})}function my(){var e=Qs(Jl),t=Qs(tc),n="sequence-layout-mode"===Ks();return u(cv,{testId:"left-toolbar",onItemClick:function(e){null==t||t.events.selectTool.dispatch([e,{toolName:e}])},activeMenuItems:[e],children:[u(cv.Group,{divider:!0,children:[c(cv.Item,{itemId:"hand",title:"Hand Tool (".concat(sy.hand,")"),testId:"hand"}),c(cv.Group,{children:u(cv.Submenu,{testId:"select-drop-down-button",subMenuId:jl,needOpenByMenuItemClick:!0,children:[c(cv.Item,{itemId:"select-rectangle",title:"Select Rectangle (".concat(sy.switchSelectTool,")"),testId:"select-rectangle"}),c(cv.Item,{itemId:"select-lasso",title:"Lasso selection (".concat(sy.switchSelectTool,")"),testId:"select-lasso"}),c(cv.Item,{itemId:"select-fragment",title:"Fragment selection (".concat(sy.switchSelectTool,")"),testId:"select-fragment"})]})}),c(cv.Item,{itemId:"erase",title:"Erase (".concat(sy.erase,")"),testId:"erase",disabled:n})]}),c(cv.Group,{children:u(cv.Submenu,{disabled:n,testId:"bonds-drop-down-button",needOpenByMenuItemClick:!1,children:[c(cv.Item,{itemId:"bond-single",title:"Single Bond (1)",testId:"single-bond",disabled:n}),c(cv.Item,{itemId:"bond-hydrogen",title:"Hydrogen Bond (2)",testId:"hydrogen-bond",disabled:n})]})})]})}var vy=(0,ct.A)("div",{target:"e1aw4j3q7"})({name:"bjn8wh",styles:"position:relative"}),gy=(0,ct.A)(xe.A,{target:"e1aw4j3q6"})("display:flex;color:",function(e){return e.theme.ketcher.color.dropdown.primary},";padding-right:0;padding-left:0;& svg{margin-left:2px;width:1rem;height:1rem;}"),yy=(0,ct.A)("span",{target:"e1aw4j3q5"})({name:"td41hq",styles:"width:35px"}),by=(0,ct.A)($e.Ay,{target:"e1aw4j3q4"})("& .MuiPopover-paper{padding:8px;width:175px;border:none;border-radius:0px 0px 4px 4px;box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";box-sizing:border-box;}"),xy=(0,ct.A)("div",{target:"e1aw4j3q3"})({name:"5s1n17",styles:"display:flex;flex-direction:column;white-space:nowrap;word-break:keep-all;background:white"}),wy=(0,ct.A)(xe.A,{target:"e1aw4j3q2"})("display:flex;justify-content:space-between;font-size:",function(e){return e.theme.ketcher.font.size.regular},";line-height:14px;padding:7px 8px;text-transform:none;color:",function(e){return e.theme.ketcher.color.dropdown.primary},";"),Ay=(0,ct.A)("span",{target:"e1aw4j3q1"})({name:"btyqtq",styles:"color:#cad3dd"}),My=(0,ct.A)("input",{target:"e1aw4j3q0"})("border:1px solid #cad3dd;border-radius:4px;padding:3px 8px;color:",function(e){return e.theme.ketcher.color.text.light},";font-size:",function(e){return e.theme.ketcher.font.size.medium},";line-height:16px;margin-bottom:8px;&:hover{border-color:",function(e){return e.theme.ketcher.color.input.border.hover},";}&:active,&:focus{border-color:",function(e){return e.theme.ketcher.outline.selected.color},";outline:none;}&::after,&::before{display:none;}"),Cy=function(e){var t=e.onZoomSubmit,n=e.currentZoom,r=e.inputRef,o=(0,a.useCallback)(function(e){var n=r.current;n&&([sy["zoom-out"],sy["zoom-in"]].includes(e.key)||e.nativeEvent.stopImmediatePropagation(),"Enter"===e.key&&(t(),n.select()))},[t,r,sy]);return(0,a.useEffect)(function(){var e=r.current;dy(n,e),document.activeElement===e&&(null==e||e.select())},[n,r]),(0,a.useEffect)(function(){var e=r.current;null==e||e.focus(),null==e||e.select()},[r]),c(My,{ref:r,"data-testid":"zoom-value",onFocus:function(e){e.target.select()},onKeyDown:o})},ky=function(){var e=(0,a.useState)(!1),t=(0,r.A)(e,2),n=t[0],o=t[1],i=(0,a.useState)(100),l=(0,r.A)(i,2),s=l[0],d=l[1],p=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(function(){var e;null===h.OQ2||void 0===h.OQ2||null===(e=h.OQ2.instance)||void 0===e||e.subscribeOnZoomEvent(function(){var e;d(Math.round(100*(null===h.OQ2||void 0===h.OQ2||null===(e=h.OQ2.instance)||void 0===e?void 0:e.getZoomLevel())))})},[null===h.OQ2||void 0===h.OQ2?void 0:h.OQ2.instance]);var v=(0,a.useCallback)(function(){var e=f.current;if(e){var t,n,r=(t=e.value,n=parseInt(null!=t?t:""),isNaN(n)?0:n);if(r&&r!==s){var o=function(e,t){if(0===e)return t;var n=100*h.OQ2.instance.MINZOOMSCALE,r=100*h.OQ2.instance.MAXZOOMSCALE;return e<n?n:e>r?r:e}(r,s);dy(o,e),h.OQ2.instance.zoomTo(o/100)}else dy(s,e)}},[s]);return u(vy,{ref:p,children:[u(gy,{onClick:function(){o(!0)},"data-testid":"zoom-selector",children:[u(yy,{"data-testid":"zoom-input",children:[s,"%"]}),c(m.In,{name:"chevron"})]}),c(by,{open:n,onClose:function(){o(!1)},anchorEl:p.current,container:document.querySelector(m.tS),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:u(xy,{children:[c(Cy,{onZoomSubmit:v,inputRef:f,currentZoom:s}),u(wy,{"data-testid":"zoom-out",title:"Zoom Out",onClick:function(){h.OQ2.instance.zoomOut()},children:[c("span",{children:"Zoom out"}),c(Ay,{children:sy["zoom-minus"]})]}),u(wy,{"data-testid":"zoom-in",title:"Zoom In",onClick:function(){h.OQ2.instance.zoomIn()},children:[c("span",{children:"Zoom in"}),c(Ay,{children:sy["zoom-plus"]})]}),u(wy,{"data-testid":"zoom-default",title:"Zoom 100%",onClick:function(){h.OQ2.instance.resetZoom()},children:[c("span",{children:"Zoom 100%"}),c(Ay,{children:sy["zoom-reset"]})]})]})})]})};function Oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Sy,jy,Iy,Py,_y,Ey=[h.w52.bondSingle,h.w52.selectRectangle],Ny=function(){var e=Qs(tc),t=Qs(Jl),n=Qs(lc),o=Gs(),i=Qs(Du),u=Qs(ac),s=Qs(vc),d=(0,a.useCallback)(function(){o(Nc(null==e?void 0:e.monomersLibrary)),o(Lc(null==e?void 0:e.defaultRnaPresetsLibraryItems))},[e]);(0,a.useEffect)(function(){return null==e||e.events.updateMonomersLibrary.add(d),function(){null==e||e.events.updateMonomersLibrary.remove(d)}},[e]),(0,a.useEffect)(function(){var t=function(){null==e||e.events.selectTool.dispatch([s]),o(Dl(s))};return e&&e.events.selectSelectionTool.add(t),function(){null==e||e.events.selectSelectionTool.remove(t)}},[o,e,s]),(0,a.useEffect)(function(){var n=function(e){var n=(0,r.A)(e,1)[0];n!==t&&o(Dl(n))};return e&&(e.events.error.add(function(e){o(Xc(e))}),e.events.openErrorModal.add(function(e){o(Jc(e))}),o(Dl("select-rectangle")),e.events.selectTool.dispatch(["select-rectangle"]),e.events.openMonomerConnectionModal.add(function(e){return o(Qc({name:"monomerConnection",additionalProps:e}))}),e.events.openConfirmationDialog.add(function(e){return o(Qc({name:"confirmationDialog",additionalProps:e}))}),e.events.selectTool.add(n)),function(){o(Dl(null)),null==e||e.events.selectTool.remove(n)}},[e]);var p=(0,a.useCallback)(function(e){return o(Fl(e))},[o]),v=(0,a.useCallback)((0,f.debounce)(function(e){return p(e)},500),[p]);(0,a.useEffect)(function(){var n=function(e){var n=(0,r.A)(e,1)[0];n!==t&&o(Dl(n))};return e&&(e.events.error.add(function(e){o(Xc(e))}),e.events.openErrorModal.add(function(e){o(Jc(e))}),o(Dl("select-rectangle")),e.events.selectTool.dispatch(["select-rectangle"]),e.events.openMonomerConnectionModal.add(function(e){return o(Qc({name:"monomerConnection",additionalProps:e}))}),e.events.selectTool.add(n)),function(){o(Dl(null)),null==e||e.events.selectTool.remove(n)}},[e]);var g=(0,a.useCallback)(function(e,t){var n={type:pl.Bond,polymerBond:e,style:t};v(n)},[v]),y=(0,a.useCallback)(function(e){var t,r,o;if(1!==e.buttons&&2!==e.buttons){if(n)return e.preventDefault(),void e.stopPropagation();var a=null===(t=e.target.__data__)||void 0===t?void 0:t.polymerBond;if(!(a&&!a.finished||a instanceof h.eOK))if(a){var l=(0,m.Xx)(a,e.target.getBoundingClientRect());g(a,l)}else{var c=null===(r=e.target.__data__)||void 0===r?void 0:r.node,u=(null===(o=e.target.__data__)||void 0===o?void 0:o.monomer)||(null==c?void 0:c.monomer);if(!(c&&c instanceof h.Dzo))if(u instanceof h.cN8){var s={type:pl.AmbiguousMonomer,monomer:u.variantMonomerItem,target:e.target};v(s)}else{var d=u.monomerItem,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oy(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u.attachmentPointsToBonds),f=c instanceof h.NxW||c instanceof h.yYC;if(c instanceof h.dL6){var y=c.monomers;if(y.length>1){var b={type:pl.Preset,monomers:y.map(function(e){return e.monomerItem}),position:fl.ChainMiddle,target:e.target};return void v(b)}}if(f){var x,w=c instanceof h.NxW?[c.sugar.monomerItem,c.rnaBase.monomerItem,null===(x=c.phosphate)||void 0===x?void 0:x.monomerItem]:[c.sugar.monomerItem,c.rnaBase.monomerItem];if(c.rnaBase instanceof h.cN8){var A={type:pl.AmbiguousMonomer,monomer:c.rnaBase.variantMonomerItem,presetMonomers:w,target:e.target};return void v(A)}var M,C=i.find(function(e){var t=[e.sugar,e.base,e.phosphate];return w.every(function(e,n){var r;return(null==e?void 0:e.props.Name)===(null===(r=t[n])||void 0===r?void 0:r.props.Name)})});M=c instanceof h.yYC?fl.ChainEnd:void 0!==c.firstMonomerInNode.R1AttachmentPoint?fl.ChainStart:fl.ChainMiddle;var k={type:pl.Preset,monomers:w,name:null==C?void 0:C.name,idtAliases:null==C?void 0:C.idtAliases,position:M,target:e.target};v(k)}else{var O={type:pl.Monomer,monomer:d,attachmentPointsToBonds:p,target:e.target};v(O)}}}}},[g,v,i,n]),b=(0,a.useCallback)(function(){v.cancel(),o(Fl(void 0))},[v,o]);return(0,a.useEffect)(function(){null==e||e.events.mouseOverMonomer.add(y),null==e||e.events.mouseLeaveMonomer.add(b),null==e||e.events.mouseLeaveAttachmentPoint.add(b),null==e||e.events.mouseDownAttachmentPoint.add(b),null==e||e.events.mouseOverSequenceItem.add(y),null==e||e.events.mouseLeaveSequenceItem.add(b),null==e||e.events.mouseOverPolymerBond.add(y),null==e||e.events.mouseLeavePolymerBond.add(b);var n=function(e){b(),1===e.buttons&&Ey.includes(t)||y(e)};return null==e||e.events.mouseOnMoveMonomer.add(n),null==e||e.events.mouseMoveAttachmentPoint.add(n),null==e||e.events.mouseOnMoveSequenceItem.add(n),null==e||e.events.mouseOnMovePolymerBond.add(n),window.addEventListener("hidePreview",b),function(){null==e||e.events.mouseOverMonomer.remove(y),null==e||e.events.mouseLeaveMonomer.remove(b),null==e||e.events.mouseLeaveAttachmentPoint.remove(b),null==e||e.events.mouseOverSequenceItem.remove(y),null==e||e.events.mouseLeaveSequenceItem.remove(b),null==e||e.events.mouseOverPolymerBond.remove(y),null==e||e.events.mouseLeavePolymerBond.remove(b),null==e||e.events.mouseOnMoveMonomer.remove(n),null==e||e.events.mouseMoveAttachmentPoint.remove(n),null==e||e.events.mouseOnMoveSequenceItem.remove(n),null==e||e.events.mouseOnMovePolymerBond.remove(n),window.removeEventListener("hidePreview",b)}},[e,t,y,b]),(0,a.useEffect)(function(){u||null==e||e.events.resetSequenceEditMode.dispatch()},[u]),c(l,{})},Ly=function(e){var t=e.selectedMonomers,n=e.contextMenuEvent,r=t||[],o=Qs(tc),i=(0,yt.EF)({id:xd.FOR_SELECTED_MONOMERS}).hideAll,a=Mv(r,n),l=function(e){var t,n,r=(null!==(t=null==o||null===(n=o.drawingEntitiesManager)||void 0===n||null===(n=n.selectedEntitiesArr)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0;return!(null!=e&&e.polymerBondRenderer||null!=e&&e.selectedMonomers&&0!==(null==e?void 0:e.selectedMonomers.length)||r)},u=Av(a),s=function(e){return!(null==e||!e.polymerBondRenderer)},d=r&&r.length>0&&xv(r),p="flex-layout-mode"!==(null==o?void 0:o.mode.modeName)||(null==o?void 0:o.drawingEntitiesManager.selectedMicromoleculeEntities.length)>0||!Cv(r),f=[{name:"copy",title:"Copy",icon:c(m.In,{name:"copyMenu"}),disabled:function(e){var t=e.props,n=void 0===t?{}:t;return s(n)||l(n)}},{name:gv.paste,title:"Paste",icon:c(m.In,{name:"pasteNavBar"}),disabled:function(e){var t=e.props;return!l(void 0===t?{}:t)},separator:!0},{name:"create_antisense_rna_chain",title:"Create Antisense RNA Strand",separator:!1,disabled:bv(r),hidden:function(e){var t=e.props;return!(null!=t&&t.selectedMonomers&&xv(null==t?void 0:t.selectedMonomers))}},{name:"create_antisense_dna_chain",title:"Create Antisense DNA Strand",disabled:bv(r),hidden:function(e){var t=e.props;return!(null!=t&&t.selectedMonomers&&xv(null==t?void 0:t.selectedMonomers))},separator:d},{name:gv.modifyAminoAcids,title:"Modify amino acids",disabled:!1,hidden:!u.length,subMenuItems:u},{name:"layout_circular",title:"Arrange as a Ring",disabled:p},{name:"edit_attachment_points",title:"Edit Attachment Points...",disabled:function(e){var t=e.props;return!s(t)},separator:!0},{name:"delete",title:"Delete",icon:c(m.In,{name:"deleteMenu"}),disabled:function(e){var t=e.props;return l(void 0===t?{}:t)}}],h=document.querySelector(m.tS);return h&&(0,bt.createPortal)(c(Pd,{id:xd.FOR_SELECTED_MONOMERS,handleMenuChange:function(e){var t=e.id,n=e.props;switch(!0){case"layout_circular"===t:null==o||o.events.layoutCircular.dispatch(),i();break;case"copy"===t:null==o||o.events.copySelectedStructure.dispatch();break;case"create_antisense_rna_chain"===t:null==o||o.events.createAntisenseChain.dispatch(!1);break;case"create_antisense_dna_chain"===t:null==o||o.events.createAntisenseChain.dispatch(!0);break;case"delete"===t:null==o||o.events.deleteSelectedStructure.dispatch();break;case"paste"===t:null==o||o.events.pasteFromClipboard.dispatch();break;case"edit_attachment_points"===t:var r,l=null==n||null===(r=n.polymerBondRenderer)||void 0===r?void 0:r.polymerBond;if(!l)return;null==o||o.events.openMonomerConnectionModal.dispatch({firstMonomer:l.firstMonomer,secondMonomer:l.secondMonomer,polymerBond:l,isReconnectionDialog:!0});break;case null==t?void 0:t.startsWith(wv):var c=null==t?void 0:t.replace(wv,"");null==o||o.events.modifyAminoAcids.dispatch({monomers:a,modificationType:c})}},menuItems:f}),h)},Dy=(0,ct.A)(m.$n,{target:"e1846tr80"})(function(e){var t=e.theme,n=e.isActive;return{width:"40px",height:"31px",backgroundColor:n?t.ketcher.color.button.group.active:"white",marginRight:"8px",border:n?t.ketcher.outline.selected.color:t.ketcher.outline.small,borderRadius:"4px",outline:"none",":hover":{backgroundColor:n?t.ketcher.color.button.group.hover:"white"},":hover svg":{fill:n?"white":t.ketcher.color.button.group.active}}},""),Ty=function(){var e=Qs(tc),t=(0,a.useState)(!0),n=(0,r.A)(t,2),o=n[0],i=n[1],l="sequence-layout-mode"===Ks(),s=Qs(ac);return(0,a.useEffect)(function(){l&&s&&(null==e||e.events.toggleIsSequenceSyncEditMode.dispatch(o))},[l,s]),l&&s?c(Dy,{isActive:o,onClick:function(){var t=!o;i(t),null==e||e.events.toggleIsSequenceSyncEditMode.dispatch(t),Ym()},"data-testid":"sync_sequence_edit_mode","data-isactive":o,children:u("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:o?"white":"#333333",children:[c("rect",{x:"1",y:"1.5",width:"22",height:"2",rx:"1"}),c("rect",{x:"2.5",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 2.5 1.5)"}),c("rect",{x:"9.33333",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 9.33333 1.5)"}),c("rect",{x:"16.1667",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 16.1667 1.5)"}),c("rect",{x:"23",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 23 1.5)"}),c("path",{d:"M2.16873 14.2715C2.08963 14.3652 2.02518 14.4253 1.97537 14.4517C1.9285 14.478 1.8699 14.4912 1.79959 14.4912C1.66189 14.4912 1.55057 14.4458 1.46561 14.355C1.38357 14.2612 1.34256 14.1074 1.34256 13.8936V13.2871C1.34256 13.0703 1.38357 12.9165 1.46561 12.8257C1.55057 12.7319 1.66189 12.6851 1.79959 12.6851C1.90506 12.6851 1.99295 12.7129 2.06326 12.7686C2.1365 12.8242 2.19217 12.918 2.23025 13.0498C2.26834 13.1787 2.30789 13.2666 2.34891 13.3135C2.43387 13.4043 2.58475 13.4966 2.80154 13.5903C3.01834 13.6841 3.25564 13.731 3.51346 13.731C3.91482 13.731 4.24441 13.6372 4.50223 13.4497C4.66629 13.3354 4.74832 13.1948 4.74832 13.0278C4.74832 12.9165 4.70877 12.8125 4.62967 12.7158C4.55057 12.6162 4.42166 12.5342 4.24295 12.4697C4.12576 12.4258 3.86355 12.3657 3.45633 12.2896C2.96414 12.1987 2.59207 12.0889 2.34012 11.96C2.08816 11.8311 1.88895 11.6494 1.74246 11.415C1.59598 11.1807 1.52273 10.9272 1.52273 10.6548C1.52273 10.2241 1.70291 9.84766 2.06326 9.52539C2.42361 9.2002 2.89236 9.0376 3.46951 9.0376C3.70096 9.0376 3.91482 9.06396 4.11111 9.1167C4.31033 9.1665 4.49051 9.24414 4.65164 9.34961C4.76883 9.23535 4.88602 9.17822 5.0032 9.17822C5.13504 9.17822 5.24197 9.2251 5.324 9.31885C5.40897 9.40967 5.45145 9.56201 5.45145 9.77588V10.4526C5.45145 10.6694 5.40897 10.8247 5.324 10.9185C5.24197 11.0093 5.13504 11.0547 5.0032 11.0547C4.89188 11.0547 4.7952 11.021 4.71316 10.9536C4.64871 10.9038 4.60037 10.8042 4.56814 10.6548C4.53592 10.5054 4.4949 10.3984 4.4451 10.334C4.36014 10.2227 4.2327 10.1289 4.06277 10.0527C3.89285 9.97656 3.69656 9.93848 3.47391 9.93848C3.14871 9.93848 2.8909 10.0146 2.70047 10.167C2.51297 10.3164 2.41922 10.4731 2.41922 10.6372C2.41922 10.7485 2.4573 10.8569 2.53348 10.9624C2.61258 11.0649 2.72684 11.1455 2.87625 11.2041C2.97586 11.2451 3.25564 11.311 3.71561 11.4019C4.1785 11.4927 4.53299 11.5923 4.77908 11.7007C5.02811 11.8091 5.23465 11.979 5.39871 12.2104C5.56277 12.4419 5.6448 12.7173 5.6448 13.0366C5.6448 13.4819 5.48807 13.8379 5.17459 14.1045C4.75857 14.4561 4.2283 14.6318 3.58377 14.6318C3.33475 14.6318 3.09158 14.6011 2.85428 14.5396C2.6199 14.481 2.39139 14.3916 2.16873 14.2715ZM9.615 12.2632V13.5991H10.2214C10.4382 13.5991 10.5921 13.6416 10.6829 13.7266C10.7766 13.8086 10.8235 13.917 10.8235 14.0518C10.8235 14.1836 10.7766 14.292 10.6829 14.377C10.5921 14.459 10.4382 14.5 10.2214 14.5H8.10768C7.89381 14.5 7.74 14.459 7.64625 14.377C7.55543 14.292 7.51002 14.1821 7.51002 14.0474C7.51002 13.9155 7.55543 13.8086 7.64625 13.7266C7.74 13.6416 7.89381 13.5991 8.10768 13.5991H8.71412V12.2632L7.22438 10.0747C7.02516 10.0747 6.87867 10.0322 6.78492 9.94727C6.6941 9.8623 6.64869 9.75391 6.64869 9.62207C6.64869 9.4873 6.6941 9.37891 6.78492 9.29688C6.87867 9.21191 7.03395 9.16943 7.25074 9.16943L8.06813 9.17383C8.28492 9.17383 8.43873 9.21484 8.52955 9.29688C8.6233 9.37891 8.67018 9.4873 8.67018 9.62207C8.67018 9.82422 8.55152 9.9751 8.31422 10.0747L9.16676 11.3315L10.0017 10.0747C9.86988 10.0249 9.77613 9.96191 9.72047 9.88574C9.6648 9.80957 9.63697 9.72168 9.63697 9.62207C9.63697 9.4873 9.68238 9.37891 9.7732 9.29688C9.86695 9.21484 10.0222 9.17236 10.239 9.16943L11.0872 9.17383C11.304 9.17383 11.4578 9.21484 11.5486 9.29688C11.6423 9.37891 11.6892 9.4873 11.6892 9.62207C11.6892 9.75684 11.6423 9.8667 11.5486 9.95166C11.4548 10.0337 11.3025 10.0747 11.0916 10.0747L9.615 12.2632ZM13.7082 10.8745V13.5991H14.0334C14.2502 13.5991 14.404 13.6416 14.4949 13.7266C14.5886 13.8086 14.6355 13.917 14.6355 14.0518C14.6355 14.1836 14.5886 14.292 14.4949 14.377C14.404 14.459 14.2502 14.5 14.0334 14.5H12.8513C12.6345 14.5 12.4792 14.459 12.3855 14.377C12.2947 14.292 12.2493 14.1821 12.2493 14.0474C12.2493 13.9185 12.2947 13.8115 12.3855 13.7266C12.4763 13.6416 12.6169 13.5991 12.8074 13.5991V10.0747H12.6667C12.4499 10.0747 12.2947 10.0337 12.2009 9.95166C12.1101 9.8667 12.0647 9.75684 12.0647 9.62207C12.0647 9.4873 12.1101 9.37891 12.2009 9.29688C12.2947 9.21191 12.4499 9.16943 12.6667 9.16943L13.7082 9.17383L16.011 12.7861V10.0747H15.6858C15.469 10.0747 15.3137 10.0337 15.22 9.95166C15.1291 9.8667 15.0837 9.75684 15.0837 9.62207C15.0837 9.4873 15.1291 9.37891 15.22 9.29688C15.3137 9.21191 15.469 9.16943 15.6858 9.16943L16.8679 9.17383C17.0847 9.17383 17.2385 9.21484 17.3293 9.29688C17.4231 9.37891 17.47 9.4873 17.47 9.62207C17.47 9.75391 17.4246 9.8623 17.3337 9.94727C17.2429 10.0322 17.1038 10.0747 16.9163 10.0747V14.5H16.0242L13.7082 10.8745ZM21.9236 9.40234C21.9792 9.32617 22.0393 9.26904 22.1037 9.23096C22.1711 9.19287 22.2429 9.17383 22.3191 9.17383C22.4509 9.17383 22.5578 9.21924 22.6399 9.31006C22.7248 9.40088 22.7673 9.55469 22.7673 9.77148V10.5361C22.7673 10.7529 22.7248 10.9082 22.6399 11.002C22.5578 11.0928 22.4509 11.1382 22.3191 11.1382C22.1989 11.1382 22.1023 11.1045 22.029 11.0371C21.9558 10.9697 21.9016 10.8438 21.8664 10.6592C21.8459 10.5361 21.8049 10.4409 21.7434 10.3735C21.6233 10.2417 21.4548 10.1362 21.238 10.0571C21.0241 9.97803 20.8088 9.93848 20.592 9.93848C20.3225 9.93848 20.0749 9.99707 19.8493 10.1143C19.6237 10.2314 19.4245 10.4219 19.2517 10.6855C19.0788 10.9492 18.9924 11.2627 18.9924 11.626V12.2104C18.9924 12.644 19.1491 13.0059 19.4626 13.2959C19.779 13.5859 20.217 13.731 20.7766 13.731C21.1106 13.731 21.3933 13.6855 21.6247 13.5947C21.7595 13.542 21.903 13.438 22.0554 13.2827C22.1491 13.189 22.2224 13.1289 22.2751 13.1025C22.3279 13.0732 22.3879 13.0586 22.4553 13.0586C22.5754 13.0586 22.6809 13.104 22.7717 13.1948C22.8625 13.2856 22.9079 13.3926 22.9079 13.5156C22.9079 13.6387 22.8464 13.7705 22.7234 13.9111C22.5446 14.1162 22.3147 14.2773 22.0334 14.3945C21.6555 14.5527 21.238 14.6318 20.781 14.6318C20.2478 14.6318 19.7673 14.522 19.3396 14.3022C18.9939 14.1265 18.6994 13.8496 18.4563 13.4717C18.2131 13.0908 18.0915 12.6763 18.0915 12.228V11.6172C18.0915 11.1484 18.1999 10.7119 18.4167 10.3076C18.6364 9.90039 18.9397 9.58691 19.3264 9.36719C19.7131 9.14746 20.1233 9.0376 20.5569 9.0376C20.8176 9.0376 21.0608 9.06836 21.2863 9.12988C21.5149 9.18848 21.7273 9.2793 21.9236 9.40234Z"}),c("rect",{x:"23",y:"22.5",width:"22",height:"2",rx:"1",transform:"rotate(-180 23 22.5)"}),c("rect",{x:"21.5",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 21.5 22.5)"}),c("rect",{x:"14.6667",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 14.6667 22.5)"}),c("rect",{x:"7.83333",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 7.83333 22.5)"}),c("rect",{x:"1",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 1 22.5)"})]})}):null},By=function(e,t){var n=(0,a.useRef)(null);(0,a.useLayoutEffect)(function(){var r=e.current;if(r)return n.current=requestAnimationFrame(function(){r.style.transform="translateX(".concat(t,"px)")}),function(){n.current&&(cancelAnimationFrame(n.current),n.current=null)}},[e,t])},zy={rulerArea:"RulerArea-module_rulerArea__Kix1O",rulerInput:"RulerArea-module_rulerInput__nCNOa",rulerInputDragging:"RulerArea-module_rulerInputDragging__saoOk",rulerScale:"RulerArea-module_rulerScale__4YOKH",rulerHandle:"RulerArea-module_rulerHandle__g4GPl"},Ry=(0,a.memo)(function(e){var t=e.lineLengthValue,n=e.offsetX,o=e.isDragging,i=e.layoutMode,l=e.onCommitValue,u=(0,a.useRef)(null);By(u,n);var s=t.toString(),d=(0,a.useState)(null),p=(0,r.A)(d,2),f=p[0],h=p[1],m=null!==f?f:s;return c("input",{className:(0,xt.A)(zy.rulerInput,o&&zy.rulerInputDragging),title:"Number of monomers in a line",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:m,onChange:function(e){h(e.target.value)},onBlur:function(){if(f&&""!==f.trim()){var e=Number(f);if(Number.isNaN(e)||e<1)h(null);else{var t="sequence-layout-mode"===i?10*Math.round(e/10):e;h(null),l(t)}}else h(null)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.currentTarget.blur())},"data-testid":"ruler-input",disabled:o,ref:u})}),Fy=h.XKT,Hy=(0,a.memo)(function(e){var t=e.transform,n=e.layoutMode;e.lineLengthValue;var r=(0,a.useRef)(null),o=t.k-.5<Number.EPSILON,i=function(e,t,n,r){var o=Math.max(0,Math.floor((e-r)/n)),i=Math.ceil((t-r)/n)+10;return Array.from({length:i-o},function(e,t){return r+(o+t)*n})},l=(0,a.useMemo)(function(){var e,o=(null===(e=r.current)||void 0===e||null===(e=e.ownerSVGElement)||void 0===e?void 0:e.width.baseVal.value)||1e3,a=t.invertX(0),l=t.invertX(o);return"sequence-layout-mode"===n?i(a,l,210,40):"snake-layout-mode"===n?i(a,l,Fy,25):[]},[n,t]),u=(0,a.useMemo)(function(){var e=[];return l.forEach(function(r,i){"sequence-layout-mode"===n?e.push(c("line",{x1:t.applyX(r),y1:14,x2:t.applyX(r),y2:22,stroke:"#7C7C7F",strokeWidth:1},"ruler-mark-".concat(r))):"snake-layout-mode"===n&&(o?i%5==0?e.push(c("text",{x:t.applyX(r),y:18,fontSize:10,fontWeight:500,fill:"#7C7C7F",textAnchor:"middle",dominantBaseline:"middle",children:i},"ruler-label-".concat(r))):e.push(c("line",{x1:t.applyX(r),y1:14,x2:t.applyX(r),y2:22,stroke:"#7C7C7F",strokeWidth:1},"ruler-mark-".concat(r))):e.push(c("text",{x:t.applyX(r),y:18,fontSize:10,fontWeight:500,fill:"#7C7C7F",textAnchor:"middle",dominantBaseline:"middle",children:i},"ruler-label-".concat(r))));var a=l[i+1];void 0!==a&&(o&&"snake-layout-mode"===n||e.push(c("line",{x1:t.applyX(r+10),y1:18,x2:t.applyX(a-10),y2:18,stroke:"#B4B9D6",strokeDasharray:"2,2",strokeWidth:1},"ruler-fill-".concat(r,"-").concat(a))))}),e},[l,n,t,o]);return c("svg",{className:zy.rulerScale,ref:r,"data-testid":"ruler-scale",children:u})}),qy=(0,a.memo)(function(e){var t=e.offsetX,n=e.onDragStart,r=e.onDrag,o=e.onDragEnd,i=(0,a.useRef)(null),l=(0,a.useRef)(null);return By(i,t),(0,a.useEffect)(function(){if(l.current){var e=Bo(l.current),t=Qo().on("start",n).on("drag",r).on("end",o);return e.call(t),function(){e.on(".drag",null)}}},[r,o,n]),c("svg",{xmlns:"http://www.w3.org/2000/svg",className:zy.rulerHandle,viewBox:"0 0 16 13",fill:"none",pointerEvents:"none",ref:i,"data-testid":"ruler-handle",children:u("g",{cursor:"pointer",pointerEvents:"all",ref:l,children:[c("mask",{id:"ruler-handle-mask",fill:"#fff",children:c("path",{fillRule:"evenodd",d:"M16 1.625a1 1 0 0 0-1-1H1a1 1 0 0 0-1 1v4.5a1 1 0 0 0 .4.8l7 5.25a1 1 0 0 0 1.2 0l7-5.25a1 1 0 0 0 .4-.8v-4.5Z",clipRule:"evenodd"})}),c("path",{fill:"#CAD3DD",fillRule:"evenodd",d:"M16 1.625a1 1 0 0 0-1-1H1a1 1 0 0 0-1 1v4.5a1 1 0 0 0 .4.8l7 5.25a1 1 0 0 0 1.2 0l7-5.25a1 1 0 0 0 .4-.8v-4.5Z",clipRule:"evenodd"}),c("path",{fill:"#B4B9D6",d:"m15.6 6.925-.6-.8.6.8Zm-8.2 5.25.6-.8-.6.8Zm-7-5.25.6-.8-.6.8Zm.6-5.3h14v-2H1v2Zm0 4.5v-4.5h-2v4.5h2Zm7 5.25-7-5.25-1.2 1.6 7 5.25 1.2-1.6Zm7-5.25-7 5.25 1.2 1.6 7-5.25-1.2-1.6Zm0-4.5v4.5h2v-4.5h-2Zm1.2 6.1a2 2 0 0 0 .8-1.6h-2l1.2 1.6Zm-9.4 5.25a2 2 0 0 0 2.4 0l-1.2-1.6-1.2 1.6ZM-1 6.125a2 2 0 0 0 .8 1.6l1.2-1.6h-2Zm16-4.5h2a2 2 0 0 0-2-2v2Zm-14-2a2 2 0 0 0-2 2h2v-2Z",mask:"url(#ruler-handle-mask)"})]})})}),Wy=function(){var e=(0,a.useState)(new Ol(1,0,0)),t=(0,r.A)(e,2),n=t[0],o=t[1];return(0,a.useEffect)(function(){var e=h.OQ2.instance;if(e){var t=function(e){e&&requestAnimationFrame(function(){o(e)})};return e.subscribeOnZoomEvent(t),function(){e.unsubscribeOnZoomEvent(t)}}},[h.OQ2.instance]),n},$y=function(){var e,t,n,o=Ks(),i=(0,s.d4)(hc)[o],l=(0,s.d4)(tc),d=(0,a.useRef)(0),p=(0,a.useState)(0),f=(0,r.A)(p,2),h=f[0],m=f[1],v=(0,a.useState)(!1),g=(0,r.A)(v,2),y=g[0],b=g[1],x=Wy(),w=i/10-1,A=(0,a.useMemo)(function(){return"sequence-layout-mode"===o?40+210*Math.floor(i/10):"snake-layout-mode"===o?25+i*Fy:0},[o,i]),M=(0,a.useMemo)(function(){var e=x.applyX(A)+h,t=e-8,n=e+10,r=null==l?void 0:l.canvas.width.baseVal.value;if(!r)return[n,t];var o=null==l?void 0:l.canvas.parentElement,i=(null==o?void 0:o.scrollLeft)||0,a=i,c=i+((null==o?void 0:o.clientWidth)||r);return n+35>c&&(n=c-35),n<a&&(n=a),[n,t]},[null==l?void 0:l.canvas.width.baseVal.value,null==l?void 0:l.canvas.parentElement,x,A,h]),C=(0,r.A)(M,2),k=C[0],O=C[1],S=(0,a.useCallback)(function(e){null==l||l.events.setEditorLineLength.dispatch((0,ut.A)({},o,e))},[null==l||null===(e=l.events)||void 0===e?void 0:e.setEditorLineLength,o]),j=(0,a.useCallback)(function(e){if("sequence-layout-mode"===o){var t=(e-10*w-40)/20;return Math.max(10,10*Math.round(t/10))}if("snake-layout-mode"===o){var n=(e-25)/Fy;return Math.max(1,Math.round(n))}return i},[o,w,i]),I=(0,a.useCallback)(function(e){var t=e-d.current,n=x.applyX(A)+t;return[t,x.invertX(n)]},[x,A]),P=(0,a.useMemo)(function(){if(!y)return i;var e=I(d.current+h),t=(0,r.A)(e,2)[1];return j(t)},[y,i,I,d,h,j]),_=(0,a.useCallback)(function(e){b(!0),d.current=e.sourceEvent.clientX,null==l||l.events.toggleLineLengthHighlighting.dispatch(!0,A)},[null==l||null===(t=l.events)||void 0===t?void 0:t.toggleLineLengthHighlighting,A]),E=(0,a.useCallback)(function(e){var t=I(e.sourceEvent.clientX),n=(0,r.A)(t,2),o=n[0],i=n[1];m(o),null==l||l.events.toggleLineLengthHighlighting.dispatch(!0,i)},[null==l||null===(n=l.events)||void 0===n?void 0:n.toggleLineLengthHighlighting,I]),N=(0,a.useCallback)(function(e){b(!1);var t=I(e.sourceEvent.clientX),n=(0,r.A)(t,2)[1],o=j(n);o!==i&&S(o),m(0),d.current=0,null==l||l.events.toggleLineLengthHighlighting.dispatch(!1)},[I,j,i,null==l?void 0:l.events.toggleLineLengthHighlighting,S]);return"flex-layout-mode"===o||window._ketcher_isChainLengthRulerDisabled?null:u("div",{className:(0,xt.A)(zy.rulerArea,y&&zy.rulerAreaDragging),"data-testid":"ruler-area",children:[c(Ry,{lineLengthValue:y?P:i,offsetX:k,isDragging:y,layoutMode:o,onCommitValue:S}),c(qy,{offsetX:O,onDragStart:_,onDrag:E,onDragEnd:N}),c(Hy,{transform:x,layoutMode:o,lineLengthValue:i})]})},Vy=function(e){var t=e.preset,n=t.sugar,o=t.phosphate,i=t.base;if(!n)return null;var a,l,s,d,p,f,m=(0,h.w7j)(n),v=(0,r.A)(m,2),g=v[0],y=new(0,v[1])(new g(n)),b=o?(a=(0,h.w7j)(o),s=(l=(0,r.A)(a,2))[0],new(0,l[1])(new s(o))):null,x=i?(d=(0,h.w7j)(i),f=(p=(0,r.A)(d,2))[0],new(0,p[1])(new f(i))):null,w=y.monomerSize,A=null==b?void 0:b.monomerSize,M=null==x?void 0:x.monomerSize,C=A?0+w.width+30:0,k=0+(w.width-((null==M?void 0:M.width)||0))/2,O=0+w.height+30,S=Math.max(0+w.width,A?C+A.width:0,M?k+M.width:0),j=Math.max(0+w.height,A?0+A.height:0,M?O+M.height:0),I=(w.width-4)/w.width,P=(w.height-4)/w.height,_=Math.min(I,P),E=(w.width-w.width*_)/2,N=(w.height-w.height*_)/2,L=A?Math.min((A.width-4)/A.width,(A.height-4)/A.height):1,D=A?(A.width-A.width*L)/2:0,T=A?(A.height-A.height*L)/2:0,B=M?Math.min((M.width-4)/M.width,(M.height-4)/M.height):1,z=M?(M.width-M.width*B)/2:0,R=M?(M.height-M.height*B)/2:0;return c("svg",{xmlns:"http://www.w3.org/2000/svg",width:S,height:j,viewBox:"0 0 ".concat(S," ").concat(j),overflow:"visible",children:u("g",{style:{filter:"drop-shadow(0px 2px 2px rgba(0, 0, 0, 0.4))"},children:[u("g",{transform:"translate(".concat(0,", ").concat(0,")"),children:[c("use",{href:y.monomerSymbolElementId,fill:"white"}),c("g",{transform:"translate(".concat(E,", ").concat(N,") scale(").concat(_,")"),children:c("use",{href:y.monomerSymbolElementId,fill:"#CAD3DD"})}),c("text",{x:w.width/2,y:w.height/2,textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",fill:"#333",fontSize:"7px",fontWeight:"bold",children:n.label})]}),A&&u("g",{transform:"translate(".concat(C,", ").concat(0,")"),children:[c("use",{href:b.monomerSymbolElementId,fill:"white"}),c("g",{transform:"translate(".concat(D,", ").concat(T,") scale(").concat(L,")"),children:c("use",{href:b.monomerSymbolElementId,fill:"#CAD3DD"})}),c("text",{x:A.width/2,y:A.height/2,textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",fill:"#333",fontSize:"7px",fontWeight:"bold",children:null==o?void 0:o.label})]}),M&&u("g",{transform:"translate(".concat(k,", ").concat(O,")"),children:[c("use",{href:x.monomerSymbolElementId,fill:"white"}),c("g",{transform:"translate(".concat(z,", ").concat(R,") scale(").concat(B,")"),children:c("use",{href:x.monomerSymbolElementId,fill:"#CAD3DD"})}),c("text",{x:M.width/2,y:M.height/2,textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",fill:"#333",fontSize:"7px",fontWeight:"bold",children:null==i?void 0:i.label})]}),A&&u("g",{children:[c("line",{x1:0+w.width,y1:0+w.height/2,x2:C+2,y2:0+A.height/2,stroke:"white",strokeWidth:7,strokeLinecap:"butt"}),c("line",{x1:0+w.width-3,y1:0+w.height/2,x2:C+3,y2:0+A.height/2,stroke:"#CAD3DD",strokeWidth:4,strokeLinecap:"round"})]}),M&&u("g",{children:[c("line",{x1:0+w.width/2,y1:0+w.height,x2:k+M.width/2,y2:O+3,stroke:"white",strokeWidth:7,strokeLinecap:"butt"}),c("line",{x1:0+w.width/2,y1:0+w.height-3,x2:k+M.width/2,y2:O+3,stroke:"#CAD3DD",strokeWidth:4,strokeLinecap:"round"})]})]})})},Uy=function(e){var t=e.monomerItem,n=(0,a.useMemo)(function(){if((0,h.eoH)(t)){var e=new h.cN8(t);return new h.TYn(e)}var n=(0,h.w7j)(t),o=(0,r.A)(n,2),i=o[0];return new(0,o[1])(new i(t))},[t]),o=n.monomerSymbolElementId,i=n.monomerSize,l=i.width,s=i.height;return u("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:s,viewBox:"0 0 ".concat(l," ").concat(s),overflow:"visible",children:[c("use",{href:o,fill:"#CAD3DD",stroke:"white",strokeWidth:2,style:{filter:"drop-shadow(0px 2px 2px rgba(0, 0, 0, 0.4))"}}),c("text",{x:l/2,y:s/2,textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",fill:"#333",fontSize:"7px",fontWeight:"bold",children:t.label})]})},Yy=function(){var e,t,n=(0,s.d4)(tc),o=(0,a.useState)(null),i=(0,r.A)(o,2),l=i[0],u=i[1],d=(0,a.useRef)(null),p=(0,a.useRef)(null),f=(0,a.useRef)(null),m=Wy();(0,a.useEffect)(function(){if(n){var e=function(e){u(e)};return n.events.setLibraryItemDragState.add(e),function(){n.events.setLibraryItemDragState.remove(e)}}},[n]),(0,a.useEffect)(function(){if(h.OQ2.instance&&l){var e=h.OQ2.instance.canvasWrapper.node();e&&(f.current=e.getBoundingClientRect())}},[l]);var v=(null==n||null===(e=n.ketcherRootElementBoundingClientRect)||void 0===e?void 0:e.left)||0,g=(null==n||null===(t=n.ketcherRootElementBoundingClientRect)||void 0===t?void 0:t.top)||0,y=f.current&&l&&l.position.x+v>=f.current.left&&l.position.x+v<=f.current.right&&l.position.y+g>=f.current.top&&l.position.y+g<=f.current.bottom;return(0,a.useLayoutEffect)(function(){var e=d.current;if(e&&l)return p.current=requestAnimationFrame(function(){var t=l.position,n=t.x,r=t.y;if(y&&f.current){var o=m.k;e.style.transformOrigin="0 0",e.style.transform="translate(".concat(n,"px, ").concat(r,"px) scale(").concat(o,")")}else e.style.transform="translate(".concat(n,"px, ").concat(r,"px)")}),function(){p.current&&(cancelAnimationFrame(p.current),p.current=null)}},[y,l,m.k]),l?c("div",{className:"DragGhost-module_dragGhost__m5lHf",ref:d,children:(0,h.jT0)(l.item)?c(Vy,{preset:l.item}):c(Uy,{monomerItem:l.item})}):null};function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function Qy(e){return a.createElement("svg",Gy({width:22,height:24,viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Sy||(Sy=a.createElement("path",{fill:"transparent",d:"M0 0h21.503v24H0z"})),jy||(jy=a.createElement("path",{d:"M13.507 18.936l-2.04-1.92c-.7-.659-1.403-1.317-2.108-1.983v3.097c0 .43.003.86.007 1.289 0 .049-.007.09-.007.126v2.04c0 .834 0 1.557.003 2.02l.278.163c.719.3 1.434.307 2.151.033l4.264-2.469c-.358-.326-1.395-1.31-2.548-2.396zM6.159 19.39v-1.091L6.163 2.23v-.002L1.26 5.059C.421 5.647.002 6.482.002 7.553c0 2.944.006 5.888-.002 8.831-.003 1.08.398 1.913 1.212 2.517l4.946 2.856v-2.318-.05z",fill:"#676767"})),Iy||(Iy=a.createElement("path",{d:"M18.642 4.137l1.672.966c.785.58 1.187 1.385 1.188 2.41v8.974c0 1-.385 1.79-1.133 2.367l-1.423.822h-.004c-.097-.097-6.384-6.375-6.513-6.386.044-.044.56-.582 1.278-1.33L20.3 5.097l-1.658-.96z",fill:"url(#logo_svg__paint0_linear_5175_84899)"})),Py||(Py=a.createElement("path",{d:"M17.335 3.383L11.849.216c-.718-.29-1.455-.29-2.219.011l-.27.139s0 10.346.041 11.106c.341-.346 7.808-7.96 7.934-8.09z",fill:"url(#logo_svg__paint1_linear_5175_84899)"})),_y||(_y=a.createElement("defs",null,a.createElement("linearGradient",{id:"logo_svg__paint0_linear_5175_84899",x1:19.854,y1:4.363,x2:11.579,y2:13.111,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#3BC2D7"}),a.createElement("stop",{offset:.74,stopColor:"#1D9DB1"})),a.createElement("linearGradient",{id:"logo_svg__paint1_linear_5175_84899",x1:19.854,y1:4.363,x2:11.579,y2:13.111,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#3BC2D7"}),a.createElement("stop",{offset:.74,stopColor:"#1D9DB1"})))))}var Ky=(0,ct.A)("div",{target:"e1dr48d30"})(function(e){var t,n,r=e.theme;return{width:"430px",minHeight:"260px",padding:"0 18px",borderRadius:"6px",fontSize:"12px",color:r.ketcher.color.text.primary,fontWeight:null===(t=r.ketcher)||void 0===t||null===(t=t.font)||void 0===t||null===(t=t.weight)||void 0===t?void 0:t.regular,a:{color:"#167782"},".body":{borderRadius:"6px",padding:"5px 65px",overflowY:"auto",overflowX:"hidden",".versionName":{fontWeight:400,marginBottom:"2px"},".firstline":{display:"inline-block"},".links":{textAlign:"right"},".indigoVersion":{marginTop:"20px",display:"flex",gap:"2px"}},".headerContent":{display:"flex",justifyContent:"space-between",padding:"0 30px",a:{display:"flex",alignItems:"center",gap:"10px",textDecoration:"none",color:null===(n=r.ketcher)||void 0===n||null===(n=n.color)||void 0===n||null===(n=n.text)||void 0===n?void 0:n.primary},".title":{fontSize:"20px",lineHeight:"22px"}},".indigoFirstLine":{display:"inline-block"},dd:{margin:0,marginBottom:"0.2em"},dt:{marginTop:"3px"},".okButton":{border:"1px solid #333333",backgroundColor:"#FFFFFF",color:"#333333",display:"inline-flex",justifyContent:"center",alignItems:"center",outline:"none",minWidth:"70px",lineHeight:"14px",height:"24px",borderRadius:"4px",fontSize:"10px","&:hover":{color:"#333333",border:"1px solid  #333333"},"&:active":{color:"#333333",border:"1px solid #333333"},"&:disabled":{color:"rgba(51, 51, 51, 0.7)",border:"1px solid rgba(51, 51, 51, 0.7)"}},".aboutFooter":{borderTop:"1px solid #e1e5ea",margin:0,padding:"15px 0",display:"flex",justifyContent:"flex-end",alignItems:"center"}}},"");function Xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xy(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Jy="https://lifescience.opensource.epam.com/ketcher/index.html";function eb(e){var t=e.isOpen,n=e.onClose,o=Gs();!function(){var e=Gs(),t=Qs(mc);(0,a.useEffect)(function(){function n(){return(n=(0,wt.A)(Mt().mark(function n(){var r,o;return Mt().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(r=m.e3.getIndigo())||!r.info){n.next=11;break}return n.prev=2,n.next=5,r.info();case 5:o=n.sent,e(Kl(Zy(Zy({},t),{},{indigoVersion:o.indigoVersion||""}))),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:case"end":return n.stop()}},n,null,[[2,9]])}))).apply(this,arguments)}!function(){n.apply(this,arguments)}()},[e])}();var i=Qs(mc),l=i.buildDate,s=i.indigoVersion,d=i.version,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e.includes("T"))return e;var t=e.split("T"),n=(0,r.A)(t,2),o=n[0],i=n[1];return"".concat(o,"; ").concat(i)}(l),f=function(){o({type:"MODAL_CLOSE"}),n()};return c(Dp,{title:"",isOpen:t,onClose:f,hideHeaderBorder:!0,children:c(Dp.Content,{children:u(Ky,{children:[c("div",{className:"headerContent",children:u("a",{href:Jy,target:"_blank",rel:"noopener noreferrer",children:[c(Qy,{}),c("span",{className:"title",children:"Ketcher"})]})}),c("div",{className:"body",children:u("dl",{children:[c("dt",{"data-testid":"build-version",children:u("a",{href:Jy,target:"_blank",rel:"noopener noreferrer",children:["Version ",d]})}),u("dd",{"data-testid":"build-time",children:["Build at ",c("time",{children:p})]}),u("div",{className:"infoLinks",children:[c("dt",{children:c("a",{href:"http://lifescience.opensource.epam.com/ketcher/#feedback",target:"_blank",rel:"noopener noreferrer",children:"Feedback"})}),c("dt",{children:c("a",{href:"http://lifescience.opensource.epam.com/",target:"_blank",rel:"noopener noreferrer",children:"EPAM Life Sciences"})})]}),c("div",{className:"indigoVersion",children:c("a",{href:"http://lifescience.opensource.epam.com/indigo/",target:"_blank",rel:"noopener noreferrer",children:"Indigo Toolkit"})}),c("div",{"data-testid":"build-indigo-version",children:s?u("dd",{children:["Version ",s]}):c("p",{children:"Standalone"})})]})}),c("div",{className:"aboutFooter",children:c("button",{onClick:f,className:"okButton","data-testid":"ok-button",children:"Ok"})})]})})})}function tb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tb(Object(n),!0).forEach(function(t){(0,ut.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rb(){var e=(0,a.useState)(!1),t=(0,r.A)(e,2),n=t[0],o=t[1],i={isOpen:n,onClose:function(){return o(!1)}};return u(l,{children:[u("div",{style:{display:"flex",alignItems:"center"},children:[c(m.K0,{iconName:"help",title:"Help (?)",onClick:function(){var e=Tt.env.HELP_LINK||"master";window.open("https://github.com/epam/ketcher/blob/".concat(e,"/documentation/help.md#ketcher-macromolecules-mode"),"_blank")},testId:"help-button"}),c(m.K0,{iconName:"about",title:"About",onClick:function(){return o(!0)},testId:"about-button"})]}),c(eb,nb({},i))]})}var ob=(0,p.A)({});function ib(e){var t=e.onInit,n=e.ketcherId,r=e.theme,o=e.togglerComponent,l=e.monomersLibraryUpdate,p=e.monomersLibraryReplace,h=e.isMacromoleculesEditorTurnedOn,v=(0,a.useRef)(null),g=r?(0,f.merge)(cs,r):cs,y=(0,f.merge)(ob,{ketcher:g});return(0,a.useEffect)(function(){is.dispatch(Ll(n))},[n]),c(s.Kq,{store:is,children:u(i.a,{theme:y,children:[c(d.mL,{styles:us}),c(Js,{rootRef:v,isMacromoleculesEditorTurnedOn:h,children:c(Lm,{ref:v,className:m.$2,children:c(ab,{ketcherId:n,theme:g,togglerComponent:o,monomersLibraryUpdate:l,monomersLibraryReplace:p,onInit:t})})})]})})}function ab(e){var t=e.theme,n=e.togglerComponent,o=e.monomersLibraryUpdate,i=e.monomersLibraryReplace,s=e.onInit,d=Gs(),p=(0,a.useRef)(null),f=Qs(ou),m=Qs(tc),v=Qs(ic),g=function(){var e,t,n=Qs(ec),o=(0,a.useState)(!1),i=(0,r.A)(o,2),l=i[0],c=i[1];try{t=h.qd$.getKetcher(n)}catch(e){h.$yr.error("Failed to get ketcher instance with id ".concat(n),e)}var u=(0,a.useCallback)(function(){return c(!0)},[c]),s=(0,a.useCallback)(function(){return c(!1)},[c]);return(0,a.useEffect)(function(){var e,n,r;return null===(e=t)||void 0===e||e.eventBus.addListener(h.i0C.LOADING,u),null===(n=t)||void 0===n||n.eventBus.addListener(h.i0C.SUCCESS,s),null===(r=t)||void 0===r||r.eventBus.addListener(h.i0C.FAILURE,s),function(){var e,n,r;null===(e=t)||void 0===e||e.eventBus.removeListener(h.i0C.LOADING,u),null===(n=t)||void 0===n||n.eventBus.removeListener(h.i0C.SUCCESS,s),null===(r=t)||void 0===r||r.eventBus.removeListener(h.i0C.FAILURE,s)}},[null===(e=t)||void 0===e?void 0:e.eventBus,s,u]),l}(),y=(0,a.useState)(!1),b=(0,r.A)(y,2),x=b[0],w=b[1],A=function(){var e=Qs(tc),t=Qs(nc),n=(0,a.useState)(t),o=(0,r.A)(n,2),i=o[0],l=o[1],c=(0,a.useCallback)(function(e){l(e)},[]);return(0,a.useEffect)(function(){return null==e||e.events.toggleSequenceEditInRNABuilderMode.add(c),function(){null==e||e.events.toggleSequenceEditInRNABuilderMode.remove(c)}},[c,e]),i}(),M=(0,a.useState)(),C=(0,r.A)(M,2),k=C[0],O=C[1],S=(0,a.useState)(),j=(0,r.A)(S,2),I=j[0],P=j[1],_=(0,a.useState)([]),E=(0,r.A)(_,2),N=E[0],L=E[1],D=(0,yt.EF)({id:xd.FOR_SEQUENCE}).show,T=(0,yt.EF)({id:xd.FOR_SELECTED_MONOMERS}).show;(0,a.useEffect)(function(){return d(zl({theme:t,canvas:p.current,monomersLibraryUpdate:o,monomersLibraryReplace:i,onInit:s})),function(){d(Rl(null))}},[d]),function(){var e=Gs(),t=Qs(tc),n=Qs(Uc);(0,a.useEffect)(function(){if(t){var r=t.monomersLibrary,o=n.length?n:t.defaultRnaPresetsLibraryItems,i=(0,ft.A)(Vs(r,o,!0)),a=su(),l=[],c=i.map(function(e){return e.name});if(a){var u,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fm(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(a);try{for(s.s();!(u=s.n()).done;){for(var d=u.value,p=0,f=d.name;c.includes(f);)p++,f="".concat(d.name).concat("_Copy".repeat(p));f!==d.name&&pu(Rm(Rm({},d),{},{name:f}))}}catch(e){s.e(e)}finally{s.f()}a=su(),l=Vs(r,a)}return e(Nc(r)),e(Dc(null)),e(Zu(i)),a&&e(Ju(l)),e(ns()),function(){e(Nc([])),e(rs())}}},[t,n])}(),(0,a.useEffect)(function(){var e=Tt.env.HELP_LINK||"master",t="https://github.com/epam/ketcher/blob/".concat(e,"/documentation/help.md#ketcher-macromolecules-mode"),n=function(e){if(!e.defaultPrevented){var n,r,o=e.target;o&&("INPUT"===o.tagName||"TEXTAREA"===o.tagName||o.isContentEditable||o.closest('[contenteditable="true"]'))||("?"===e.key||"/"===e.key&&e.shiftKey)&&!e.repeat&&(e.preventDefault(),null===(n=window.open(t,"_blank"))||void 0===n||null===(r=n.focus)||void 0===r||r.call(n))}};return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}},[]),(0,a.useEffect)(function(){null==m||m.events.rightClickSequence.add(function(e){var t=(0,r.A)(e,2),n=t[0],o=t[1];O(o),P(n),window.dispatchEvent(new Event("hidePreview")),d(Hl(!0)),D({event:n,props:{sequenceItemRenderer:n.target.__data__}})}),null==m||m.events.rightClickPolymerBond.add(function(e){var t=(0,r.A)(e,2),n=t[0],o=t[1];P(n),L([]),T({event:n,props:{polymerBondRenderer:o}})}),null==m||m.events.rightClickSelectedMonomers.add(function(e){var t=(0,r.A)(e,2),n=t[0],o=t[1];L(o),P(n),T({event:n,props:{selectedMonomers:o}})}),null==m||m.events.rightClickCanvas.add(function(e){var t=(0,r.A)(e,2),n=t[0],o=t[1];P(n),window.dispatchEvent(new Event("hidePreview")),d(Hl(!0)),m.mode instanceof h.zuW?(O(o),D({event:n,props:{}})):(L(o),T({event:n,props:{selectedMonomers:o}}))}),null==m||m.events.toggleMacromoleculesPropertiesVisibility.add(function(){d(Wl({}))})},[m]),(0,a.useEffect)(function(){return null==m||m.zoomTool.observeCanvasResize(),function(){null==m||m.zoomTool.destroy()}},[m]),(0,a.useEffect)(function(){var e=function(e){var t=e.detail;t&&d(Yl(t))};return window.addEventListener(h.wmv,e),function(){window.removeEventListener(h.wmv,e)}},[d]);var B=function(){d(Zc())},z=(0,a.useCallback)(function(){w(function(e){return!e})},[]);return u(l,{children:[u(Ns,{children:[u(Ns.Top,{shortened:!x,"data-testid":"top-toolbar",children:[c(hy,{}),u(Dm,{children:[c(Ty,{}),c(uv,{}),c(sg,{}),c(Tm,{className:A?"toggler-component-wrapper--disabled":"",children:n}),c(iv,{}),c(rb,{}),c($m,{}),c(iv,{}),c(ky,{})]})]}),c(Ns.Left,{children:c(my,{})}),u(Ns.Main,{children:[c(Ny,{}),c($y,{}),u(Bm,{id:"polymer-editor-canvas","data-testid":"ketcher-canvas","data-canvasmode":"macromolecules-mode",preserveAspectRatio:"xMidYMid meet",ref:p,width:"100%",height:"100%",style:{overflow:"hidden",overflowClipMargin:"content-box"},children:[u("defs",{children:[c(Cm,{}),c(Mm,{}),c(km,{}),c(Om,{}),c(Sm,{}),c(jm,{}),c(Im,{}),c(_m,{}),c(Pm,{})]}),c("g",{className:"drawn-structures","data-testid":"drawn-structures"}),v&&c("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent",pointerEvents:"all"})]}),g&&c(qm,{})]}),c(Ns.Right,{hide:x,children:c(af,{toggleLibraryVisibility:z})}),c(Ns.Bottom,{children:c(uy,{})}),c(Ns.InsideRoot,{children:x&&c(cf,{onClick:z})})]}),c(cg,{}),c(Yy,{}),c(kv,{selections:k,contextMenuEvent:I}),c(Ly,{selectedMonomers:N,contextMenuEvent:I}),c(bm,{}),c(Nm,{}),c(lt,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Boolean(f),onClose:B,autoHideDuration:6e3,children:u(xm,{id:"error-tooltip",children:[c(wm,{"data-testid":"error-tooltip",children:f}),c(Am,{testId:"error-tooltip-close",iconName:"close",onClick:B})]})})]})}},9325(e,t,n){var r=n(34840),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},9999(e,t,n){var r=n(37217),o=n(83729),i=n(16547),a=n(74733),l=n(43838),c=n(93290),u=n(23007),s=n(92271),d=n(48948),p=n(50002),f=n(83349),h=n(5861),m=n(76189),v=n(77199),g=n(35529),y=n(56449),b=n(3656),x=n(87730),w=n(23805),A=n(38440),M=n(95950),C=n(37241),k="[object Arguments]",O="[object Function]",S="[object Object]",j={};j[k]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[S]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[O]=j["[object WeakMap]"]=!1,e.exports=function e(t,n,I,P,_,E){var N,L=1&n,D=2&n,T=4&n;if(I&&(N=_?I(t,P,_,E):I(t)),void 0!==N)return N;if(!w(t))return t;var B=y(t);if(B){if(N=m(t),!L)return u(t,N)}else{var z=h(t),R=z==O||"[object GeneratorFunction]"==z;if(b(t))return c(t,L);if(z==S||z==k||R&&!_){if(N=D||R?{}:g(t),!L)return D?d(t,l(N,t)):s(t,a(N,t))}else{if(!j[z])return _?t:{};N=v(t,z,L)}}E||(E=new r);var F=E.get(t);if(F)return F;E.set(t,N),A(t)?t.forEach(function(r){N.add(e(r,n,I,r,t,E))}):x(t)&&t.forEach(function(r,o){N.set(o,e(r,n,I,o,t,E))});var H=B?void 0:(T?D?f:p:D?C:M)(t);return o(H||t,function(r,o){H&&(r=t[o=r]),i(N,o,e(r,n,I,o,t,E))}),N}},10392(e){e.exports=function(e,t){return null==e?void 0:e[t]}},10776(e,t,n){var r=n(30756),o=n(95950);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},11331(e,t,n){var r=n(72552),o=n(28879),i=n(40346),a=Function.prototype,l=Object.prototype,c=a.toString,u=l.hasOwnProperty,s=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==s}},12651(e,t,n){var r=n(74218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},12749(e,t,n){var r=n(81042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},13222(e,t,n){var r=n(77556);e.exports=function(e){return null==e?"":r(e)}},14248(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},14528(e){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},15389(e,t,n){var r=n(93663),o=n(87978),i=n(83488),a=n(56449),l=n(50583);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):l(e)}},16038(e,t,n){var r=n(5861),o=n(40346);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},16547(e,t,n){var r=n(43360),o=n(75288),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},17255(e,t,n){var r=n(47422);e.exports=function(e){return function(t){return r(t,e)}}},17400(e,t,n){var r=n(99374),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},17670(e,t,n){var r=n(12651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},19219(e){e.exports=function(e,t){return e.has(t)}},19570(e,t,n){var r=n(37334),o=n(93243),i=n(83488),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},19931(e,t,n){var r=n(31769),o=n(68090),i=n(68969),a=n(77797);e.exports=function(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[a(o(t))]}},20317(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},21549(e,t,n){var r=n(22032),o=n(63862),i=n(66721),a=n(12749),l=n(35749);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,e.exports=c},21791(e,t,n){var r=n(16547),o=n(43360);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var l=-1,c=t.length;++l<c;){var u=t[l],s=i?i(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),a?o(n,u,s):r(n,u,s)}return n}},21986(e,t,n){var r=n(51873),o=n(37828),i=n(75288),a=n(25911),l=n(20317),c=n(84247),u=r?r.prototype:void 0,s=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=l;case"[object Set]":var h=1&r;if(f||(f=c),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var v=a(f(e),f(t),r,u,d,p);return p.delete(e),v;case"[object Symbol]":if(s)return s.call(e)==s.call(t)}return!1}},22032(e,t,n){var r=n(81042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},23007(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},23805(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},24739(e,t,n){var r=n(26025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},25160(e){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},25911(e,t,n){var r=n(38859),o=n(14248),i=n(19219);e.exports=function(e,t,n,a,l,c){var u=1&n,s=e.length,d=t.length;if(s!=d&&!(u&&d>s))return!1;var p=c.get(e),f=c.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,v=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<s;){var g=e[h],y=t[h];if(a)var b=u?a(y,g,h,t,e,c):a(g,y,h,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!o(t,function(e,t){if(!i(v,t)&&(g===e||l(g,e,n,a,c)))return v.push(t)})){m=!1;break}}else if(g!==y&&!l(g,y,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},26025(e,t,n){var r=n(75288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},27301(e){e.exports=function(e){return function(t){return e(t)}}},27534(e,t,n){var r=n(72552),o=n(40346);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},28077(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},28303(e,t,n){var r=n(56110)(n(9325),"WeakMap");e.exports=r},28586(e,t,n){var r=n(56449),o=n(44394),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},28879(e,t,n){var r=n(74335)(Object.getPrototypeOf,Object);e.exports=r},29172(e,t,n){var r=n(5861),o=n(40346);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},29817(e){e.exports=function(e){return this.__data__.has(e)}},30294(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},30361(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},30641(e,t,n){var r=n(86649),o=n(95950);e.exports=function(e,t){return e&&r(e,t,o)}},30756(e,t,n){var r=n(23805);e.exports=function(e){return e==e&&!r(e)}},31175(e,t,n){var r=n(26025);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},31380(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},31769(e,t,n){var r=n(56449),o=n(28586),i=n(61802),a=n(13222);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},31800(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},32804(e,t,n){var r=n(56110)(n(9325),"Promise");e.exports=r},32865(e,t,n){var r=n(19570),o=n(51811)(r);e.exports=o},34840(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},34932(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},35529(e,t,n){var r=n(39344),o=n(28879),i=n(55527);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},35749(e,t,n){var r=n(81042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},35970(e,t,n){var r=n(83120);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},36944(e,t,n){var r=n(73893)("round");e.exports=r},37167(e,t,n){var r=n(4901),o=n(27301),i=n(86009),a=i&&i.isTypedArray,l=a?o(a):r;e.exports=l},37217(e,t,n){var r=n(80079),o=n(51420),i=n(90938),a=n(63605),l=n(29817),c=n(80945);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=l,u.prototype.set=c,e.exports=u},37241(e,t,n){var r=n(70695),o=n(72903),i=n(64894);e.exports=function(e){return i(e)?r(e,!0):o(e)}},37334(e){e.exports=function(e){return function(){return e}}},37828(e,t,n){var r=n(9325).Uint8Array;e.exports=r},38329(e,t,n){var r=n(64894);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,l=Object(n);(t?a--:++a<i)&&!1!==o(l[a],a,l););return n}}},38440(e,t,n){var r=n(16038),o=n(27301),i=n(86009),a=i&&i.isSet,l=a?o(a):r;e.exports=l},38816(e,t,n){var r=n(35970),o=n(56757),i=n(32865);e.exports=function(e){return i(o(e,void 0,r),e+"")}},38859(e,t,n){var r=n(53661),o=n(31380),i=n(51459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},39344(e,t,n){var r=n(23805),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},40346(e){e.exports=function(e){return null!=e&&"object"==typeof e}},41799(e,t,n){var r=n(37217),o=n(60270);e.exports=function(e,t,n,i){var a=n.length,l=a,c=!i;if(null==e)return!l;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<l;){var s=(u=n[a])[0],d=e[s],p=u[1];if(c&&u[2]){if(void 0===d&&!(s in e))return!1}else{var f=new r;if(i)var h=i(d,p,s,e,t,f);if(!(void 0===h?o(p,d,3,i,f):h))return!1}}return!0}},43360(e,t,n){var r=n(93243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},43838(e,t,n){var r=n(21791),o=n(37241);e.exports=function(e,t){return e&&r(t,o(t),e)}},44394(e,t,n){var r=n(72552),o=n(40346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},45083(e,t,n){var r=n(1882),o=n(87296),i=n(23805),a=n(47473),l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,s=c.toString,d=u.hasOwnProperty,p=RegExp("^"+s.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:l).test(a(e))}},45891(e,t,n){var r=n(51873),o=n(72428),i=n(56449),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},47237(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},47422(e,t,n){var r=n(31769),o=n(77797);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},47473(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},48655(e,t,n){var r=n(26025);e.exports=function(e){return r(this.__data__,e)>-1}},48948(e,t,n){var r=n(21791),o=n(86375);e.exports=function(e,t){return r(e,o(e),t)}},49326(e,t,n){var r=n(31769),o=n(72428),i=n(56449),a=n(30361),l=n(30294),c=n(77797);e.exports=function(e,t,n){for(var u=-1,s=(t=r(t,e)).length,d=!1;++u<s;){var p=c(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=s?d:!!(s=null==e?0:e.length)&&l(s)&&a(p,s)&&(i(e)||o(e))}},49653(e,t,n){var r=n(37828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},50002(e,t,n){var r=n(82199),o=n(4664),i=n(95950);e.exports=function(e){return r(e,i,o)}},50104(e,t,n){var r=n(53661);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},50583(e,t,n){var r=n(47237),o=n(17255),i=n(28586),a=n(77797);e.exports=function(e){return i(e)?r(a(e)):o(e)}},50689(e,t,n){var r=n(50002),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,l){var c=1&n,u=r(e),s=u.length;if(s!=r(t).length&&!c)return!1;for(var d=s;d--;){var p=u[d];if(!(c?p in t:o.call(t,p)))return!1}var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var m=!0;l.set(e,t),l.set(t,e);for(var v=c;++d<s;){var g=e[p=u[d]],y=t[p];if(i)var b=c?i(y,g,p,t,e,l):i(g,y,p,e,t,l);if(!(void 0===b?g===y||a(g,y,n,i,l):b)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return l.delete(e),l.delete(t),m}},51420(e,t,n){var r=n(80079);e.exports=function(){this.__data__=new r,this.size=0}},51459(e){e.exports=function(e){return this.__data__.has(e)}},51811(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},51873(e,t,n){var r=n(9325).Symbol;e.exports=r},53138(e,t,n){var r=n(11331);e.exports=function(e){return r(e)?void 0:e}},53661(e,t,n){var r=n(63040),o=n(17670),i=n(90289),a=n(4509),l=n(72949);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,e.exports=c},54128(e,t,n){var r=n(31800),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},55378(e,t,n){var r=n(34932),o=n(15389),i=n(5128),a=n(56449);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},55527(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},55580(e,t,n){var r=n(56110)(n(9325),"DataView");e.exports=r},56110(e,t,n){var r=n(45083),o=n(10392);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},56449(e){var t=Array.isArray;e.exports=t},56757(e,t,n){var r=n(91033),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,l=o(i.length-t,0),c=Array(l);++a<l;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},58156(e,t,n){var r=n(47422);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},59350(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},60270(e,t,n){var r=n(87068),o=n(40346);e.exports=function e(t,n,i,a,l){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,l))}},61489(e,t,n){var r=n(17400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},61802(e,t,n){var r=n(62224),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},62224(e,t,n){var r=n(50104);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},63040(e,t,n){var r=n(21549),o=n(80079),i=n(68223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},63345(e){e.exports=function(){return[]}},63605(e){e.exports=function(e){return this.__data__.get(e)}},63702(e){e.exports=function(){this.__data__=[],this.size=0}},63862(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},64894(e,t,n){var r=n(1882),o=n(30294);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},66721(e,t,n){var r=n(81042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},67197(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},68090(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},68223(e,t,n){var r=n(56110)(n(9325),"Map");e.exports=r},68969(e,t,n){var r=n(47422),o=n(25160);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},70080(e,t,n){var r=n(26025),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},70695(e,t,n){var r=n(78096),o=n(72428),i=n(56449),a=n(3656),l=n(30361),c=n(37167),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),s=!n&&o(e),d=!n&&!s&&a(e),p=!n&&!s&&!d&&c(e),f=n||s||d||p,h=f?r(e.length,String):[],m=h.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||l(v,m))||h.push(v);return h}},71961(e,t,n){var r=n(49653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},72428(e,t,n){var r=n(27534),o=n(40346),i=Object.prototype,a=i.hasOwnProperty,l=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!l.call(e,"callee")};e.exports=c},72552(e,t,n){var r=n(51873),o=n(659),i=n(59350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},72903(e,t,n){var r=n(23805),o=n(55527),i=n(90181),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var l in e)("constructor"!=l||!t&&a.call(e,l))&&n.push(l);return n}},72949(e,t,n){var r=n(12651);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},73201(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},73893(e,t,n){var r=n(9325),o=n(61489),i=n(99374),a=n(13222),l=r.isFinite,c=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=i(e),(n=null==n?0:c(o(n),292))&&l(e)){var r=(a(e)+"e").split("e"),u=t(r[0]+"e"+(+r[1]+n));return+((r=(a(u)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},74218(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},74335(e){e.exports=function(e,t){return function(n){return e(t(n))}}},74733(e,t,n){var r=n(21791),o=n(95950);e.exports=function(e,t){return e&&r(t,o(t),e)}},75288(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},76169(e,t,n){var r=n(49653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},76189(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},76545(e,t,n){var r=n(56110)(n(9325),"Set");e.exports=r},77199(e,t,n){var r=n(49653),o=n(76169),i=n(73201),a=n(93736),l=n(71961);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},77556(e,t,n){var r=n(51873),o=n(34932),i=n(56449),a=n(44394),l=r?r.prototype:void 0,c=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},77797(e,t,n){var r=n(44394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},77862(e,t,n){var r=n(9325)["__core-js_shared__"];e.exports=r},78096(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},79770(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},80079(e,t,n){var r=n(63702),o=n(70080),i=n(24739),a=n(48655),l=n(31175);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,e.exports=c},80631(e,t,n){var r=n(28077),o=n(49326);e.exports=function(e,t){return null!=e&&o(e,t,r)}},80909(e,t,n){var r=n(30641),o=n(38329)(r);e.exports=o},80945(e,t,n){var r=n(80079),o=n(68223),i=n(53661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},81042(e,t,n){var r=n(56110)(Object,"create");e.exports=r},82199(e,t,n){var r=n(14528),o=n(56449);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},83120(e,t,n){var r=n(14528),o=n(45891);e.exports=function e(t,n,i,a,l){var c=-1,u=t.length;for(i||(i=o),l||(l=[]);++c<u;){var s=t[c];n>0&&i(s)?n>1?e(s,n-1,i,a,l):r(l,s):a||(l[l.length]=s)}return l}},83221(e){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),l=a.length;l--;){var c=a[e?l:++o];if(!1===n(i[c],c,i))break}return t}}},83349(e,t,n){var r=n(82199),o=n(86375),i=n(37241);e.exports=function(e){return r(e,i,o)}},83488(e){e.exports=function(e){return e}},83729(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},84247(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},86009(e,t,n){e=n.nmd(e);var r=n(34840),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,l=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=l},86375(e,t,n){var r=n(14528),o=n(28879),i=n(4664),a=n(63345),l=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=l},86649(e,t,n){var r=n(83221)();e.exports=r},87068(e,t,n){var r=n(37217),o=n(25911),i=n(21986),a=n(50689),l=n(5861),c=n(56449),u=n(3656),s=n(37167),d="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=c(e),b=c(t),x=y?p:l(e),w=b?p:l(t),A=(x=x==d?f:x)==f,M=(w=w==d?f:w)==f,C=x==w;if(C&&u(e)){if(!u(t))return!1;y=!0,A=!1}if(C&&!A)return g||(g=new r),y||s(e)?o(e,t,n,m,v,g):i(e,t,x,n,m,v,g);if(!(1&n)){var k=A&&h.call(e,"__wrapped__"),O=M&&h.call(t,"__wrapped__");if(k||O){var S=k?e.value():e,j=O?t.value():t;return g||(g=new r),v(S,j,n,m,g)}}return!!C&&(g||(g=new r),a(e,t,n,m,v,g))}},87296(e,t,n){var r,o=n(77862),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},87730(e,t,n){var r=n(29172),o=n(27301),i=n(86009),a=i&&i.isMap,l=a?o(a):r;e.exports=l},87978(e,t,n){var r=n(60270),o=n(58156),i=n(80631),a=n(28586),l=n(30756),c=n(67197),u=n(77797);e.exports=function(e,t){return a(e)&&l(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},88984(e,t,n){var r=n(55527),o=n(3650),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},89935(e){e.exports=function(){return!1}},90179(e,t,n){var r=n(34932),o=n(9999),i=n(19931),a=n(31769),l=n(21791),c=n(53138),u=n(38816),s=n(83349),d=u(function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,function(t){return t=a(t,e),u||(u=t.length>1),t}),l(e,s(e),n),u&&(n=o(n,7,c));for(var d=t.length;d--;)i(n,t[d]);return n});e.exports=d},90181(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},90289(e,t,n){var r=n(12651);e.exports=function(e){return r(this,e).get(e)}},90938(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},91033(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},92271(e,t,n){var r=n(21791),o=n(4664);e.exports=function(e,t){return r(e,o(e),t)}},93243(e,t,n){var r=n(56110),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},93290(e,t,n){e=n.nmd(e);var r=n(9325),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,l=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}},93663(e,t,n){var r=n(41799),o=n(10776),i=n(67197);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},93736(e,t,n){var r=n(51873),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},95950(e,t,n){var r=n(70695),o=n(88984),i=n(64894);e.exports=function(e){return i(e)?r(e):o(e)}},99374(e,t,n){var r=n(54128),o=n(23805),i=n(44394),a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}}}]);
//# sourceMappingURL=966.bundle.js.map